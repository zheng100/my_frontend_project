{"ast":null,"code":"/**\n * @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\nimport { ENV, keep, scalar, tidy, util, onesLike, tensor1d, where, zerosLike, train, cast, dispose, memory, serialization, nextFrame, add, mul, div, Tensor, Optimizer, mean, io, transpose, expandDims, reverse, unstack, stack, zeros, sum, split, neg, variable, ones, eye, randomUniform, truncatedNormal, randomNormal, sub, sqrt, mulStrict, clipByValue, relu, linalg, leakyRelu, prelu, elu, conv1d, conv2d, conv2dTranspose, separableConv2d, depthwiseConv2d, notEqual, logicalAnd, maximum, minimum, concat, all, batchNormalization2d, batchNormalization3d, batchNormalization4d, moments, pad, maxPool, avgPool, squeeze, max, abs, log, softplus, softmax, floor, oneHot, greater, equal, argMax, slice1d, slice2d, slice3d, slice4d, concat1d, concat2d, concat3d, concat4d, tile, matMul, gather, step, min, selu, sigmoid, tanh } from \"@tensorflow/tfjs-core\";\n\nvar extendStatics = function (e, t) {\n  return (extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (e, t) {\n    e.__proto__ = t;\n  } || function (e, t) {\n    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);\n  })(e, t);\n};\n\nfunction __extends(e, t) {\n  function n() {\n    this.constructor = e;\n  }\n\n  extendStatics(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n());\n}\n\nvar _epsilon,\n    __assign = function () {\n  return (__assign = Object.assign || function (e) {\n    for (var t, n = 1, r = arguments.length; n < r; n++) for (var i in t = arguments[n]) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);\n\n    return e;\n  }).apply(this, arguments);\n};\n\nfunction __awaiter(e, t, n, r) {\n  return new (n || (n = Promise))(function (i, a) {\n    function o(e) {\n      try {\n        l(r.next(e));\n      } catch (e) {\n        a(e);\n      }\n    }\n\n    function s(e) {\n      try {\n        l(r.throw(e));\n      } catch (e) {\n        a(e);\n      }\n    }\n\n    function l(e) {\n      e.done ? i(e.value) : new n(function (t) {\n        t(e.value);\n      }).then(o, s);\n    }\n\n    l((r = r.apply(e, t || [])).next());\n  });\n}\n\nfunction __generator(e, t) {\n  var n,\n      r,\n      i,\n      a,\n      o = {\n    label: 0,\n    sent: function () {\n      if (1 & i[0]) throw i[1];\n      return i[1];\n    },\n    trys: [],\n    ops: []\n  };\n  return a = {\n    next: s(0),\n    throw: s(1),\n    return: s(2)\n  }, \"function\" == typeof Symbol && (a[Symbol.iterator] = function () {\n    return this;\n  }), a;\n\n  function s(a) {\n    return function (s) {\n      return function (a) {\n        if (n) throw new TypeError(\"Generator is already executing.\");\n\n        for (; o;) try {\n          if (n = 1, r && (i = 2 & a[0] ? r.return : a[0] ? r.throw || ((i = r.return) && i.call(r), 0) : r.next) && !(i = i.call(r, a[1])).done) return i;\n\n          switch (r = 0, i && (a = [2 & a[0], i.value]), a[0]) {\n            case 0:\n            case 1:\n              i = a;\n              break;\n\n            case 4:\n              return o.label++, {\n                value: a[1],\n                done: !1\n              };\n\n            case 5:\n              o.label++, r = a[1], a = [0];\n              continue;\n\n            case 7:\n              a = o.ops.pop(), o.trys.pop();\n              continue;\n\n            default:\n              if (!(i = (i = o.trys).length > 0 && i[i.length - 1]) && (6 === a[0] || 2 === a[0])) {\n                o = 0;\n                continue;\n              }\n\n              if (3 === a[0] && (!i || a[1] > i[0] && a[1] < i[3])) {\n                o.label = a[1];\n                break;\n              }\n\n              if (6 === a[0] && o.label < i[1]) {\n                o.label = i[1], i = a;\n                break;\n              }\n\n              if (i && o.label < i[2]) {\n                o.label = i[2], o.ops.push(a);\n                break;\n              }\n\n              i[2] && o.ops.pop(), o.trys.pop();\n              continue;\n          }\n\n          a = t.call(e, o);\n        } catch (e) {\n          a = [6, e], r = 0;\n        } finally {\n          n = i = 0;\n        }\n\n        if (5 & a[0]) throw a[1];\n        return {\n          value: a[0] ? a[1] : void 0,\n          done: !0\n        };\n      }([a, s]);\n    };\n  }\n}\n\nfunction epsilon() {\n  return null == _epsilon && (_epsilon = ENV.get(\"EPSILON\")), _epsilon;\n}\n\nfunction imageDataFormat() {\n  return \"channelsLast\";\n}\n\nvar _nextUniqueTensorId = 0;\n\nfunction getNextUniqueTensorId() {\n  return _nextUniqueTensorId++;\n}\n\nvar _uidPrefixes = {};\n\nfunction getUid(e) {\n  return void 0 === e && (e = \"\"), e in _uidPrefixes || (_uidPrefixes[e] = 0), _uidPrefixes[e] += 1, e + _uidPrefixes[e].toString();\n}\n\nvar scalarCache = {\n  float32: {},\n  int32: {}\n},\n    DEFAULT_DTYPE = \"float32\";\n\nfunction getScalar(e, t) {\n  return void 0 === t && (t = DEFAULT_DTYPE), null == scalarCache[t][e] && (scalarCache[t][e] = scalar(e, t), keep(scalarCache[t][e])), scalarCache[t][e];\n}\n\nvar AttributeError = function (e) {\n  function t(n) {\n    var r = e.call(this, n) || this;\n    return Object.setPrototypeOf(r, t.prototype), r;\n  }\n\n  return __extends(t, e), t;\n}(Error),\n    RuntimeError = function (e) {\n  function t(n) {\n    var r = e.call(this, n) || this;\n    return Object.setPrototypeOf(r, t.prototype), r;\n  }\n\n  return __extends(t, e), t;\n}(Error),\n    ValueError = function (e) {\n  function t(n) {\n    var r = e.call(this, n) || this;\n    return Object.setPrototypeOf(r, t.prototype), r;\n  }\n\n  return __extends(t, e), t;\n}(Error),\n    NotImplementedError = function (e) {\n  function t(n) {\n    var r = e.call(this, n) || this;\n    return Object.setPrototypeOf(r, t.prototype), r;\n  }\n\n  return __extends(t, e), t;\n}(Error),\n    AssertionError = function (e) {\n  function t(n) {\n    var r = e.call(this, n) || this;\n    return Object.setPrototypeOf(r, t.prototype), r;\n  }\n\n  return __extends(t, e), t;\n}(Error),\n    IndexError = function (e) {\n  function t(n) {\n    var r = e.call(this, n) || this;\n    return Object.setPrototypeOf(r, t.prototype), r;\n  }\n\n  return __extends(t, e), t;\n}(Error);\n\nfunction pyListRepeat(e, t) {\n  if (Array.isArray(e)) {\n    for (var n = [], r = 0; r < t; r++) n = n.concat(e);\n\n    return n;\n  }\n\n  return (n = new Array(t)).fill(e), n;\n}\n\nfunction assert(e, t) {\n  if (!e) throw new AssertionError(t);\n}\n\nfunction count(e, t) {\n  for (var n = 0, r = 0, i = e; r < i.length; r++) {\n    i[r] === t && n++;\n  }\n\n  return n;\n}\n\nfunction singletonOrArray(e) {\n  return 1 === e.length ? e[0] : e;\n}\n\nfunction toList(e) {\n  return Array.isArray(e) ? e : [e];\n}\n\nfunction toSnakeCase(e) {\n  var t = e.replace(/(.)([A-Z][a-z0-9]+)/g, \"$1_$2\").replace(/([a-z])([A-Z])/g, \"$1_$2\").toLowerCase();\n  return \"_\" !== t[0] ? t : \"private\" + t;\n}\n\nfunction toCamelCase(e) {\n  return e.length <= 1 ? e : -1 === e.indexOf(\"_\") ? e : e.replace(/[_]+(\\w|$)/g, function (e, t) {\n    return t.toUpperCase();\n  });\n}\n\nvar _GLOBAL_CUSTOM_OBJECTS = {};\n\nfunction serializeKerasObject(e) {\n  return null === e || void 0 === e ? null : {\n    className: e.getClassName(),\n    config: e.getConfig()\n  };\n}\n\nfunction deserializeKerasObject(e, t, n, r, i) {\n  if (void 0 === t && (t = {}), void 0 === n && (n = {}), void 0 === r && (r = \"object\"), void 0 === i && (i = !1), \"string\" == typeof e) {\n    var a = e,\n        o = void 0;\n    if (a in n) o = n[a];else if (a in _GLOBAL_CUSTOM_OBJECTS) o = _GLOBAL_CUSTOM_OBJECTS[a];else if (null == (o = t[a])) throw new ValueError(\"Unknown \" + r + \": \" + e + \". This may be due to one of the following reasons:\\n1. The \" + r + \" is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.\\n2. The custom \" + r + \" is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().\");\n    return o;\n  }\n\n  var s = e;\n  if (null == s.className || null == s.config) throw new ValueError(r + \": Improper config format: \" + JSON.stringify(s) + \".\\n'className' and 'config' must set.\");\n  var l = s.className,\n      u = void 0,\n      c = void 0;\n  if (l in n ? (u = (I = n.get(l))[0], c = I[1]) : l in _GLOBAL_CUSTOM_OBJECTS ? (u = (A = _GLOBAL_CUSTOM_OBJECTS.className)[0], c = A[1]) : l in t && (u = (_ = t[l])[0], c = _[1]), null == u) throw new ValueError(\"Unknown \" + r + \": \" + l + \". This may be due to one of the following reasons:\\n1. The \" + r + \" is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.\\n2. The custom \" + r + \" is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().\");\n\n  if (null != c) {\n    for (var h = {}, p = 0, d = Object.keys(_GLOBAL_CUSTOM_OBJECTS); p < d.length; p++) {\n      h[b = d[p]] = _GLOBAL_CUSTOM_OBJECTS[b];\n    }\n\n    for (var g = 0, f = Object.keys(n); g < f.length; g++) {\n      h[b = f[g]] = n[b];\n    }\n\n    s.config.customObjects = h;\n\n    for (var m = __assign({}, _GLOBAL_CUSTOM_OBJECTS), y = 0, v = Object.keys(n); y < v.length; y++) {\n      var b = v[y];\n      _GLOBAL_CUSTOM_OBJECTS[b] = n[b];\n    }\n\n    var w = c(u, s.config, n, i);\n    return _GLOBAL_CUSTOM_OBJECTS = __assign({}, m), w;\n  }\n\n  m = __assign({}, _GLOBAL_CUSTOM_OBJECTS);\n\n  for (var z = 0, S = Object.keys(n); z < S.length; z++) {\n    b = S[z];\n    _GLOBAL_CUSTOM_OBJECTS[b] = n[b];\n  }\n\n  var I, A, _;\n\n  w = new u(s.config);\n  return _GLOBAL_CUSTOM_OBJECTS = __assign({}, m), w;\n}\n\nfunction numberCompare(e, t) {\n  return e < t ? -1 : e > t ? 1 : 0;\n}\n\nfunction reverseNumberCompare(e, t) {\n  return -1 * numberCompare(e, t);\n}\n\nfunction stringToDType(e) {\n  switch (e) {\n    case \"float32\":\n      return \"float32\";\n\n    default:\n      throw new ValueError(\"Invalid dtype: \" + e);\n  }\n}\n\nfunction unique(e) {\n  if (null == e) return e;\n\n  for (var t = [], n = 0, r = e; n < r.length; n++) {\n    var i = r[n];\n    -1 === t.indexOf(i) && t.push(i);\n  }\n\n  return t;\n}\n\nfunction isObjectEmpty(e) {\n  if (null == e) throw new ValueError(\"Invalid value in obj: \" + JSON.stringify(e));\n\n  for (var t in e) if (e.hasOwnProperty(t)) return !1;\n\n  return !0;\n}\n\nfunction checkStringTypeUnionValue(e, t, n) {\n  if (null != n && e.indexOf(n) < 0) throw new ValueError(n + \" is not a valid \" + t + \".  Valid values are \" + e + \" or null/undefined.\");\n}\n\nfunction checkArrayTypeAndLength(e, t, n, r) {\n  return void 0 === n && (n = 0), void 0 === r && (r = 1 / 0), assert(n >= 0), assert(r >= n), Array.isArray(e) && e.length >= n && e.length <= r && e.every(function (e) {\n    return typeof e === t;\n  });\n}\n\nfunction calcL2Norms(e, t) {\n  return tidy(function () {\n    return sqrt(sum(mulStrict(e, e), t, !0));\n  });\n}\n\nvar Constraint = function (e) {\n  function t() {\n    return null !== e && e.apply(this, arguments) || this;\n  }\n\n  return __extends(t, e), t.prototype.getConfig = function () {\n    return {};\n  }, t;\n}(serialization.Serializable),\n    MaxNorm = function (e) {\n  function t(t) {\n    var n = e.call(this) || this;\n    return n.defaultMaxValue = 2, n.defaultAxis = 0, n.maxValue = null != t.maxValue ? t.maxValue : n.defaultMaxValue, n.axis = null != t.axis ? t.axis : n.defaultAxis, n;\n  }\n\n  return __extends(t, e), t.prototype.apply = function (e) {\n    var t = this;\n    return tidy(function () {\n      var n = calcL2Norms(e, t.axis),\n          r = clipByValue(n, 0, t.maxValue);\n      return mul(e, div(r, add(getScalar(epsilon()), n)));\n    });\n  }, t.prototype.getConfig = function () {\n    return {\n      maxValue: this.maxValue,\n      axis: this.axis\n    };\n  }, t.className = \"MaxNorm\", t;\n}(Constraint);\n\nserialization.registerClass(MaxNorm);\n\nvar UnitNorm = function (e) {\n  function t(t) {\n    var n = e.call(this) || this;\n    return n.defaultAxis = 0, n.axis = null != t.axis ? t.axis : n.defaultAxis, n;\n  }\n\n  return __extends(t, e), t.prototype.apply = function (e) {\n    var t = this;\n    return tidy(function () {\n      return div(e, add(getScalar(epsilon()), calcL2Norms(e, t.axis)));\n    });\n  }, t.prototype.getConfig = function () {\n    return {\n      axis: this.axis\n    };\n  }, t.className = \"UnitNorm\", t;\n}(Constraint);\n\nserialization.registerClass(UnitNorm);\n\nvar NonNeg = function (e) {\n  function t() {\n    return null !== e && e.apply(this, arguments) || this;\n  }\n\n  return __extends(t, e), t.prototype.apply = function (e) {\n    return relu(e);\n  }, t.className = \"NonNeg\", t;\n}(Constraint);\n\nserialization.registerClass(NonNeg);\n\nvar MinMaxNorm = function (e) {\n  function t(t) {\n    var n = e.call(this) || this;\n    return n.defaultMinValue = 0, n.defaultMaxValue = 1, n.defaultRate = 1, n.defaultAxis = 0, n.minValue = null != t.minValue ? t.minValue : n.defaultMinValue, n.maxValue = null != t.maxValue ? t.maxValue : n.defaultMaxValue, n.rate = null != t.rate ? t.rate : n.defaultRate, n.axis = null != t.axis ? t.axis : n.defaultAxis, n;\n  }\n\n  return __extends(t, e), t.prototype.apply = function (e) {\n    var t = this;\n    return tidy(function () {\n      var n = calcL2Norms(e, t.axis),\n          r = add(mul(getScalar(t.rate), clipByValue(n, t.minValue, t.maxValue)), mul(getScalar(1 - t.rate), n));\n      return mul(e, div(r, add(getScalar(epsilon()), n)));\n    });\n  }, t.prototype.getConfig = function () {\n    return {\n      minValue: this.minValue,\n      maxValue: this.maxValue,\n      rate: this.rate,\n      axis: this.axis\n    };\n  }, t.className = \"MinMaxNorm\", t;\n}(Constraint);\n\nserialization.registerClass(MinMaxNorm);\nvar CONSTRAINT_IDENTIFIER_REGISTRY_SYMBOL_MAP = {\n  maxNorm: \"MaxNorm\",\n  minMaxNorm: \"MinMaxNorm\",\n  nonNeg: \"NonNeg\",\n  unitNorm: \"UnitNorm\"\n};\n\nfunction serializeConstraint(e) {\n  return serializeKerasObject(e);\n}\n\nfunction deserializeConstraint(e, t) {\n  return void 0 === t && (t = {}), deserializeKerasObject(e, serialization.SerializationMap.getMap().classNameMap, t, \"constraint\");\n}\n\nfunction getConstraint(e) {\n  return null == e ? null : \"string\" == typeof e ? deserializeConstraint({\n    className: e in CONSTRAINT_IDENTIFIER_REGISTRY_SYMBOL_MAP ? CONSTRAINT_IDENTIFIER_REGISTRY_SYMBOL_MAP[e] : e,\n    config: {}\n  }) : e instanceof Constraint ? e : deserializeConstraint(e);\n}\n\nfunction maxNorm(e) {\n  return new MaxNorm(e);\n}\n\nfunction unitNorm(e) {\n  return new UnitNorm(e);\n}\n\nfunction nonNeg() {\n  return new NonNeg();\n}\n\nfunction minMaxNorm(e) {\n  return new MinMaxNorm(e);\n}\n\nvar exports_constraints = Object.freeze({\n  maxNorm: maxNorm,\n  unitNorm: unitNorm,\n  nonNeg: nonNeg,\n  minMaxNorm: minMaxNorm\n}),\n    nameMap = new Map(),\n    VALID_DATA_FORMAT_VALUES = [\"channelsFirst\", \"channelsLast\"];\n\nfunction checkDataFormat(e) {\n  checkStringTypeUnionValue(VALID_DATA_FORMAT_VALUES, \"DataFormat\", e);\n}\n\nvar VALID_PADDING_MODE_VALUES = [\"valid\", \"same\", \"causal\"];\n\nfunction checkPaddingMode(e) {\n  checkStringTypeUnionValue(VALID_PADDING_MODE_VALUES, \"PaddingMode\", e);\n}\n\nvar VALID_POOL_MODE_VALUES = [\"max\", \"avg\"];\n\nfunction checkPoolMode(e) {\n  checkStringTypeUnionValue(VALID_POOL_MODE_VALUES, \"PoolMode\", e);\n}\n\nvar _nameScopeStack = [],\n    _nameScopeDivider = \"/\";\n\nfunction nameScope(e, t) {\n  _nameScopeStack.push(e);\n\n  try {\n    var n = t();\n    return _nameScopeStack.pop(), n;\n  } catch (e) {\n    throw _nameScopeStack.pop(), e;\n  }\n}\n\nfunction currentNameScopePrefix() {\n  return 0 === _nameScopeStack.length ? \"\" : _nameScopeStack.join(_nameScopeDivider) + _nameScopeDivider;\n}\n\nfunction getScopedTensorName(e) {\n  if (!isValidTensorName(e)) throw new Error(\"Not a valid tensor name: '\" + e + \"'\");\n  return currentNameScopePrefix() + e;\n}\n\nfunction getUniqueTensorName(e) {\n  if (!isValidTensorName(e)) throw new Error(\"Not a valid tensor name: '\" + e + \"'\");\n  nameMap.has(e) || nameMap.set(e, 0);\n  var t = nameMap.get(e);\n\n  if (nameMap.set(e, nameMap.get(e) + 1), t > 0) {\n    var n = e + \"_\" + t;\n    return nameMap.set(n, 1), n;\n  }\n\n  return e;\n}\n\nvar tensorNameRegex = new RegExp(/^[A-Za-z][-A-Za-z0-9\\._\\/]*$/);\n\nfunction isValidTensorName(e) {\n  return !!e.match(tensorNameRegex);\n}\n\nfunction isInteger(e) {\n  return e === parseInt(e.toString(), 10);\n}\n\nfunction arrayProd(e, t, n) {\n  null == t && (t = 0), null == n && (n = e.length);\n\n  for (var r = 1, i = t; i < n; ++i) r *= e[i];\n\n  return r;\n}\n\nfunction toArray1D(e) {\n  return e = Array.isArray(e) ? new Float32Array(e) : e, tensor1d(e);\n}\n\nfunction min$1(e) {\n  return min(toArray1D(e)).dataSync()[0];\n}\n\nfunction max$1(e) {\n  return max(toArray1D(e)).dataSync()[0];\n}\n\nfunction range(e, t) {\n  if (t < e) throw new ValueError(\"end (\" + t + \") < begin (\" + e + \") is forbidden.\");\n\n  for (var n = [], r = e; r < t; ++r) n.push(r);\n\n  return n;\n}\n\nfunction cast$1(e, t) {\n  return e.asType(t);\n}\n\nfunction expandDims$1(e, t) {\n  void 0 === t && (t = -1);\n  var n = e.shape.slice();\n  return t < 0 && (t = n.length + t + 1), n.splice(t, 0, 1), e.reshape(n);\n}\n\nfunction repeat(e, t) {\n  return tidy(function () {\n    if (2 !== e.shape.length) throw new ValueError(\"repeat() expects a rank-2 tensor, but received a rank-\" + e.shape.length + \" tensor.\");\n    return tile$1(expandDims$1(e, 1), [1, t, 1]);\n  });\n}\n\nfunction flatten(e) {\n  var t = [arrayProd(e.shape)];\n  return e.reshape(t);\n}\n\nfunction batchFlatten(e) {\n  if (e.rank <= 1) throw new ValueError(\"batchFlatten requires a minimum rank of 2. Got rank: \" + e.rank + \".\");\n  var t = [e.shape[0], arrayProd(e.shape, 1)];\n  return e.reshape(t);\n}\n\nfunction sliceAlongFirstAxis(e, t, n) {\n  return tidy(function () {\n    switch (e.rank) {\n      case 1:\n        return slice1d(e, t, n);\n\n      case 2:\n        return slice2d(e, [t, 0], [n, e.shape[1]]);\n\n      case 3:\n        return slice3d(e, [t, 0, 0], [n, e.shape[1], e.shape[2]]);\n\n      case 4:\n        return slice4d(e, [t, 0, 0, 0], [n, e.shape[1], e.shape[2], e.shape[3]]);\n\n      default:\n        throw new ValueError(\"sliceAlongFirstAxis() received an unsupported tensor rank: \" + e.rank);\n    }\n  });\n}\n\nfunction sliceAlongLastAxis(e, t, n) {\n  return tidy(function () {\n    switch (e.rank) {\n      case 1:\n        return slice1d(e, t, n);\n\n      case 2:\n        return slice2d(e, [0, t], [e.shape[0], n]);\n\n      case 3:\n        return slice3d(e, [0, 0, t], [e.shape[0], e.shape[1], n]);\n\n      case 4:\n        return slice4d(e, [0, 0, 0, t], [e.shape[0], e.shape[1], e.shape[2], n]);\n\n      default:\n        throw new ValueError(\"sliceAlongLastAxis() received an unsupported tensor rank: \" + e.rank);\n    }\n  });\n}\n\nfunction sliceAlongAxis(e, t, n, r) {\n  return tidy(function () {\n    switch (e.rank) {\n      case 1:\n        return slice1d(e, t, n);\n\n      case 2:\n        switch (r) {\n          case 1:\n            return sliceAlongFirstAxis(e, t, n);\n\n          case 2:\n            return sliceAlongLastAxis(e, t, n);\n\n          default:\n            throw new ValueError(\"The axis is not within the rank of the tensor \" + r);\n        }\n\n      case 3:\n        switch (r) {\n          case 1:\n            return sliceAlongFirstAxis(e, t, n);\n\n          case 2:\n            return slice3d(e, [0, t, 0], [e.shape[0], n, e.shape[2]]);\n\n          case 3:\n            return sliceAlongLastAxis(e, t, n);\n\n          default:\n            throw new ValueError(\"The axis is not within the rank of the tensor \" + r);\n        }\n\n      case 4:\n        switch (r) {\n          case 1:\n            return sliceAlongFirstAxis(e, t, n);\n\n          case 2:\n            return slice4d(e, [0, t, 0, 0], [e.shape[0], n, e.shape[2], e.shape[3]]);\n\n          case 3:\n            return slice4d(e, [0, 0, t, 0], [e.shape[0], e.shape[1], n, e.shape[3]]);\n\n          case 4:\n            return sliceAlongLastAxis(e, t, n);\n\n          default:\n            throw new ValueError(\"The axis is not within the rank of the tensor \" + r);\n        }\n\n      default:\n        throw new ValueError(\"sliceAlongLastAxis() received an unsupported tensor rank: \" + e.rank);\n    }\n  });\n}\n\nfunction concatenate(e, t) {\n  var n;\n  return void 0 === t && (t = -1), t < 0 && (t = 0 !== (n = e[0].rank) ? n : 0), t === e[0].rank && (t = -1), concat(e, t);\n}\n\nfunction concatAlongFirstAxis(e, t) {\n  switch (e.rank) {\n    case 1:\n      return concat1d([e, t]);\n\n    case 2:\n      return concat2d([e, t], 0);\n\n    case 3:\n      return concat3d([e, t], 0);\n\n    case 4:\n      return concat4d([e, t], 0);\n\n    default:\n      throw new ValueError(\"concatAlongFirstAxis() received an unsupported tensor rank: \" + e.rank);\n  }\n}\n\nfunction tile$1(e, t) {\n  if (Array.isArray(t) || (t = [t]), e.rank !== t.length) throw new ValueError(\"The length of input n (\" + t.length + \") does not match the number of dimensions in input x (\" + e.rank + \")\");\n  return tile(e, t);\n}\n\nfunction randomNormal$1(e, t, n, r, i) {\n  return void 0 === t && (t = 0), void 0 === n && (n = 1), randomNormal(e, t, n, r, i);\n}\n\nfunction dot(e, t) {\n  if (e.rank < 2 || t.rank < 2) throw new NotImplementedError(\"dot requires both inputs to be rank >= 2 but got x shape = \" + e.shape + \" and y shape = \" + t.shape);\n  if (t.rank >= 3 && (r = e.shape.slice(-1)[0]) !== (o = t.shape.slice(-2)[0])) throw new NotImplementedError(\"If rank y >= 3, then the second last dim of y must equal the last dim of x but got x shape = \" + e.shape + \" and  y shape = \" + t.shape);\n  if (2 === e.rank && 2 === t.rank) return matMul(e, t);\n  var n = e.shape.slice(),\n      r = n.pop();\n  e = e.reshape([-1, r]);\n  var i = t.shape.slice(),\n      a = i.pop(),\n      o = i.pop(),\n      s = i.concat([a]),\n      l = Array.from({\n    length: t.rank\n  }, function (e, n) {\n    return 0 === n ? t.rank - 2 : n <= t.rank - 2 ? n - 1 : n;\n  });\n  t = t.transpose(l).reshape([o, -1]);\n  var u = n.concat(s);\n  return matMul(e, t).reshape(u);\n}\n\nfunction gather$1(e, t, n) {\n  return tidy(function () {\n    return t = Array.isArray(t) ? tensor1d(t, \"int32\") : t.toInt(), gather(e, t, n);\n  });\n}\n\nfunction square(e) {\n  return mulStrict(e, e);\n}\n\nfunction biasAdd(e, t, n) {\n  return tidy(function () {\n    if (null == n && (n = imageDataFormat()), checkDataFormat(n), 1 !== t.rank && t.rank !== e.rank) throw new ValueError(\"Unexpected bias dimensions: \" + t.rank + \"; expected it to be 1 or \" + e.rank);\n    var r,\n        i = t.shape;\n    if (5 === e.rank) \"channelsFirst\" === n ? r = 1 === i.length ? e.add(t.reshape([1, i[0], 1, 1, 1])) : e.add(t.reshape([1, i[3], i[0], i[1], i[2]])) : \"channelsLast\" === n && (r = 1 === i.length ? e.add(t.reshape([1, 1, 1, 1, i[0]])) : e.add(t.reshape([1].concat(i))));else if (4 === e.rank) \"channelsFirst\" === n ? r = 1 === i.length ? e.add(t.reshape([1, i[0], 1, 1])) : e.add(t.reshape([1, i[2], i[0], i[1]])) : \"channelsLast\" === n && (r = 1 === i.length ? e.add(t.reshape([1, 1, 1, i[0]])) : e.add(t.reshape([1].concat(i))));else if (3 === e.rank) \"channelsFirst\" === n ? r = 1 === i.length ? e.add(t.reshape([1, i[0], 1])) : e.add(t.reshape([1, i[1], i[0]])) : \"channelsLast\" === n && (r = 1 === i.length ? e.add(t.reshape([1, 1, i[0]])) : e.add(t.reshape([1].concat(i))));else {\n      if (!(e.rank < 3)) throw new ValueError(\"Unsupported input rank by biasAdd: \" + e.rank);\n      r = e.add(t);\n    }\n    return r;\n  });\n}\n\nfunction elu$1(e, t) {\n  if (void 0 === t && (t = 1), 1 !== t) throw new NotImplementedError(\"Support for alpha values other than 1 (\" + t + \") is not implemented yet.\");\n  return elu(e);\n}\n\nfunction softsign(e) {\n  return tidy(function () {\n    return div(e, add(getScalar(1), abs(e)));\n  });\n}\n\nfunction dropout(e, t, n, r) {\n  return tidy(function () {\n    if (null != n && !util.arraysEqual(e.shape, n)) throw new NotImplementedError(\"Non-default noise shape is not implemented yet: \" + JSON.stringify(n));\n    if (null != r) throw new NotImplementedError(\"seed is not implemented for dropout yet.\");\n    var i = step(add(neg(t), randomUniform(e.shape, 0, 1, \"float32\")));\n    return i = mul(div(getScalar(1), sub(getScalar(1), t)), i), mul(e, i);\n  });\n}\n\nfunction hardSigmoid(e) {\n  return tidy(function () {\n    var t = add(getScalar(.5), mul(getScalar(.2), e));\n    return clipByValue(t, 0, 1);\n  });\n}\n\nfunction inTrainPhase(e, t, n) {\n  return void 0 === n && (n = !1), n ? e() : t();\n}\n\nvar VALID_FAN_MODE_VALUES = [\"fanIn\", \"fanOut\", \"fanAvg\"];\n\nfunction checkFanMode(e) {\n  checkStringTypeUnionValue(VALID_FAN_MODE_VALUES, \"FanMode\", e);\n}\n\nvar VALID_DISTRIBUTION_VALUES = [\"normal\", \"uniform\"];\n\nfunction checkDistribution(e) {\n  checkStringTypeUnionValue(VALID_DISTRIBUTION_VALUES, \"Distribution\", e);\n}\n\nvar Initializer = function (e) {\n  function t() {\n    return null !== e && e.apply(this, arguments) || this;\n  }\n\n  return __extends(t, e), t.prototype.fromConfigUsesCustomObjects = function () {\n    return !1;\n  }, t.prototype.getConfig = function () {\n    return {};\n  }, t;\n}(serialization.Serializable),\n    Zeros = function (e) {\n  function t() {\n    return null !== e && e.apply(this, arguments) || this;\n  }\n\n  return __extends(t, e), t.prototype.apply = function (e, t) {\n    return zeros(e, t);\n  }, t.className = \"Zeros\", t;\n}(Initializer);\n\nserialization.registerClass(Zeros);\n\nvar Ones = function (e) {\n  function t() {\n    return null !== e && e.apply(this, arguments) || this;\n  }\n\n  return __extends(t, e), t.prototype.apply = function (e, t) {\n    return ones(e, t);\n  }, t.className = \"Ones\", t;\n}(Initializer);\n\nserialization.registerClass(Ones);\n\nvar Constant = function (e) {\n  function t(t) {\n    var n = e.call(this) || this;\n    if (\"object\" != typeof t) throw new ValueError(\"Expected argument of type ConstantConfig but got \" + t);\n    if (void 0 === t.value) throw new ValueError(\"config must have value set but got \" + t);\n    return n.value = t.value, n;\n  }\n\n  return __extends(t, e), t.prototype.apply = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      return mul(scalar(n.value), ones(e, t));\n    });\n  }, t.prototype.getConfig = function () {\n    return {\n      value: this.value\n    };\n  }, t.className = \"Constant\", t;\n}(Initializer);\n\nserialization.registerClass(Constant);\n\nvar RandomUniform = function (e) {\n  function t(t) {\n    var n = e.call(this) || this;\n    return n.DEFAULT_MINVAL = -.05, n.DEFAULT_MAXVAL = .05, n.minval = t.minval || n.DEFAULT_MINVAL, n.maxval = t.maxval || n.DEFAULT_MAXVAL, n.seed = t.seed, n;\n  }\n\n  return __extends(t, e), t.prototype.apply = function (e, t) {\n    return randomUniform(e, this.minval, this.maxval, t);\n  }, t.prototype.getConfig = function () {\n    return {\n      minval: this.minval,\n      maxval: this.maxval,\n      seed: this.seed\n    };\n  }, t.className = \"RandomUniform\", t;\n}(Initializer);\n\nserialization.registerClass(RandomUniform);\n\nvar RandomNormal = function (e) {\n  function t(t) {\n    var n = e.call(this) || this;\n    return n.DEFAULT_MEAN = 0, n.DEFAULT_STDDEV = .05, n.mean = t.mean || n.DEFAULT_MEAN, n.stddev = t.stddev || n.DEFAULT_STDDEV, n.seed = t.seed, n;\n  }\n\n  return __extends(t, e), t.prototype.apply = function (e, t) {\n    if (\"float32\" !== (t = t || \"float32\") && \"int32\" !== t) throw new NotImplementedError(\"randomNormal does not support dType \" + t + \".\");\n    return randomNormal$1(e, this.mean, this.stddev, t, this.seed);\n  }, t.prototype.getConfig = function () {\n    return {\n      mean: this.mean,\n      stddev: this.stddev,\n      seed: this.seed\n    };\n  }, t.className = \"RandomNormal\", t;\n}(Initializer);\n\nserialization.registerClass(RandomNormal);\n\nvar TruncatedNormal = function (e) {\n  function t(t) {\n    var n = e.call(this) || this;\n    return n.DEFAULT_MEAN = 0, n.DEFAULT_STDDEV = .05, n.mean = t.mean || n.DEFAULT_MEAN, n.stddev = t.stddev || n.DEFAULT_STDDEV, n.seed = t.seed, n;\n  }\n\n  return __extends(t, e), t.prototype.apply = function (e, t) {\n    if (\"float32\" !== (t = t || \"float32\") && \"int32\" !== t) throw new NotImplementedError(\"truncatedNormal does not support dType \" + t + \".\");\n    return truncatedNormal(e, this.mean, this.stddev, t, this.seed);\n  }, t.prototype.getConfig = function () {\n    return {\n      mean: this.mean,\n      stddev: this.stddev,\n      seed: this.seed\n    };\n  }, t.className = \"TruncatedNormal\", t;\n}(Initializer);\n\nserialization.registerClass(TruncatedNormal);\n\nvar Identity = function (e) {\n  function t(t) {\n    var n = e.call(this) || this;\n    return n.gain = null != t.gain ? scalar(t.gain) : getScalar(1), n;\n  }\n\n  return __extends(t, e), t.prototype.apply = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      if (2 !== e.length || e[0] !== e[1]) throw new ValueError(\"Identity matrix initializer can only be used for 2D square matrices.\");\n      return mul(n.gain, eye(e[0]));\n    });\n  }, t.prototype.getConfig = function () {\n    return {\n      gain: this.gain.get()\n    };\n  }, t.className = \"Identity\", t;\n}(Initializer);\n\nfunction computeFans(e, t) {\n  var n, r;\n  if (void 0 === t && (t = \"channelsLast\"), checkDataFormat(t), 2 === e.length) n = e[0], r = e[1];else if (-1 !== [3, 4, 5].indexOf(e.length)) {\n    if (\"channelsFirst\" === t) {\n      var i = arrayProd(e, 2);\n      n = e[1] * i, r = e[0] * i;\n    } else if (\"channelsLast\" === t) {\n      i = arrayProd(e, 0, e.length - 2);\n      n = e[e.length - 2] * i, r = e[e.length - 1] * i;\n    }\n  } else {\n    var a = arrayProd(e);\n    n = Math.sqrt(a), r = Math.sqrt(a);\n  }\n  return [n, r];\n}\n\nserialization.registerClass(Identity);\n\nvar VarianceScaling = function (e) {\n  function t(t) {\n    var n = e.call(this) || this;\n    if (t.scale < 0) throw new ValueError(\"scale must be a positive float. Got: \" + t.scale);\n    return n.scale = null == t.scale ? 1 : t.scale, n.mode = t.mode, checkFanMode(n.mode), n.distribution = t.distribution, checkDistribution(n.distribution), n.seed = t.seed, n;\n  }\n\n  return __extends(t, e), t.prototype.apply = function (e, t) {\n    var n = computeFans(e),\n        r = n[0],\n        i = n[1],\n        a = this.scale;\n\n    if (\"fanIn\" === this.mode ? a /= Math.max(1, r) : \"fanOut\" === this.mode ? a /= Math.max(1, i) : a /= Math.max(1, (r + i) / 2), \"normal\" === this.distribution) {\n      var o = Math.sqrt(a);\n      if (\"float32\" !== (t = t || \"float32\") && \"int32\" !== t) throw new NotImplementedError(this.getClassName() + \" does not support dType \" + t + \".\");\n      return truncatedNormal(e, 0, o, t, this.seed);\n    }\n\n    var s = Math.sqrt(3 * a);\n    return randomUniform(e, -s, s, t);\n  }, t.prototype.getConfig = function () {\n    return {\n      scale: this.scale,\n      mode: this.mode,\n      distribution: this.distribution,\n      seed: this.seed\n    };\n  }, t.className = \"VarianceScaling\", t;\n}(Initializer);\n\nserialization.registerClass(VarianceScaling);\n\nvar GlorotUniform = function (e) {\n  function t(t) {\n    return e.call(this, {\n      scale: 1,\n      mode: \"fanAvg\",\n      distribution: \"uniform\",\n      seed: null == t ? null : t.seed\n    }) || this;\n  }\n\n  return __extends(t, e), t.prototype.getClassName = function () {\n    return VarianceScaling.className;\n  }, t.className = \"GlorotUniform\", t;\n}(VarianceScaling);\n\nserialization.registerClass(GlorotUniform);\n\nvar GlorotNormal = function (e) {\n  function t(t) {\n    return e.call(this, {\n      scale: 1,\n      mode: \"fanAvg\",\n      distribution: \"normal\",\n      seed: null == t ? null : t.seed\n    }) || this;\n  }\n\n  return __extends(t, e), t.prototype.getClassName = function () {\n    return VarianceScaling.className;\n  }, t.className = \"GlorotNormal\", t;\n}(VarianceScaling);\n\nserialization.registerClass(GlorotNormal);\n\nvar HeNormal = function (e) {\n  function t(t) {\n    return e.call(this, {\n      scale: 2,\n      mode: \"fanIn\",\n      distribution: \"normal\",\n      seed: null == t ? null : t.seed\n    }) || this;\n  }\n\n  return __extends(t, e), t.prototype.getClassName = function () {\n    return VarianceScaling.className;\n  }, t.className = \"HeNormal\", t;\n}(VarianceScaling);\n\nserialization.registerClass(HeNormal);\n\nvar LeCunNormal = function (e) {\n  function t(t) {\n    return e.call(this, {\n      scale: 1,\n      mode: \"fanIn\",\n      distribution: \"normal\",\n      seed: null == t ? null : t.seed\n    }) || this;\n  }\n\n  return __extends(t, e), t.prototype.getClassName = function () {\n    return VarianceScaling.className;\n  }, t.className = \"LeCunNormal\", t;\n}(VarianceScaling);\n\nserialization.registerClass(LeCunNormal);\n\nvar Orthogonal = function (e) {\n  function t(t) {\n    var n = e.call(this) || this;\n    if (n.DEFAULT_GAIN = 1, n.gain = null == t.gain ? n.DEFAULT_GAIN : t.gain, n.seed = t.seed, null != n.seed) throw new NotImplementedError(\"Random seed is not implemented for Orthogonal Initializer yet.\");\n    return n;\n  }\n\n  return __extends(t, e), t.prototype.apply = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      if (2 !== e.length) throw new NotImplementedError(\"The Orthogonal Initializer does not support non-2D shapes yet.\");\n      e[0] * e[1] > 2e3 && console.warn(\"Orthogonal initializer is being called on a matrix with more than 2000 (\" + e[0] * e[1] + \") elements: Slowness may result.\");\n      var t = randomNormal$1(e[0] > e[1] ? [e[1], e[0]] : e, 0, 1, \"float32\"),\n          r = linalg.gramSchmidt(t);\n      return e[0] > e[1] && (r = r.transpose()), mul(getScalar(n.gain), r);\n    });\n  }, t.prototype.getConfig = function () {\n    return {\n      gain: this.gain,\n      seed: this.seed\n    };\n  }, t.className = \"Orthogonal\", t;\n}(Initializer);\n\nserialization.registerClass(Orthogonal);\nvar INITIALIZER_IDENTIFIER_REGISTRY_SYMBOL_MAP = {\n  constant: \"Constant\",\n  glorotNormal: \"GlorotNormal\",\n  glorotUniform: \"GlorotUniform\",\n  heNormal: \"HeNormal\",\n  identity: \"Identity\",\n  leCunNormal: \"LeCunNormal\",\n  ones: \"Ones\",\n  orthogonal: \"Orthogonal\",\n  randomNormal: \"RandomNormal\",\n  randomUniform: \"RandomUniform\",\n  truncatedNormal: \"TruncatedNormal\",\n  varianceScaling: \"VarianceScaling\",\n  zeros: \"Zeros\"\n};\n\nfunction deserializeInitializer(e, t) {\n  return void 0 === t && (t = {}), deserializeKerasObject(e, serialization.SerializationMap.getMap().classNameMap, t, \"initializer\");\n}\n\nfunction serializeInitializer(e) {\n  return serializeKerasObject(e);\n}\n\nfunction getInitializer(e) {\n  if (\"string\" == typeof e) {\n    var t = e in INITIALIZER_IDENTIFIER_REGISTRY_SYMBOL_MAP ? INITIALIZER_IDENTIFIER_REGISTRY_SYMBOL_MAP[e] : e;\n    return \"GlorotUniform\" === t ? new GlorotUniform() : \"GlorotNormal\" === t ? new GlorotNormal() : \"HeNormal\" === t ? new HeNormal() : \"LeCunNormal\" === t ? new LeCunNormal() : deserializeInitializer({\n      className: t,\n      config: {}\n    });\n  }\n\n  return e instanceof Initializer ? e : deserializeInitializer(e);\n}\n\nfunction zeros$1() {\n  return new Zeros();\n}\n\nfunction ones$1() {\n  return new Ones();\n}\n\nfunction constant(e) {\n  return new Constant(e);\n}\n\nfunction randomUniform$1(e) {\n  return new RandomUniform(e);\n}\n\nfunction randomNormal$2(e) {\n  return new RandomNormal(e);\n}\n\nfunction truncatedNormal$1(e) {\n  return new TruncatedNormal(e);\n}\n\nfunction identity(e) {\n  return new Identity(e);\n}\n\nfunction varianceScaling(e) {\n  return new VarianceScaling(e);\n}\n\nfunction glorotUniform(e) {\n  return new GlorotUniform(e);\n}\n\nfunction glorotNormal(e) {\n  return new GlorotNormal(e);\n}\n\nfunction heNormal(e) {\n  return new HeNormal(e);\n}\n\nfunction leCunNormal(e) {\n  return new LeCunNormal(e);\n}\n\nfunction orthogonal(e) {\n  return new Orthogonal(e);\n}\n\nvar exports_initializers = Object.freeze({\n  zeros: zeros$1,\n  ones: ones$1,\n  constant: constant,\n  randomUniform: randomUniform$1,\n  randomNormal: randomNormal$2,\n  truncatedNormal: truncatedNormal$1,\n  identity: identity,\n  varianceScaling: varianceScaling,\n  glorotUniform: glorotUniform,\n  glorotNormal: glorotNormal,\n  heNormal: heNormal,\n  leCunNormal: leCunNormal,\n  orthogonal: orthogonal\n});\n\nfunction isArrayOfShapes(e) {\n  return Array.isArray(e) && Array.isArray(e[0]);\n}\n\nfunction normalizeShapeList(e) {\n  return 0 === e.length ? [] : Array.isArray(e[0]) ? e : [e];\n}\n\nfunction getExactlyOneTensor(e) {\n  var t;\n\n  if (Array.isArray(e)) {\n    if (1 !== e.length) throw new ValueError(\"Expected Tensor length to be 1; got \" + e.length);\n    t = e[0];\n  } else t = e;\n\n  return t;\n}\n\nfunction getExactlyOneShape(e) {\n  if (Array.isArray(e) && Array.isArray(e[0])) {\n    if (1 === e.length) return (e = e)[0];\n    throw new ValueError(\"Expected exactly 1 Shape; got \" + e.length);\n  }\n\n  return e;\n}\n\nfunction countParamsInWeights(e) {\n  for (var t = 0, n = 0, r = e; n < r.length; n++) {\n    var i = r[n];\n    0 === i.shape.length ? t += 1 : t += i.shape.reduce(function (e, t) {\n      return e * t;\n    });\n  }\n\n  return t;\n}\n\nvar DEFAULT_VARIABLE_NAME_PREFIX = \"Variable\",\n    LayerVariable = function () {\n  function e(e, t, n, r, i) {\n    void 0 === t && (t = \"float32\"), void 0 === n && (n = DEFAULT_VARIABLE_NAME_PREFIX), void 0 === r && (r = !0), void 0 === i && (i = null), this.dtype = null == t ? \"float32\" : t, this.shape = e.shape, this.id = getNextUniqueTensorId(), n = null == n ? DEFAULT_VARIABLE_NAME_PREFIX : n, this.originalName = getScopedTensorName(n), this.name = getUniqueTensorName(this.originalName), this.trainable = r, this.constraint = i, this.val = variable(e, this.trainable, this.name, this.dtype);\n  }\n\n  return e.prototype.read = function () {\n    return this.assertNotDisposed(), this.val;\n  }, e.prototype.write = function (e) {\n    return this.assertNotDisposed(), checkShapesMatch(this.val, e), this.val.id !== e.id && (this.val.assign(e), null != this.constraint && this.val.assign(this.constraint.apply(this.val))), this;\n  }, e.prototype.dispose = function () {\n    this.assertNotDisposed(), this.val.dispose();\n  }, e.prototype.assertNotDisposed = function () {\n    if (this.val.isDisposed) throw new Error(\"LayersVariable \" + this.name + \" is already disposed.\");\n  }, e;\n}();\n\nfunction checkShapesMatch(e, t) {\n  if (e.shape.toString() !== t.shape.toString()) throw new Error(\"Shape mismatch: \" + JSON.stringify(e.shape) + \" vs. \" + JSON.stringify(t.shape));\n}\n\nfunction batchGetValue(e) {\n  return e.map(function (e) {\n    return e.read();\n  });\n}\n\nfunction batchSetValue(e) {\n  e.map(function (e) {\n    e[0].write(e[1]);\n  });\n}\n\nvar InputSpec = function () {\n  return function (e) {\n    this.dtype = e.dtype, this.shape = e.shape, null != e.shape ? this.ndim = e.shape.length : this.ndim = e.ndim, this.maxNDim = e.maxNDim, this.minNDim = e.minNDim, this.axes = e.axes || {};\n  };\n}(),\n    SymbolicTensor = function () {\n  return function (e, t, n, r, i, a, o) {\n    this.dtype = e, this.shape = t, this.sourceLayer = n, this.inputs = r, this.callArgs = i, this.outputTensorIndex = o, this.id = getNextUniqueTensorId(), null != a && (this.originalName = getScopedTensorName(a), this.name = getUniqueTensorName(this.originalName)), this.rank = t.length;\n  };\n}(),\n    _nextNodeID = 0,\n    Node = function () {\n  function e(e, t) {\n    this.callArgs = t, this.id = _nextNodeID++, this.outboundLayer = e.outboundLayer, this.inboundLayers = e.inboundLayers, this.nodeIndices = e.nodeIndices, this.tensorIndices = e.tensorIndices, this.inputTensors = e.inputTensors, this.outputTensors = e.outputTensors, this.inputMasks = e.inputMasks, this.outputMasks = e.outputMasks, this.inputShapes = e.inputShapes, this.outputShapes = e.outputShapes;\n\n    for (var n = 0, r = e.inboundLayers; n < r.length; n++) {\n      var i = r[n];\n      null != i && i.outboundNodes.push(this);\n    }\n\n    e.outboundLayer.inboundNodes.push(this);\n  }\n\n  return e.prototype.getConfig = function () {\n    for (var e = [], t = 0, n = this.inboundLayers; t < n.length; t++) {\n      var r = n[t];\n      null != r ? e.push(r.name) : e.push(null);\n    }\n\n    return {\n      outboundLayer: this.outboundLayer ? this.outboundLayer.name : null,\n      inboundLayers: e,\n      nodeIndices: this.nodeIndices,\n      tensorIndices: this.tensorIndices\n    };\n  }, e;\n}(),\n    _nextLayerID = 0,\n    Layer = function (e) {\n  function t(t) {\n    var n = e.call(this) || this;\n    n._callHook = null, n._addedWeightNames = [], n._stateful = !1, n.id = _nextLayerID++, n.activityRegularizer = null, n.inputSpec = null, n.supportsMasking = !1, n._trainableWeights = [], n._nonTrainableWeights = [], n._losses = [], n._updates = [], n._built = !1, n.inboundNodes = [], n.outboundNodes = [];\n    var r = t.name;\n\n    if (!r) {\n      var i = n.getClassName();\n      r = toSnakeCase(i) + \"_\" + getUid(i);\n    }\n\n    if (n.name = r, n.trainable = null == t.trainable || t.trainable, n.updatable = null == t.updatable || t.updatable, null != t.inputShape || null != t.batchInputShape) {\n      var a = void 0;\n      if (null != t.batchInputShape) a = t.batchInputShape;else if (null != t.inputShape) {\n        var o = null;\n        null != t.batchSize && (o = t.batchSize), a = [o].concat(t.inputShape);\n      }\n      n.batchInputShape = a;\n      var s = t.dtype;\n      null == s && (s = t.inputDType), null == s && (s = \"float32\"), n.dtype = s;\n    }\n\n    return null != t.weights ? n.initialWeights = t.weights : n.initialWeights = null, n._refCount = null, n.fastWeightInitDuringBuild = !1, n;\n  }\n\n  return __extends(t, e), t.nodeKey = function (e, t) {\n    return e.name + \"_ib-\" + t.toString();\n  }, t.prototype.getNodeAtIndex = function (e, t) {\n    if (0 === this.inboundNodes.length) throw new RuntimeError(\"The layer has never been called and thus has no defined \" + t + \".\");\n    if (this.inboundNodes.length <= e) throw new ValueError(\"Asked to get \" + t + \" at node \" + e + \", but the layer has only \" + this.inboundNodes.length + \" inbound nodes.\");\n    return this.inboundNodes[e];\n  }, t.prototype.getInputAt = function (e) {\n    return singletonOrArray(this.getNodeAtIndex(e, \"input\").inputTensors);\n  }, t.prototype.getOutputAt = function (e) {\n    return singletonOrArray(this.getNodeAtIndex(e, \"output\").outputTensors);\n  }, Object.defineProperty(t.prototype, \"input\", {\n    get: function () {\n      if (this.inboundNodes.length > 1) throw new AttributeError(\"Layer \" + this.name + ' has multiple inbound nodes, hence the notion of \"layer input\" is ill-defined. Use `getInputAt(nodeIndex)` instead.');\n      if (0 === this.inboundNodes.length) throw new AttributeError(\"Layer \" + this.name + \" is not connected, no input to return.\");\n      return singletonOrArray(this.getNodeAtIndex(0, \"input\").inputTensors);\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"output\", {\n    get: function () {\n      if (0 === this.inboundNodes.length) throw new AttributeError(\"Layer \" + this.name + \" has no inbound nodes.\");\n      if (this.inboundNodes.length > 1) throw new AttributeError(\"Layer \" + this.name + ' has multiple inbound nodes, hence the notion of \"layer output\" is ill-defined. Use `getOutputAt(nodeIndex)` instead.');\n      return singletonOrArray(this.getNodeAtIndex(0, \"output\").outputTensors);\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"losses\", {\n    get: function () {\n      return this._losses;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.calculateLosses = function () {\n    return this.losses.map(function (e) {\n      return e();\n    });\n  }, Object.defineProperty(t.prototype, \"updates\", {\n    get: function () {\n      return this._updates;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"built\", {\n    get: function () {\n      return this._built;\n    },\n    set: function (e) {\n      this._built = e;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"trainableWeights\", {\n    get: function () {\n      return this.trainable ? this._trainableWeights : [];\n    },\n    set: function (e) {\n      this._trainableWeights = e;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"nonTrainableWeights\", {\n    get: function () {\n      return this.trainable ? this._nonTrainableWeights : this._trainableWeights.concat(this._nonTrainableWeights);\n    },\n    set: function (e) {\n      this._nonTrainableWeights = e;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"weights\", {\n    get: function () {\n      return this.trainableWeights.concat(this.nonTrainableWeights);\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"stateful\", {\n    get: function () {\n      return this._stateful;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.resetStates = function () {\n    if (!this.stateful) throw new Error(\"Cannot call the resetStates() method of a non-stateful Layer object.\");\n  }, t.prototype.assertInputCompatibility = function (e) {\n    if (e = toList(e), null != this.inputSpec && 0 !== this.inputSpec.length) {\n      var t = toList(this.inputSpec);\n      if (e.length !== t.length) throw new ValueError(\"Layer \" + this.name + \" expects \" + t.length + \" inputs, but it received \" + e.length + \" input tensors. Input received: \" + e);\n\n      for (var n = 0; n < e.length; n++) {\n        var r = e[n],\n            i = t[n];\n\n        if (null != i) {\n          var a = r.rank;\n          if (null != i.ndim && a !== i.ndim) throw new ValueError(\"Input \" + n + \" is incompatible with layer \" + this.name + \": expected ndim=\" + i.ndim + \", found ndim=\" + a);\n          if (null != i.maxNDim && a > i.maxNDim) throw new ValueError(\"Input \" + n + \" is incompatible with layer \" + this.name + \": expected max_ndim=\" + i.maxNDim + \", found ndim=\" + a);\n          if (null != i.minNDim && a < i.minNDim) throw new ValueError(\"Input \" + n + \" is incompatible with layer \" + this.name + \": expected min_ndim=\" + i.minNDim + \", found ndim=\" + a + \".\");\n          if (null != i.dtype && r.dtype !== i.dtype) throw new ValueError(\"Input \" + n + \" is incompatible with layer \" + this.name + \" : expected dtype=\" + i.dtype + \", found dtype=\" + r.dtype + \".\");\n\n          if (i.axes) {\n            var o = r.shape;\n\n            for (var s in i.axes) {\n              var l = Number(s),\n                  u = i.axes[s],\n                  c = l >= 0 ? o[l] : o[o.length + l];\n              if (null != u && -1 === [u, null].indexOf(c)) throw new ValueError(\"Input \" + n + \" is incompatible with layer \" + this.name + \": expected axis \" + l + \" of input shape to have value \" + u + \" but got shape \" + o + \".\");\n            }\n          }\n\n          if (null != i.shape) for (var h = 0; h < i.shape.length; ++h) {\n            var p = i.shape[h],\n                d = r.shape[h];\n            if (null != p && null != d && p !== d) throw new ValueError(\"Input \" + n + \" is incompatible with layer \" + this.name + \": expected shape=\" + i.shape + \", found shape=${xShape}.\");\n          }\n        }\n      }\n    }\n  }, t.prototype.call = function (e, t) {\n    return e;\n  }, t.prototype.invokeCallHook = function (e, t) {\n    null != this._callHook && this._callHook(e, t);\n  }, t.prototype.setCallHook = function (e) {\n    this._callHook = e;\n  }, t.prototype.clearCallHook = function () {\n    this._callHook = null;\n  }, t.prototype.apply = function (e, t) {\n    var n = this;\n    t = t || {}, this.assertNotDisposed();\n\n    for (var r = toList(e), i = !0, a = 0, o = r; a < o.length; a++) {\n      if (!(o[a] instanceof SymbolicTensor)) {\n        i = !1;\n        break;\n      }\n    }\n\n    for (var s = !0, l = 0, u = r; l < u.length; l++) {\n      if (u[l] instanceof SymbolicTensor) {\n        s = !1;\n        break;\n      }\n    }\n\n    if (i === s) throw new ValueError(\"Arguments to apply() must be all SymbolicTensors or all Tensors\");\n    return nameScope(this.name, function () {\n      if (!n.built) {\n        n.assertInputCompatibility(e);\n\n        for (var i = [], a = 0, o = toList(e); a < o.length; a++) {\n          var l = o[a];\n          i.push(l.shape);\n        }\n\n        n.build(singletonOrArray(i)), n.built = !0, n.initialWeights && n.setWeights(n.initialWeights), null === n._refCount && s && (n._refCount = 1);\n      }\n\n      if (n.assertInputCompatibility(e), s) {\n        for (var u = [], c = 0, h = toList(f = n.call(e, t)); c < h.length; c++) {\n          var p = h[c];\n          -1 !== r.indexOf(p) && (p = p.clone()), u.push(p);\n        }\n\n        if (f = singletonOrArray(u), null != n.activityRegularizer) throw new NotImplementedError(\"Layer invocation in the presence of activity regularizer(s) is not supported yet.\");\n        return f;\n      }\n\n      var d = collectInputShape(e),\n          g = n.computeOutputShape(d),\n          f = void 0,\n          m = guessOutputDType(e);\n      if (n.warnOnIncompatibleInputShape(Array.isArray(e) ? d[0] : d), f = null != g && g.length > 0 && Array.isArray(g[0]) ? g.map(function (r, i) {\n        return new SymbolicTensor(m, r, n, toList(e), t, n.name, i);\n      }) : new SymbolicTensor(m, g, n, toList(e), t, n.name), n.addInboundNode(e, f, null, null, d, g, t), n._refCount++, null != n.activityRegularizer) throw new NotImplementedError(\"Layer invocation in the presence of activity regularizer(s) is not supported yet.\");\n      return f;\n    });\n  }, t.prototype.warnOnIncompatibleInputShape = function (e) {\n    if (null != this.batchInputShape) if (e.length !== this.batchInputShape.length) console.warn(\"The rank of the input tensor provided (shape: \" + JSON.stringify(e) + \") does not match that of the batchInputShape (\" + JSON.stringify(this.batchInputShape) + \") of the layer \" + this.name);else {\n      var t = !1;\n      this.batchInputShape.forEach(function (n, r) {\n        null != n && null != e[r] && e[r] !== n && (t = !0);\n      }), t && console.warn(\"The shape of the input tensor (\" + JSON.stringify(e) + \") does not match the expectation of layer \" + this.name + \": \" + JSON.stringify(this.batchInputShape));\n    }\n  }, Object.defineProperty(t.prototype, \"outputShape\", {\n    get: function () {\n      if (null == this.inboundNodes || 0 === this.inboundNodes.length) throw new AttributeError(\"The layer \" + this.name + \" has never been called and thus has no defined output shape.\");\n\n      for (var e = [], t = 0, n = this.inboundNodes; t < n.length; t++) {\n        var r = n[t],\n            i = JSON.stringify(r.outputShapes);\n        -1 === e.indexOf(i) && e.push(i);\n      }\n\n      if (1 === e.length) {\n        var a = this.inboundNodes[0].outputShapes;\n        return Array.isArray(a) && Array.isArray(a[0]) && 1 === a.length ? a[0] : a;\n      }\n\n      throw new AttributeError(\"The layer \" + this.name + ' has multiple inbound nodes with different output shapes. Hence the notion of \"outut shape\" is ill-defined for the layer.');\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.countParams = function () {\n    if (!this.built) throw new RuntimeError(\"You tried to call countParams() on \" + this.name + \", but the layer is not built yet. Build it first by calling build(batchInputShape).\");\n    return countParamsInWeights(this.weights);\n  }, t.prototype.build = function (e) {\n    this.built = !0;\n  }, t.prototype.getWeights = function (e) {\n    return void 0 === e && (e = !1), batchGetValue(e ? this.trainableWeights : this.weights);\n  }, t.prototype.setWeights = function (e) {\n    var t = this;\n    tidy(function () {\n      var n = t.weights;\n      if (n.length !== e.length) throw new ValueError('You called setWeights(weights) on layer \"' + t.name + '\" with a weight list of length ' + e.length + \", but the layer was expecting \" + n.length + \" weights. Provided weights: \" + e + \"...\");\n\n      if (0 !== n.length) {\n        for (var r = [], i = batchGetValue(n), a = 0; a < i.length; ++a) {\n          var o = i[a],\n              s = n[a],\n              l = e[a];\n          if (!util.arraysEqual(o.shape, l.shape)) throw new ValueError(\"Layer weight shape \" + o.shape + \" not compatible with provided weight shape \" + l.shape);\n          r.push([s, l]);\n        }\n\n        batchSetValue(r);\n      }\n    });\n  }, t.prototype.addWeight = function (e, t, n, r, i, a, o) {\n    if (-1 !== this._addedWeightNames.indexOf(e)) throw new ValueError(\"Duplicate weight name \" + e + \" for layer \" + this.name);\n    this._addedWeightNames.push(e), null == n && (n = \"float32\"), this.fastWeightInitDuringBuild && (r = getInitializer(\"zeros\"));\n    var s = r.apply(t, n),\n        l = new LayerVariable(s, n, e, a, o);\n    return s.dispose(), null != i && this.addLoss(function () {\n      return i.apply(l.read());\n    }), null == a && (a = !0), a ? this._trainableWeights.push(l) : this._nonTrainableWeights.push(l), l;\n  }, t.prototype.setFastWeightInitDuringBuild = function (e) {\n    this.fastWeightInitDuringBuild = e;\n  }, t.prototype.addLoss = function (e) {\n    var t;\n    null == e || Array.isArray(e) && 0 === e.length || (e = toList(e), void 0 !== this._losses && null !== this._losses && (t = this.losses).push.apply(t, e));\n  }, t.prototype.computeOutputShape = function (e) {\n    return e;\n  }, t.prototype.computeMask = function (e, t) {\n    var n = this;\n\n    if (!this.supportsMasking) {\n      if (null != t) {\n        if (!Array.isArray(t)) throw new TypeError(\"Layer \" + this.name + \" does not support masking, but was passed an inputMask.\");\n        t.forEach(function (e) {\n          if (null != e) throw new TypeError(\"Layer \" + n.name + \" does not support masking, but was passed an inputMask.\");\n        });\n      }\n\n      return null;\n    }\n\n    return t;\n  }, t.prototype.addInboundNode = function (e, t, n, r, i, a, o) {\n    void 0 === o && (o = null);\n    var s = toList(e);\n    t = toList(t), n = toList(n), r = toList(r), i = normalizeShapeList(i), a = normalizeShapeList(a);\n\n    for (var l = [], u = [], c = [], h = 0, p = s; h < p.length; h++) {\n      var d = p[h];\n      l.push(d.sourceLayer), u.push(d.nodeIndex), c.push(d.tensorIndex);\n    }\n\n    new Node({\n      outboundLayer: this,\n      inboundLayers: l,\n      nodeIndices: u,\n      tensorIndices: c,\n      inputTensors: s,\n      outputTensors: t,\n      inputMasks: n,\n      outputMasks: r,\n      inputShapes: i,\n      outputShapes: a\n    }, o);\n\n    for (var g = 0; g < t.length; g++) t[g].sourceLayer = this, t[g].nodeIndex = this.inboundNodes.length - 1, t[g].tensorIndex = g;\n  }, t.prototype.getConfig = function () {\n    var e = {\n      name: this.name,\n      trainable: this.trainable\n    };\n    return null != this.batchInputShape && (e.batchInputShape = this.batchInputShape), null != this.dtype && (e.dtype = this.dtype), e;\n  }, t.prototype.disposeWeights = function () {\n    return this.weights.forEach(function (e) {\n      return e.dispose();\n    }), this.weights.length;\n  }, t.prototype.assertNotDisposed = function () {\n    if (0 === this._refCount) throw new Error(\"Layer '\" + this.name + \"' is already disposed.\");\n  }, t.prototype.dispose = function () {\n    if (!this.built) throw new Error(\"Cannot dispose Layer \" + this.name + \" because it has not been built yet.\");\n    if (null === this._refCount) throw new Error(\"Cannot dispose Layer \" + this.name + \" because it has not been used yet.\");\n    this.assertNotDisposed();\n    var e = 0;\n    return 0 == --this._refCount && (e = this.disposeWeights()), {\n      refCountAfterDispose: this._refCount,\n      numDisposedVariables: e\n    };\n  }, t;\n}(serialization.Serializable);\n\nfunction collectInputShape(e) {\n  for (var t = [], n = 0, r = e = toList(e); n < r.length; n++) {\n    var i = r[n];\n    t.push(i.shape);\n  }\n\n  return singletonOrArray(t);\n}\n\nfunction guessOutputDType(e) {\n  return \"float32\";\n}\n\nfunction getSourceInputs(e, t, n) {\n  if ((null == t || null != n && n > 0) && (t = e.sourceLayer, n = e.nodeIndex), 0 === t.inboundNodes.length) return [e];\n  var r = t.inboundNodes[n];\n  if (0 === r.inboundLayers.length) return r.inputTensors;\n\n  for (var i = [], a = 0; a < r.inboundLayers.length; a++) for (var o = 0, s = getSourceInputs(r.inputTensors[a], r.inboundLayers[a], r.nodeIndices[a]); o < s.length; o++) {\n    var l = s[o];\n    -1 === i.indexOf(l) && i.push(l);\n  }\n\n  return i;\n}\n\nvar ModelLoggingVerbosity,\n    InputLayer = function (e) {\n  function t(t) {\n    var n = e.call(this, {\n      dtype: t.dtype,\n      name: null != t.name ? t.name : getUid(\"input\").toString()\n    }) || this;\n    if (null == t.batchSize && (t.batchSize = null), null == t.sparse && (t.sparse = !1), n.trainable = !1, n.built = !0, n.sparse = t.sparse, null != t.inputShape && null != t.batchInputShape) throw new ValueError(\"Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.\");\n    var r = t.batchInputShape;\n\n    if (null == r) {\n      if (null == t.inputShape) throw new ValueError(\"An InputLayer should be passed either a `batchInputShape` or an `inputShape`.\");\n      r = [t.batchSize].concat(t.inputShape);\n    } else if (null != t.batchSize) throw new ValueError(\"Cannot specify batchSize if batchInputShape isspecified when creating an InputLayer.\");\n\n    var i = t.dtype || \"float32\";\n    n.batchInputShape = r, n.dtype = i, n.inputSpec = [{\n      shape: r\n    }];\n    var a = new SymbolicTensor(n.dtype, n.batchInputShape, n, [], {}, n.name);\n    return a.nodeIndex = 0, a.tensorIndex = 0, new Node({\n      outboundLayer: n,\n      inboundLayers: [],\n      nodeIndices: [],\n      tensorIndices: [],\n      inputTensors: [a],\n      outputTensors: [a],\n      inputMasks: [null],\n      outputMasks: [null],\n      inputShapes: [r],\n      outputShapes: [r]\n    }), n;\n  }\n\n  return __extends(t, e), t.prototype.apply = function (e, t) {\n    throw new ValueError(\"Cannot pass any input to an InputLayer's apply() method. InputLayer name: \" + this.name);\n  }, t.prototype.dispose = function () {\n    return {\n      refCountAfterDispose: this._refCount,\n      numDisposedVariables: 0\n    };\n  }, t.prototype.getConfig = function () {\n    return {\n      batchInputShape: this.batchInputShape,\n      dtype: this.dtype,\n      sparse: this.sparse,\n      name: this.name\n    };\n  }, t.className = \"InputLayer\", t;\n}(Layer);\n\nfunction Input(e) {\n  if (null == e.batchShape && null == e.shape) throw new Error(\"Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.\");\n  if (null != e.batchShape && null != e.shape) throw new ValueError(\"Please provide either a `shape` or `batchShape` argument to Input, but not both.\");\n  var t = e.batchShape;\n  null != e.shape && null == t && (t = [null].concat(e.shape));\n  var n = e.dtype;\n  return null == n && (n = \"float32\"), new InputLayer({\n    batchInputShape: t,\n    name: e.name,\n    dtype: n,\n    sparse: e.sparse\n  }).inboundNodes[0].outputTensors[0];\n}\n\nfunction resolveScalarsInLogs(e) {\n  return __awaiter(this, void 0, void 0, function () {\n    var t, n, r, i, a, o, s, l;\n    return __generator(this, function (u) {\n      switch (u.label) {\n        case 0:\n          if (null == e) return [2];\n\n          for (i in t = [], n = [], r = [], e) \"number\" != typeof (a = e[i]) && (o = a, t.push(o.data()), n.push(i), r.push(o));\n\n          return [4, Promise.all(t)];\n\n        case 1:\n          for (s = u.sent(), l = 0; l < s.length; ++l) e[n[l]] = s[l][0];\n\n          return dispose(r), [2];\n      }\n    });\n  });\n}\n\nfunction disposeTensorsInLogs(e) {\n  if (null != e) for (var t in e) {\n    var n = e[t];\n    \"number\" != typeof n && n.dispose();\n  }\n}\n\nserialization.registerClass(InputLayer), function (e) {\n  e[e.SILENT = 0] = \"SILENT\", e[e.VERBOSE = 1] = \"VERBOSE\";\n}(ModelLoggingVerbosity || (ModelLoggingVerbosity = {}));\n\nvar BaseCallback = function () {\n  function e() {\n    this.validationData = null;\n  }\n\n  return e.prototype.setParams = function (e) {\n    this.params = e;\n  }, e.prototype.onEpochBegin = function (e, t) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (e) {\n        return [2];\n      });\n    });\n  }, e.prototype.onEpochEnd = function (e, t) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (e) {\n        return [2];\n      });\n    });\n  }, e.prototype.onBatchBegin = function (e, t) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (e) {\n        return [2];\n      });\n    });\n  }, e.prototype.onBatchEnd = function (e, t) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (e) {\n        return [2];\n      });\n    });\n  }, e.prototype.onTrainBegin = function (e) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (e) {\n        return [2];\n      });\n    });\n  }, e.prototype.onTrainEnd = function (e) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (e) {\n        return [2];\n      });\n    });\n  }, e.prototype.setModel = function (e) {}, e;\n}(),\n    CallbackList = function () {\n  function e(e, t) {\n    void 0 === t && (t = 10), null == e && (e = []), this.callbacks = e, this.queueLength = t;\n  }\n\n  return e.prototype.append = function (e) {\n    this.callbacks.push(e);\n  }, e.prototype.setParams = function (e) {\n    for (var t = 0, n = this.callbacks; t < n.length; t++) {\n      n[t].setParams(e);\n    }\n  }, e.prototype.setModel = function (e) {\n    for (var t = 0, n = this.callbacks; t < n.length; t++) {\n      n[t].setModel(e);\n    }\n  }, e.prototype.onEpochBegin = function (e, t) {\n    return __awaiter(this, void 0, void 0, function () {\n      var n, r;\n      return __generator(this, function (i) {\n        switch (i.label) {\n          case 0:\n            null == t && (t = {}), n = 0, r = this.callbacks, i.label = 1;\n\n          case 1:\n            return n < r.length ? [4, r[n].onEpochBegin(e, t)] : [3, 4];\n\n          case 2:\n            i.sent(), i.label = 3;\n\n          case 3:\n            return n++, [3, 1];\n\n          case 4:\n            return [2];\n        }\n      });\n    });\n  }, e.prototype.onEpochEnd = function (e, t) {\n    return __awaiter(this, void 0, void 0, function () {\n      var n, r;\n      return __generator(this, function (i) {\n        switch (i.label) {\n          case 0:\n            null == t && (t = {}), n = 0, r = this.callbacks, i.label = 1;\n\n          case 1:\n            return n < r.length ? [4, r[n].onEpochEnd(e, t)] : [3, 4];\n\n          case 2:\n            i.sent(), i.label = 3;\n\n          case 3:\n            return n++, [3, 1];\n\n          case 4:\n            return [2];\n        }\n      });\n    });\n  }, e.prototype.onBatchBegin = function (e, t) {\n    return __awaiter(this, void 0, void 0, function () {\n      var n, r;\n      return __generator(this, function (i) {\n        switch (i.label) {\n          case 0:\n            null == t && (t = {}), n = 0, r = this.callbacks, i.label = 1;\n\n          case 1:\n            return n < r.length ? [4, r[n].onBatchBegin(e, t)] : [3, 4];\n\n          case 2:\n            i.sent(), i.label = 3;\n\n          case 3:\n            return n++, [3, 1];\n\n          case 4:\n            return [2];\n        }\n      });\n    });\n  }, e.prototype.onBatchEnd = function (e, t) {\n    return __awaiter(this, void 0, void 0, function () {\n      var n, r;\n      return __generator(this, function (i) {\n        switch (i.label) {\n          case 0:\n            null == t && (t = {}), n = 0, r = this.callbacks, i.label = 1;\n\n          case 1:\n            return n < r.length ? [4, r[n].onBatchEnd(e, t)] : [3, 4];\n\n          case 2:\n            i.sent(), i.label = 3;\n\n          case 3:\n            return n++, [3, 1];\n\n          case 4:\n            return [2];\n        }\n      });\n    });\n  }, e.prototype.onTrainBegin = function (e) {\n    return __awaiter(this, void 0, void 0, function () {\n      var t, n;\n      return __generator(this, function (r) {\n        switch (r.label) {\n          case 0:\n            null == e && (e = {}), t = 0, n = this.callbacks, r.label = 1;\n\n          case 1:\n            return t < n.length ? [4, n[t].onTrainBegin(e)] : [3, 4];\n\n          case 2:\n            r.sent(), r.label = 3;\n\n          case 3:\n            return t++, [3, 1];\n\n          case 4:\n            return [2];\n        }\n      });\n    });\n  }, e.prototype.onTrainEnd = function (e) {\n    return __awaiter(this, void 0, void 0, function () {\n      var t, n;\n      return __generator(this, function (r) {\n        switch (r.label) {\n          case 0:\n            null == e && (e = {}), t = 0, n = this.callbacks, r.label = 1;\n\n          case 1:\n            return t < n.length ? [4, n[t].onTrainEnd(e)] : [3, 4];\n\n          case 2:\n            r.sent(), r.label = 3;\n\n          case 3:\n            return t++, [3, 1];\n\n          case 4:\n            return [2];\n        }\n      });\n    });\n  }, e;\n}(),\n    ModelTrainingYielder = function () {\n  function e(e) {\n    this.yieldEvery = e, this.batchCount = 0, this.batchDurationsMillis = [], this.autoYieldEveryBatches = null, this.batchStartMillis = util.now();\n  }\n\n  return e.prototype.resolveOneTensorInLogs = function (e) {\n    return __awaiter(this, void 0, void 0, function () {\n      var t, n, r, i, a;\n      return __generator(this, function (o) {\n        switch (o.label) {\n          case 0:\n            for (n in t = [], e) t.push(n);\n\n            r = 0, o.label = 1;\n\n          case 1:\n            return r < t.length ? (i = t[r], \"number\" == typeof (a = e[i]) ? [3, 3] : [4, a.data()]) : [3, 4];\n\n          case 2:\n            return o.sent(), [3, 4];\n\n          case 3:\n            return r++, [3, 1];\n\n          case 4:\n            return [2];\n        }\n      });\n    });\n  }, e.prototype.maybeYieldOnBatch = function (t) {\n    return __awaiter(this, void 0, void 0, function () {\n      var n, r;\n      return __generator(this, function (i) {\n        switch (i.label) {\n          case 0:\n            return \"auto\" !== this.yieldEvery ? [3, 7] : (this.batchCount++, null != this.autoYieldEveryBatches ? [3, 3] : [4, this.resolveOneTensorInLogs(t)]);\n\n          case 1:\n            return i.sent(), n = util.now(), [4, nextFrame()];\n\n          case 2:\n            return i.sent(), this.batchCount > e.SKIP_FIRST_BATCHES && (this.batchDurationsMillis.push(n - this.batchStartMillis), this.batchDurationsMillis.length >= e.DECISION_BATCH_COUNT && (r = this.batchDurationsMillis.reduce(function (e, t) {\n              return e + t;\n            }) / this.batchDurationsMillis.length, this.autoYieldEveryBatches = Math.round(e.THRESHOLD_MILLIS / r), this.autoYieldEveryBatches < 1 && (this.autoYieldEveryBatches = 1))), this.batchStartMillis = util.now(), this.lastYieldBatchCount = this.batchCount, [3, 6];\n\n          case 3:\n            return this.batchCount - this.lastYieldBatchCount >= this.autoYieldEveryBatches ? [4, nextFrame()] : [3, 6];\n\n          case 4:\n            return i.sent(), [4, this.resolveOneTensorInLogs(t)];\n\n          case 5:\n            i.sent(), this.lastYieldBatchCount = this.batchCount, i.label = 6;\n\n          case 6:\n            return [3, 9];\n\n          case 7:\n            return \"batch\" !== this.yieldEvery ? [3, 9] : [4, nextFrame()];\n\n          case 8:\n            i.sent(), i.label = 9;\n\n          case 9:\n            return [2];\n        }\n      });\n    });\n  }, e.prototype.maybeYieldOnEpoch = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (e) {\n        switch (e.label) {\n          case 0:\n            return \"epoch\" !== this.yieldEvery ? [3, 2] : [4, nextFrame()];\n\n          case 1:\n            e.sent(), e.label = 2;\n\n          case 2:\n            return [2];\n        }\n      });\n    });\n  }, e.SKIP_FIRST_BATCHES = 1, e.DECISION_BATCH_COUNT = 2, e.THRESHOLD_MILLIS = 16, e;\n}(),\n    BaseLogger = function (e) {\n  function t(t) {\n    var n = e.call(this) || this;\n    return n.yieldEvery = t || \"auto\", n;\n  }\n\n  return __extends(t, e), t.prototype.onTrainBegin = function (e) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (e) {\n        return this.autoYielder = new ModelTrainingYielder(this.yieldEvery), [2];\n      });\n    });\n  }, t.prototype.onEpochBegin = function (e) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (e) {\n        return this.seen = 0, this.totals = {}, [2];\n      });\n    });\n  }, t.prototype.onBatchEnd = function (e, t) {\n    return __awaiter(this, void 0, void 0, function () {\n      var e,\n          n,\n          r,\n          i,\n          a = this;\n      return __generator(this, function (o) {\n        switch (o.label) {\n          case 0:\n            return [4, this.autoYielder.maybeYieldOnBatch(t)];\n\n          case 1:\n            for (i in o.sent(), null == t && (t = {}), e = null == t.size ? 0 : t.size, this.seen += e, n = function (n) {\n              var i = t[n];\n              if (\"number\" == typeof i) r.totals.hasOwnProperty(n) || (r.totals[n] = 0), r.totals[n] = r.totals[n] + i * e;else {\n                var o = void 0;\n                n in r.totals ? o = r.totals[n] : r.totals[n] = getScalar(0), r.totals[n] = tidy(function () {\n                  return add(a.totals[n], mul(i, getScalar(e)));\n                }), null != o && o.dispose();\n              }\n            }, r = this, t) n(i);\n\n            return [2];\n        }\n      });\n    });\n  }, t.prototype.onEpochEnd = function (e, t) {\n    return __awaiter(this, void 0, void 0, function () {\n      var e,\n          n,\n          r,\n          i,\n          a,\n          o = this;\n      return __generator(this, function (s) {\n        switch (s.label) {\n          case 0:\n            return [4, this.autoYielder.maybeYieldOnEpoch()];\n\n          case 1:\n            if (s.sent(), null != t) for (e = function (e) {\n              if (null == n.totals[e]) return \"continue\";\n              \"number\" == typeof n.totals[e] ? t[e] = n.totals[e] / n.seen : tidy(function () {\n                t[e] = mul(div(getScalar(1), getScalar(o.seen)), o.totals[e]), o.totals[e].dispose(), keep(t[e]);\n              });\n            }, n = this, r = 0, i = this.params.metrics; r < i.length; r++) a = i[r], e(a);\n            return [2];\n        }\n      });\n    });\n  }, t;\n}(BaseCallback),\n    History = function (e) {\n  function t() {\n    return null !== e && e.apply(this, arguments) || this;\n  }\n\n  return __extends(t, e), t.prototype.onTrainBegin = function (e) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (e) {\n        return this.epoch = [], this.history = {}, [2];\n      });\n    });\n  }, t.prototype.onEpochEnd = function (e, t) {\n    return __awaiter(this, void 0, void 0, function () {\n      var n;\n      return __generator(this, function (r) {\n        for (n in null == t && (t = {}), this.epoch.push(e), t) null == this.history[n] && (this.history[n] = []), this.history[n].push(t[n]);\n\n        return [2];\n      });\n    });\n  }, t.prototype.syncData = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var e, t, n, r, i, a, o, s, l;\n      return __generator(this, function (u) {\n        switch (u.label) {\n          case 0:\n            for (r in e = [], t = [], n = [], this.history) for (i = this.history[r], a = 0; a < i.length; ++a) \"number\" != typeof i[a] && (o = i[a], e.push(o.data()), t.push(r), n.push(a));\n\n            return [4, Promise.all(e)];\n\n          case 1:\n            for (s = u.sent(), l = 0; l < s.length; ++l) this.history[t[l]][n[l]].dispose(), this.history[t[l]][n[l]] = s[l][0];\n\n            return [2];\n        }\n      });\n    });\n  }, t;\n}(BaseCallback),\n    CustomCallback = function (e) {\n  function t(t) {\n    var n = e.call(this) || this;\n    return n.trainBegin = t.onTrainBegin, n.trainEnd = t.onTrainEnd, n.epochBegin = t.onEpochBegin, n.epochEnd = t.onEpochEnd, n.batchBegin = t.onBatchBegin, n.batchEnd = t.onBatchEnd, n;\n  }\n\n  return __extends(t, e), t.prototype.onEpochBegin = function (e, t) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (n) {\n        switch (n.label) {\n          case 0:\n            return null == this.epochBegin ? [3, 3] : [4, resolveScalarsInLogs(t)];\n\n          case 1:\n            return n.sent(), [4, this.epochBegin(e, t)];\n\n          case 2:\n            n.sent(), n.label = 3;\n\n          case 3:\n            return [2];\n        }\n      });\n    });\n  }, t.prototype.onEpochEnd = function (e, t) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (n) {\n        switch (n.label) {\n          case 0:\n            return null == this.epochEnd ? [3, 3] : [4, resolveScalarsInLogs(t)];\n\n          case 1:\n            return n.sent(), [4, this.epochEnd(e, t)];\n\n          case 2:\n            n.sent(), n.label = 3;\n\n          case 3:\n            return [2];\n        }\n      });\n    });\n  }, t.prototype.onBatchBegin = function (e, t) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (n) {\n        switch (n.label) {\n          case 0:\n            return null == this.batchBegin ? [3, 3] : [4, resolveScalarsInLogs(t)];\n\n          case 1:\n            return n.sent(), [4, this.batchBegin(e, t)];\n\n          case 2:\n            n.sent(), n.label = 3;\n\n          case 3:\n            return [2];\n        }\n      });\n    });\n  }, t.prototype.onBatchEnd = function (e, t) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (n) {\n        switch (n.label) {\n          case 0:\n            return null == this.batchEnd ? [3, 3] : [4, resolveScalarsInLogs(t)];\n\n          case 1:\n            return n.sent(), [4, this.batchEnd(e, t)];\n\n          case 2:\n            n.sent(), n.label = 3;\n\n          case 3:\n            return [2];\n        }\n      });\n    });\n  }, t.prototype.onTrainBegin = function (e) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (t) {\n        switch (t.label) {\n          case 0:\n            return null == this.trainBegin ? [3, 3] : [4, resolveScalarsInLogs(e)];\n\n          case 1:\n            return t.sent(), [4, this.trainBegin(e)];\n\n          case 2:\n            t.sent(), t.label = 3;\n\n          case 3:\n            return [2];\n        }\n      });\n    });\n  }, t.prototype.onTrainEnd = function (e) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (t) {\n        switch (t.label) {\n          case 0:\n            return null == this.trainEnd ? [3, 3] : [4, resolveScalarsInLogs(e)];\n\n          case 1:\n            return t.sent(), [4, this.trainEnd(e)];\n\n          case 2:\n            t.sent(), t.label = 3;\n\n          case 3:\n            return [2];\n        }\n      });\n    });\n  }, t;\n}(BaseCallback);\n\nfunction standardizeCallbacks(e) {\n  return null == e ? null : e instanceof BaseCallback ? [e] : Array.isArray(e) && e[0] instanceof BaseCallback ? e : toList(e).map(function (e) {\n    return new CustomCallback(e);\n  });\n}\n\nvar CallbackConstructorRegistry = function () {\n  function e() {}\n\n  return e.registerCallbackConstructor = function (t, n) {\n    util.assert(t >= 0 && Number.isInteger(t), \"Verbosity level is expected to be an integer >= 0, but got \" + t), e.checkForDuplicate(n), null == e.constructors[t] && (e.constructors[t] = []), e.constructors[t].push(n);\n  }, e.checkForDuplicate = function (t) {\n    for (var n in e.constructors) {\n      e.constructors[+n].forEach(function (e) {\n        if (e === t) throw new ValueError(\"Duplicate callback constructor.\");\n      });\n    }\n  }, e.clear = function () {\n    e.constructors = {};\n  }, e.createCallbacks = function (t) {\n    var n = [];\n\n    for (var r in e.constructors) {\n      var i = +r;\n      t >= i && n.push.apply(n, e.constructors[i]);\n    }\n\n    return n.map(function (e) {\n      return new e();\n    });\n  }, e.constructors = {}, e;\n}();\n\nfunction configureCallbacks(e, t, n, r, i, a, o, s, l, u) {\n  var c = new History(),\n      h = [new BaseLogger(t)].concat(CallbackConstructorRegistry.createCallbacks(n));\n  null != e && h.push.apply(h, e), h.push(c);\n  var p = new CallbackList(h);\n  return p.setParams({\n    epochs: r,\n    initialEpoch: i,\n    samples: a,\n    steps: o,\n    batchSize: s,\n    verbose: n,\n    doValidation: l,\n    metrics: u\n  }), {\n    callbackList: p,\n    history: c\n  };\n}\n\nfunction l2Normalize(e, t) {\n  return tidy(function () {\n    var n = sum(square(e), t, !0),\n        r = mul(scalar(epsilon()), onesLike(e)),\n        i = sqrt(maximum(n, r));\n    return div(e, i);\n  });\n}\n\nfunction meanSquaredError(e, t) {\n  return tidy(function () {\n    return mean(square(sub(t, e)), -1);\n  });\n}\n\nfunction meanAbsoluteError(e, t) {\n  return tidy(function () {\n    return mean(abs(sub(t, e)), -1);\n  });\n}\n\nfunction meanAbsolutePercentageError(e, t) {\n  return tidy(function () {\n    var n = sub(e, t),\n        r = clipByValue(abs(e), epsilon(), Number.MAX_VALUE),\n        i = abs(div(n, r));\n    return mul(getScalar(100), mean(i, -1));\n  });\n}\n\nfunction meanSquaredLogarithmicError(e, t) {\n  return tidy(function () {\n    var n = getScalar(1),\n        r = clipByValue(t, epsilon(), Number.MAX_VALUE),\n        i = log(add(n, r)),\n        a = clipByValue(e, epsilon(), Number.MAX_VALUE),\n        o = log(add(n, a));\n    return mean(square(sub(i, o)), -1);\n  });\n}\n\nfunction squaredHinge(e, t) {\n  return tidy(function () {\n    var n = getScalar(0),\n        r = getScalar(1),\n        i = maximum(n, sub(r, mul(e, t)));\n    return mean(square(i), -1);\n  });\n}\n\nfunction hinge(e, t) {\n  return tidy(function () {\n    var n = getScalar(0),\n        r = getScalar(1),\n        i = maximum(n, sub(r, mul(e, t)));\n    return mean(i, -1);\n  });\n}\n\nfunction categoricalHinge(e, t) {\n  return tidy(function () {\n    var n = getScalar(0),\n        r = getScalar(1),\n        i = sum(mul(e, t), -1),\n        a = max(mul(sub(r, e), t), -1);\n    return maximum(n, add(r, sub(a, i)));\n  });\n}\n\nfunction logcosh(e, t) {\n  return tidy(function () {\n    var n = getScalar(Math.log(2)),\n        r = sub(t, e),\n        i = sub(add(r, softplus(mul(getScalar(-2), r))), n);\n    return mean(i, -1);\n  });\n}\n\nfunction categoricalCrossentropy(e, t, n) {\n  return void 0 === n && (n = !1), tidy(function () {\n    if (n) t = softmax(t);else {\n      var r = sum(t, t.shape.length - 1, !0);\n      t = div(t, r);\n    }\n    return t = clipByValue(t, epsilon(), 1 - epsilon()), neg(sum(mul(e.toFloat(), log(t)), t.shape.length - 1));\n  });\n}\n\nfunction sparseCategoricalCrossentropy(e, t) {\n  return tidy(function () {\n    var n = floor(flatten(e)).toInt(),\n        r = (t = clipByValue(t, epsilon(), 1 - epsilon())).shape;\n    return categoricalCrossentropy(oneHot(n, r[r.length - 1]).reshape(r), t, !1);\n  });\n}\n\nfunction sigmoidCrossEntropyWithLogits(e, t) {\n  if (!util.arraysEqual(e.shape, t.shape)) throw new ValueError(\"logits and labels must have the same shape, but got shapes \" + JSON.stringify(e.shape) + \" and \" + JSON.stringify(t.shape));\n  return tidy(function () {\n    var n = t.relu(),\n        r = t.abs().neg();\n    return n.sub(t.mul(e)).add(r.exp().log1p());\n  });\n}\n\nfunction binaryCrossentropy(e, t) {\n  return tidy(function () {\n    var n;\n    return n = clipByValue(t, epsilon(), 1 - epsilon()), n = log(div(n, sub(getScalar(1), n))), mean(sigmoidCrossEntropyWithLogits(e, n), -1);\n  });\n}\n\nfunction kullbackLeiblerDivergence(e, t) {\n  return tidy(function () {\n    var n = clipByValue(e, epsilon(), 1),\n        r = clipByValue(t, epsilon(), 1);\n    return sum(mul(e, log(div(n, r))), -1);\n  });\n}\n\nfunction poisson(e, t) {\n  return tidy(function () {\n    var n = log(add(getScalar(epsilon()), t));\n    return mean(sub(t, mul(e, n)), -1);\n  });\n}\n\nfunction cosineProximity(e, t) {\n  return tidy(function () {\n    var n = l2Normalize(e, -1),\n        r = l2Normalize(t, -1),\n        i = mul(n, r);\n    return neg(sum(i, -1));\n  });\n}\n\nfunction get(e) {\n  var t = {\n    meanSquaredError: meanSquaredError,\n    meanAbsoluteError: meanAbsoluteError,\n    meanAbsolutePercentageError: meanAbsolutePercentageError,\n    meanSquaredLogarithmicError: meanSquaredLogarithmicError,\n    squaredHinge: squaredHinge,\n    hinge: hinge,\n    categoricalHinge: categoricalHinge,\n    logcosh: logcosh,\n    categoricalCrossentropy: categoricalCrossentropy,\n    sparseCategoricalCrossentropy: sparseCategoricalCrossentropy,\n    binaryCrossentropy: binaryCrossentropy,\n    kullbackLeiblerDivergence: kullbackLeiblerDivergence,\n    poisson: poisson,\n    cosineProximity: cosineProximity\n  };\n\n  if (\"string\" == typeof e) {\n    if (e in t) return t[e];\n    var n = \"Unknown loss \" + e;\n    throw e.toLowerCase().includes(\"softmaxcrossentropy\") && (n = \"Unknown loss \" + e + '. Use \"categoricalCrossentropy\" as the string name for tf.losses.softmaxCrossEntropy'), new ValueError(n);\n  }\n\n  return e;\n}\n\nfunction binaryAccuracy(e, t) {\n  return tidy(function () {\n    var n = mul(getScalar(.5), onesLike(t)),\n        r = cast$1(greater(t, n), e.dtype);\n    return mean(equal(e, r), -1);\n  });\n}\n\nfunction categoricalAccuracy(e, t) {\n  return tidy(function () {\n    return cast$1(equal(argMax(e, -1), argMax(t, -1)), \"float32\");\n  });\n}\n\nfunction truePositives(e, t) {\n  return tidy(function () {\n    var n = getScalar(1);\n    return logicalAnd(e.equal(n), t.equal(n)).sum().cast(\"float32\");\n  });\n}\n\nfunction falseNegatives(e, t) {\n  return tidy(function () {\n    var n = getScalar(1),\n        r = getScalar(0);\n    return logicalAnd(e.equal(n), t.equal(r)).sum().cast(\"float32\");\n  });\n}\n\nfunction falsePositives(e, t) {\n  return tidy(function () {\n    var n = getScalar(1),\n        r = getScalar(0);\n    return logicalAnd(e.equal(r), t.equal(n)).sum().cast(\"float32\");\n  });\n}\n\nfunction precision(e, t) {\n  return tidy(function () {\n    var n = getScalar(0),\n        r = truePositives(e, t),\n        i = falsePositives(e, t),\n        a = r.add(i);\n    return where(greater(a, n), r.div(a), n).cast(\"float32\");\n  });\n}\n\nfunction recall(e, t) {\n  return tidy(function () {\n    var n = getScalar(0),\n        r = truePositives(e, t),\n        i = falseNegatives(e, t),\n        a = r.add(i);\n    return where(greater(a, n), r.div(a), n).cast(\"float32\");\n  });\n}\n\nfunction binaryCrossentropy$1(e, t) {\n  return binaryCrossentropy(e, t);\n}\n\nfunction sparseCategoricalAccuracy(e, t) {\n  return e.rank === t.rank && (e = e.squeeze([e.rank - 1])), (t = t.argMax(-1)).dtype !== e.dtype && (t = t.asType(e.dtype)), equal(e, t).asType(\"float32\");\n}\n\nvar mse$1 = meanSquaredError,\n    MSE$1 = meanSquaredError,\n    mae$1 = meanAbsoluteError,\n    MAE$1 = meanAbsoluteError,\n    mape$1 = meanAbsolutePercentageError,\n    MAPE$1 = meanAbsolutePercentageError,\n    categoricalCrossentropy$1 = categoricalCrossentropy,\n    cosine$1 = cosineProximity,\n    sparseCategoricalCrossentropy$1 = sparseCategoricalCrossentropy;\n\nfunction get$1(e) {\n  var t = {\n    binaryAccuracy: binaryAccuracy,\n    categoricalAccuracy: categoricalAccuracy,\n    precision: precision,\n    categoricalCrossentropy: categoricalCrossentropy$1,\n    sparseCategoricalCrossentropy: sparseCategoricalCrossentropy$1,\n    mse: mse$1,\n    MSE: MSE$1,\n    mae: mae$1,\n    MAE: MAE$1,\n    mape: mape$1,\n    MAPE: MAPE$1,\n    cosine: cosine$1\n  };\n  if (\"string\" == typeof e && e in t) return t[e];\n  if (\"string\" != typeof e && null != e) return e;\n  throw new ValueError(\"Unknown metric \" + e);\n}\n\nfunction getOptimizer(e) {\n  var t = {\n    Adagrad: function () {\n      return train.adagrad(.01);\n    },\n    Adadelta: function () {\n      return train.adadelta(1, .95, epsilon());\n    },\n    Adam: function () {\n      return train.adam(.001, .9, .999, epsilon());\n    },\n    Adamax: function () {\n      return train.adamax(.002, .9, .999, epsilon(), 0);\n    },\n    RMSProp: function () {\n      return train.rmsprop(.001, .9, 0, epsilon());\n    },\n    SGD: function () {\n      return train.sgd(.01);\n    }\n  };\n  if (t.adagrad = t.Adagrad, t.adadelta = t.Adadelta, t.adam = t.Adam, t.adamax = t.Adamax, t.rmsprop = t.RMSProp, t.sgd = t.SGD, e in t) return t[e]();\n  throw new ValueError(\"Unknown Optimizer \" + e);\n}\n\nfunction printSummary(e, t, n, r) {\n  void 0 === r && (r = console.log);\n  var i,\n      a = isModelSequentialLike(e),\n      o = [\"Layer (type)\", \"Output shape\", \"Param #\"];\n  if (a ? (t = t || 65, n = n || [.45, .85, 1]) : (t = t || 98, n = n || [.33, .55, .67, 1]), n[n.length - 1] <= 1 && (n = n.map(function (e) {\n    return Math.floor(t * e);\n  })), !a) for (var s in o.push(\"Receives inputs\"), i = [], e.nodesByDepth) i.push.apply(i, e.nodesByDepth[s]);\n  r(\"_\".repeat(t)), printRow(o, n, r), r(\"=\".repeat(t));\n\n  for (var l = e.layers, u = 0; u < l.length; ++u) a ? printLayerSummary(l[u], n, r) : printLayerSummaryWithConnections(l[u], n, i, r), r((u === l.length - 1 ? \"=\" : \"_\").repeat(t));\n\n  e.checkTrainableWeightsConsistency();\n  var c = countTrainableParams(e),\n      h = countParamsInWeights(e.nonTrainableWeights);\n  r(\"Total params: \" + (c + h)), r(\"Trainable params: \" + c), r(\"Non-trainable params: \" + h), r(\"_\".repeat(t));\n}\n\nfunction countTrainableParams(e) {\n  return null != e.collectedTrainableWeights ? countParamsInWeights(e.collectedTrainableWeights) : countParamsInWeights(e.trainableWeights);\n}\n\nfunction isModelSequentialLike(e) {\n  var t = !0,\n      n = [],\n      r = [];\n\n  for (var i in e.nodesByDepth) n.push(e.nodesByDepth[i]);\n\n  for (var a = 0, o = n; a < o.length; a++) {\n    var s = o[a];\n\n    if (s.length > 1 || 1 === s.length && s[0].inboundLayers.length > 1) {\n      t = !1;\n      break;\n    }\n\n    r.push.apply(r, s);\n  }\n\n  if (t) for (var l = 0, u = e.layers; l < u.length; l++) {\n    for (var c = !1, h = 0, p = u[l].inboundNodes; h < p.length; h++) {\n      var d = p[h];\n\n      if (-1 !== r.indexOf(d)) {\n        if (c) {\n          t = !1;\n          break;\n        }\n\n        c = !0;\n      }\n    }\n\n    if (!t) break;\n  }\n  return t;\n}\n\nfunction printRow(e, t, n) {\n  void 0 === n && (n = console.log);\n\n  for (var r = \"\", i = 0; i < e.length; ++i) i > 0 && (r = r.slice(0, r.length - 1) + \" \"), r = (r += e[i]).slice(0, t[i]), r += \" \".repeat(t[i] - r.length);\n\n  n(r);\n}\n\nfunction printLayerSummary(e, t, n) {\n  var r;\n\n  try {\n    r = JSON.stringify(e.outputShape);\n  } catch (e) {\n    r = \"multiple\";\n  }\n\n  printRow([e.name + \" (\" + e.getClassName() + \")\", r, e.countParams().toString()], t, n);\n}\n\nfunction printLayerSummaryWithConnections(e, t, n, r) {\n  var i;\n\n  try {\n    i = JSON.stringify(e.outputShape);\n  } catch (e) {\n    i = \"multiple\";\n  }\n\n  for (var a = [], o = 0, s = e.inboundNodes; o < s.length; o++) {\n    var l = s[o];\n    if (!(null != n && n.length > 0 && -1 === n.indexOf(l))) for (var u = 0; u < l.inboundLayers.length; ++u) {\n      var c = l.inboundLayers[u].name,\n          h = l.nodeIndices[u],\n          p = l.tensorIndices[u];\n      a.push(c + \"[\" + h + \"][\" + p + \"]\");\n    }\n  }\n\n  var d = e.name,\n      g = e.getClassName(),\n      f = 0 === a.length ? \"\" : a[0];\n  printRow([d + \" (\" + g + \")\", i, e.countParams().toString(), f], t, r);\n\n  for (u = 1; u < a.length; ++u) printRow([\"\", \"\", \"\", a[u]], t, r);\n}\n\nfunction deserialize(e, t, n) {\n  return void 0 === t && (t = {}), void 0 === n && (n = !1), deserializeKerasObject(e, serialization.SerializationMap.getMap().classNameMap, t, \"layer\", n);\n}\n\nfunction isArrayItemInputOrOutputName(e, t, n) {\n  return (\"inboundNodes\" === e || \"outputLayers\" === e || \"inputLayers\" === e) && 0 === t && \"string\" == typeof n;\n}\n\nfunction convertPythonicToTs(e, t) {\n  if (null === e) return null;\n  if (\"string\" == typeof e) return toCamelCase(e);\n  if (\"number\" == typeof e || \"boolean\" == typeof e) return e;\n\n  if (e instanceof Array) {\n    for (var n = [], r = e.length, i = 0; i < r; ++i) {\n      var a = e[i];\n      isArrayItemInputOrOutputName(t, i, a) ? n.push(a) : n.push(convertPythonicToTs(a, t));\n    }\n\n    return n;\n  }\n\n  for (var o = {}, s = 0, l = Object.keys(e); s < l.length; s++) {\n    var u = l[s],\n        c = e[u];\n    if (\"name\" === u && \"string\" == typeof c) o[u] = c;else {\n      var h = toCamelCase(u);\n      o[h] = convertPythonicToTs(c, h);\n    }\n  }\n\n  return o;\n}\n\nfunction convertTsToPythonic(e, t) {\n  if (null === e || void 0 === e) return null;\n  if (\"string\" == typeof e) return toSnakeCase(e);\n  if (\"number\" == typeof e || \"boolean\" == typeof e) return e;\n\n  if (e instanceof Array) {\n    for (var n = [], r = e.length, i = 0; i < r; ++i) {\n      var a = e[i];\n      isArrayItemInputOrOutputName(t, i, a) ? n.push(a) : n.push(convertTsToPythonic(a, t));\n    }\n\n    return n;\n  }\n\n  for (var o = {}, s = 0, l = Object.keys(e); s < l.length; s++) {\n    var u = l[s],\n        c = e[u],\n        h = toSnakeCase(u);\n    o[h] = \"name\" !== u && \"className\" !== u || \"string\" != typeof c ? convertTsToPythonic(c, u) : c;\n  }\n\n  return o;\n}\n\nvar version = \"0.9.2\";\n\nfunction assertFeedCompatibility(e, t) {\n  if (null == e.dtype || e.dtype === t.dtype) return t;\n\n  try {\n    return cast(t, e.dtype);\n  } catch (n) {\n    throw new ValueError(\"The dtype of the feed (\" + t.dtype + \") can not be cast to the dtype of the key '\" + e.name + \"' (\" + e.dtype + \").\");\n  }\n}\n\nvar FeedDict = function () {\n  function e(t) {\n    if (this.id2Value = {}, this.id2Mask = {}, this.name2Id = {}, t instanceof e) for (var n in t.id2Value) this.id2Value[n] = t.id2Value[n], n in t.id2Mask && (this.id2Mask[n] = t.id2Mask[n]);else {\n      if (null == t) return;\n\n      for (var r = 0, i = t; r < i.length; r++) {\n        var a = i[r];\n        this.add(a.key, a.value);\n      }\n    }\n  }\n\n  return e.prototype.add = function (e, t, n) {\n    if (null != this.id2Value[e.id]) throw new ValueError(\"Duplicate key: name=\" + e.name + \", id=\" + e.id);\n    return this.id2Value[e.id] = assertFeedCompatibility(e, t), this.name2Id[e.name] = e.id, null != n && (this.id2Mask[e.id] = n), this;\n  }, e.prototype.addFeed = function (e) {\n    this.add(e.key, e.value);\n  }, e.prototype.hasKey = function (e) {\n    return null != this.id2Value[e.id];\n  }, e.prototype.names = function () {\n    return Object.keys(this.name2Id);\n  }, e.prototype.getValue = function (e) {\n    if (e instanceof SymbolicTensor) {\n      if (null == this.id2Value[e.id]) throw new ValueError(\"Nonexistent key: \" + e.name);\n      return this.id2Value[e.id];\n    }\n\n    var t = this.name2Id[e];\n    if (null == t) throw new ValueError(\"Feed dict has no SymbolicTensor name: \" + e);\n    return this.id2Value[t];\n  }, e.prototype.getMask = function (e) {\n    if (e instanceof SymbolicTensor) {\n      if (null == this.id2Value[e.id]) throw new ValueError(\"Nonexistent key: \" + e.name);\n      return this.id2Mask[e.id];\n    }\n\n    var t = this.name2Id[e];\n    if (null == t) throw new ValueError(\"Feed dict has no SymbolicTensor name: \" + e);\n    return this.id2Mask[t];\n  }, e.prototype.disposeMasks = function () {\n    null != this.id2Mask && dispose(this.id2Mask);\n  }, e;\n}(),\n    cachedSorted = {},\n    cachedRecipientCounts = {};\n\nfunction execute(e, t, n, r) {\n  for (var i = null != n && n.training, a = Array.isArray(e), o = a ? e : [e], s = o.map(function (e) {\n    return e.name;\n  }), l = [], u = t.names(), c = 0, h = s; c < h.length; c++) {\n    var p = h[c];\n    -1 !== u.indexOf(p) ? l.push(t.getValue(p)) : l.push(null);\n  }\n\n  null != r && (r.maxNumTensors = -1 / 0, r.minNumTensors = 1 / 0);\n  var d,\n      g,\n      f = s.join(\",\") + \"|\" + t.names().join(\",\");\n\n  if (null == cachedSorted[f]) {\n    var m = getTopologicalSortAndRecipientCounts(o, t);\n    d = m.sorted, g = m.recipientCounts, cachedSorted[f] = d, cachedRecipientCounts[f] = g;\n  }\n\n  d = cachedSorted[f], g = {}, i || Object.assign(g, cachedRecipientCounts[f]);\n\n  for (var y = new FeedDict(t), v = 0; v < d.length; ++v) {\n    if (null != r) {\n      var b = memory().numTensors;\n      b > r.maxNumTensors && (r.maxNumTensors = b), b < r.minNumTensors && (r.minNumTensors = b);\n    }\n\n    var w = d[v],\n        z = w.sourceLayer;\n\n    if (!(z instanceof InputLayer)) {\n      for (var S = [], I = [], A = [], _ = !1, C = 0, N = w.inputs; C < N.length; C++) {\n        var E = N[C],\n            k = y.getValue(E),\n            x = y.getMask(E);\n        S.push(k), I.push(x), null != x && (_ = !0), i || (g[E.name]--, 0 !== g[E.name] || t.hasKey(E) || -1 !== s.indexOf(E.name) || k.isDisposed || A.push(k));\n      }\n\n      _ && ((n = n || {}).mask = I[0]);\n      var L = toList(z.apply(S, n)),\n          T = null;\n      z.supportsMasking && (T = z.computeMask(S, I));\n\n      for (var D = getNodeOutputs(w), O = Array.isArray(D) ? D : [D], R = 0; R < O.length; ++R) {\n        y.hasKey(O[R]) || y.add(O[R], L[R], Array.isArray(T) ? T[0] : T);\n        var M = s.indexOf(O[R].name);\n        -1 !== M && (l[M] = L[R]);\n      }\n\n      i || dispose(A);\n    }\n  }\n\n  return y.disposeMasks(), a ? l : l[0];\n}\n\nfunction getTopologicalSortAndRecipientCounts(e, t) {\n  util.assert(null != e && e.length > 0, \"Exepcted at least one fetch, got none\");\n  var n = [],\n      r = {};\n\n  if (1 === e.length) {\n    var i = getTopologicalSortAndRecipientCountsForOneFetch(e[0], t);\n    n = i.sorted, r = i.recipientMap;\n  } else for (var a = new Set(), o = 0, s = e; o < s.length; o++) {\n    for (var l = getTopologicalSortAndRecipientCountsForOneFetch(s[o], t), u = l.sorted, c = l.recipientMap, h = 0, p = u; h < p.length; h++) {\n      var d = p[h];\n      a.has(d.name) || (n.push(d), a.add(d.name));\n    }\n\n    var g = function (e) {\n      null == r[e] && (r[e] = new Set()), c[e].forEach(function (t) {\n        return r[e].add(t);\n      });\n    };\n\n    for (var f in c) g(f);\n  }\n\n  return {\n    sorted: n,\n    recipientCounts: recipientMap2Counts(r)\n  };\n}\n\nfunction recipientMap2Counts(e) {\n  var t = {};\n\n  for (var n in e) t[n] = e[n].size;\n\n  return t;\n}\n\nfunction getTopologicalSortAndRecipientCountsForOneFetch(e, t) {\n  for (var n = new Set(), r = [], i = {}, a = 0, o = t.names(); a < o.length; a++) {\n    var s = o[a];\n    n.add(s);\n  }\n\n  var l = [],\n      u = [];\n\n  for (l.push(e); l.length > 0;) {\n    var c = l[l.length - 1];\n    if (n.has(c.name)) l.pop();else {\n      var h = u[u.length - 1] === l.length - 1;\n      if (0 === c.inputs.length || h) l.pop(), r.push(c), n.add(c.name), h && u.pop();else {\n        u.push(l.length - 1);\n\n        for (var p = 0, d = c.inputs; p < d.length; p++) {\n          var g = d[p];\n          null == i[g.name] && (i[g.name] = new Set()), i[g.name].add(c.name), n.has(g.name) || l.push(g);\n        }\n      }\n    }\n  }\n\n  return {\n    sorted: r,\n    recipientMap: i\n  };\n}\n\nfunction getNodeOutputs(e) {\n  var t;\n  if (1 === e.sourceLayer.inboundNodes.length) t = e.sourceLayer.output;else {\n    for (var n = null, r = 0; r < e.sourceLayer.inboundNodes.length; ++r) for (var i = 0, a = e.sourceLayer.inboundNodes[r].outputTensors; i < a.length; i++) {\n      if (a[i].id === e.id) {\n        n = r;\n        break;\n      }\n    }\n\n    t = e.sourceLayer.getOutputAt(n);\n  }\n  return t;\n}\n\nfunction preprocessWeightsForLoading(e, t, n, r) {\n  if (!n.startsWith(\"2.\")) throw new ValueError(\"Unsupported Keras version in weights being loaded: \" + n);\n  return t;\n}\n\nfunction loadTensor(e, t, n) {\n  var r = stringToDType(e);\n  return Tensor.make(t, {\n    values: 0 === t.length ? n : util.flatten(n)\n  }, r);\n}\n\nfunction loadWeightsFromJson(e, t, n) {\n  void 0 === n && (n = !1);\n\n  for (var r = e.keras_version, i = e.backend, a = t.map(function (e) {\n    return e.name;\n  }), o = {}, s = 0, l = t; s < l.length; s++) {\n    null != (b = l[s]).name && (null == o[b.name] && (o[b.name] = []), o[b.name].push(b));\n  }\n\n  for (var u = e.weights, c = [], h = 0; h < a.length; ++h) {\n    var p = a[h],\n        d = u[p];\n    null == d && (d = []);\n\n    for (var g = [], f = 0; f < d.length; ++f) {\n      var m = d[f];\n      g.push(new LayerVariable(loadTensor(m.dtype, m.shape, m.value)));\n    }\n\n    for (var y = 0, v = o[p]; y < v.length; y++) {\n      var b,\n          w = (b = v[y]).weights;\n\n      if ((g = preprocessWeightsForLoading(b, g, r, i)).length !== w.length) {\n        if (!n) throw new ValueError(\"Layer #\" + h + ' (named \"' + b.name + '\") expects ' + w.length + \" weight(s), but the saved weights have \" + g.length + \" element(s).\");\n        console.warn(\"Skipping loading of weights of layer \" + b.name + \" due to mismatch in number of weights: (\" + g.length + \" vs \" + w.length + \").\");\n      }\n\n      for (var z = 0; z < g.length; ++z) !n || util.arraysEqual(w[z].shape, g[z].shape) ? c.push([w[z], g[z].read()]) : console.warn(\"Skipping loading of weights for layer \" + b.name + \" due to mismatch in shape (\" + w[z].shape + \" vs \" + g[z].shape + \")\");\n    }\n  }\n\n  batchSetValue(c);\n}\n\nfunction loadWeightsFromNamedTensorMap(e, t, n) {\n  void 0 === n && (n = !0);\n\n  for (var r = {}, i = 0, a = 0, o = t; a < o.length; a++) for (var s = 0, l = o[a].weights; s < l.length; s++) {\n    var u = l[s];\n    if (null != r[u.originalName]) throw new ValueError(\"Duplicate weight name: \" + u.originalName);\n    r[u.originalName] = u, i++;\n  }\n\n  var c = [];\n\n  for (var h in e) {\n    if (null != r[h]) c.push([r[h], e[h]]);else if (n) throw new ValueError(\"Provided weight data has no target variable: \" + h);\n    delete r[h];\n  }\n\n  if (n) {\n    var p = [];\n\n    for (var d in r) p.push(d);\n\n    if (p.length > 0) throw new ValueError(p.length + \" of \" + i + \" weights are not set: \" + p);\n  }\n\n  batchSetValue(c);\n}\n\nvar Container = function (e) {\n  function t(n) {\n    var r = e.call(this, {}) || this;\n\n    if (r.containerNodes = new Set(), r.name = n.name, null == r.name) {\n      var i = r.getClassName().toLowerCase();\n      r.name = getUid(i);\n    }\n\n    if (r.supportsMasking = !1, r.trainable = !0, r.updatable = !0, Array.isArray(n.inputs) ? r.inputs = n.inputs.slice() : r.inputs = [n.inputs], Array.isArray(n.outputs) ? r.outputs = n.outputs.slice() : r.outputs = [n.outputs], unique(r.inputs).length !== r.inputs.length) throw new ValueError(\"The list of inputs passed to the model is redundant. All inputs should only appear once. Found: \" + r.inputs.map(function (e) {\n      return e.name;\n    }));\n    unique(r.outputs).length !== r.outputs.length && console.warn(\"The list of outputs passed to the model is redundant. All outputs should only appear once. Found: \" + r.outputs.map(function (e) {\n      return e.name;\n    })), r.inputLayers = [], r.inputLayersNodeIndices = [], r.inputLayersTensorIndices = [], r.outputLayers = [], r.outputLayersNodeIndices = [], r.outputLayersTensorIndices = [], r.layers = [];\n\n    for (var a = 0, o = r.outputs; a < o.length; a++) {\n      var s = (C = o[a]).sourceLayer,\n          l = C.nodeIndex,\n          u = C.tensorIndex;\n      r.outputLayers.push(s), r.outputLayersNodeIndices.push(l), r.outputLayersTensorIndices.push(u);\n    }\n\n    for (var c = 0, h = r.inputs; c < h.length; c++) {\n      s = (C = h[c]).sourceLayer, l = C.nodeIndex, u = C.tensorIndex;\n      assert(0 === l, \"input layer has >1 nodes\"), assert(0 === u, \"input layer has >1 tensors\"), r.inputLayers.push(s), r.inputLayersNodeIndices.push(l), r.inputLayersTensorIndices.push(u);\n    }\n\n    r.inputNames = [], r.outputNames = [], r.feedInputShapes = [], r.feedInputNames = [], r.feedOutputNames = [];\n\n    for (var p = 0; p < r.inputLayers.length; p++) {\n      if (!((s = r.inputLayers[p]) instanceof InputLayer)) throw new TypeError(\"Input layers to a Model must be InputLayer objects. Received inputs: \" + n.inputs + \". Input \" + p + \" (0-based) originates from layer type \" + s.getClassName() + \".\");\n      r.inputNames.push(s.name), r.feedInputShapes.push(s.batchInputShape), r.feedInputNames.push(s.name);\n    }\n\n    for (var d = 0, g = r.outputLayers; d < g.length; d++) {\n      s = g[d];\n      r.outputNames.push(s.name);\n    }\n\n    r.internalInputShapes = r.inputs.map(function (e) {\n      return e.shape;\n    }), r.internalOutputShapes = r.outputs.map(function (e) {\n      return e.shape;\n    });\n\n    for (var f = {}, m = {}, y = {}, v = {}, b = {}, w = [], z = function (e, n, i, a, o, s) {\n      null != a && null != o && null != s || (a = e.sourceLayer, o = e.nodeIndex, s = e.tensorIndex);\n      var l = a.inboundNodes[o];\n      if (-1 !== i.indexOf(l)) throw new RuntimeError(\"The tensor \" + e.name + ' at layer \"' + a.name + '\" is part of a cycle.');\n\n      if (-1 === n.indexOf(l)) {\n        r.containerNodes.add(t.nodeKey(a, o)), (a.id in b) || (b[a.id] = Object.keys(b).length), -1 === i.indexOf(l) && i.push(l);\n\n        for (var u = l.inboundLayers.length, c = 0; c < u; c++) {\n          var h = l.inputTensors[c],\n              p = l.inboundLayers[c],\n              d = l.nodeIndices[c],\n              g = l.tensorIndices[c];\n          z(h, n, i, p, d, g);\n        }\n\n        for (n.push(l); i.indexOf(l) >= 0;) i.splice(i.indexOf(l), 1);\n\n        w.push(l);\n      }\n    }, S = [], I = [], A = 0, _ = r.outputs; A < _.length; A++) {\n      var C = _[A];\n      z(C, S, I);\n    }\n\n    for (var N = 0, E = w.slice().reverse(); N < E.length; N++) {\n      m[(K = E[N]).id] = K, K.id in f || (f[K.id] = 0);\n      var k = f[K.id],\n          x = null == y[K.outboundLayer.id] ? 0 : y[K.outboundLayer.id];\n      k = Math.max(k, x), y[K.outboundLayer.id] = k, v[K.outboundLayer.id] = K.outboundLayer, f[K.id] = k;\n\n      for (p = 0; p < K.inboundLayers.length; p++) {\n        var L = K.inboundLayers[p],\n            T = (l = K.nodeIndices[p], L.inboundNodes[l]),\n            D = null == f[T.id] ? 0 : f[T.id];\n        f[T.id] = Math.max(k + 1, D), m[T.id] = T;\n      }\n    }\n\n    var O = {};\n\n    for (var R in f) {\n      (k = f[R]) in O || (O[k] = []), O[k].push(m[R]);\n    }\n\n    var M = {};\n\n    for (var P in y) {\n      (k = y[P]) in M || (M[k] = []), M[k].push(v[P]);\n    }\n\n    var F = Object.keys(M).map(function (e) {\n      return parseInt(e, 10);\n    }).sort(reverseNumberCompare);\n    r.layers = [];\n\n    for (var V = 0, B = F; V < B.length; V++) {\n      var U = M[k = B[V]];\n      U.sort(function (e, t) {\n        var n = b[e.id],\n            r = b[t.id];\n        return n < r ? -1 : n > r ? 1 : 0;\n      });\n\n      for (var j = 0, W = U; j < W.length; j++) {\n        s = W[j];\n        r.layers.push(s);\n      }\n    }\n\n    r.layersByDepth = M, F = Object.keys(O).map(function (e) {\n      return parseInt(e, 10);\n    }).sort(reverseNumberCompare);\n\n    for (var $ = r.inputs.slice(), q = [], G = 0, J = F; G < J.length; G++) for (var H = 0, Z = O[k = J[G]]; H < Z.length; H++) {\n      var K;\n\n      if (null != (s = (K = Z[H]).outboundLayer)) {\n        for (var Y = 0, X = K.inputTensors; Y < X.length; Y++) {\n          C = X[Y];\n          if (-1 === $.indexOf(C)) throw new RuntimeError(\"Graph disconnected: cannot obtain value for tensor \" + C + ' at layer \"' + s.name + '\". The following previous layers were accessed without issue: ' + q);\n        }\n\n        for (var Q = 0, ee = K.outputTensors; Q < ee.length; Q++) {\n          C = ee[Q];\n          $.push(C);\n        }\n\n        q.push(s.name);\n      }\n    }\n\n    r.nodesByDepth = O;\n\n    for (var te = r.layers.map(function (e) {\n      return e.name;\n    }), ne = function (e) {\n      var t = te.filter(function (t) {\n        return t === e;\n      }).length;\n      if (1 !== t) throw new RuntimeError('The name \"' + e + '\" is used ' + t + \" times in the model. All layer names should be unique. Layer names: \" + JSON.stringify(te));\n    }, re = 0, ie = te; re < ie.length; re++) {\n      ne(ie[re]);\n    }\n\n    return r.outboundNodes = [], r.inboundNodes = [], new Node({\n      outboundLayer: r,\n      inboundLayers: [],\n      nodeIndices: [],\n      tensorIndices: [],\n      inputTensors: r.inputs,\n      outputTensors: r.outputs,\n      inputMasks: r.inputs.map(function (e) {\n        return null;\n      }),\n      outputMasks: r.outputs.map(function (e) {\n        return null;\n      }),\n      inputShapes: r.inputs.map(function (e) {\n        return e.shape;\n      }),\n      outputShapes: r.outputs.map(function (e) {\n        return e.shape;\n      })\n    }), r.built = !0, r._refCount = 1, r;\n  }\n\n  return __extends(t, e), t.prototype.assertNotDisposed = function () {\n    if (0 === this._refCount) throw new Error(\"Container '\" + this.name + \"' is already disposed.\");\n  }, t.prototype.dispose = function () {\n    this.assertNotDisposed();\n    var e = {\n      refCountAfterDispose: null,\n      numDisposedVariables: 0\n    };\n    if (0 == --this._refCount) for (var t = 0, n = this.layers; t < n.length; t++) {\n      var r = n[t];\n      e.numDisposedVariables += r.dispose().numDisposedVariables;\n    }\n    return e.refCountAfterDispose = this._refCount, e;\n  }, Object.defineProperty(t.prototype, \"trainableWeights\", {\n    get: function () {\n      if (this._trainableWeights.length > 0) throw new ValueError(\"Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.\");\n      if (!this.trainable) return [];\n\n      for (var e = [], t = 0, n = this.layers; t < n.length; t++) {\n        var r = n[t];\n        e = e.concat(r.trainableWeights);\n      }\n\n      return e;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"nonTrainableWeights\", {\n    get: function () {\n      for (var e = [], t = 0, n = this.layers; t < n.length; t++) {\n        var r = n[t];\n        e.push.apply(e, r.nonTrainableWeights);\n      }\n\n      if (!this.trainable) {\n        for (var i = [], a = 0, o = this.layers; a < o.length; a++) {\n          r = o[a];\n          i.push.apply(i, r.trainableWeights);\n        }\n\n        return i.concat(e);\n      }\n\n      return e;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"weights\", {\n    get: function () {\n      return this.trainableWeights.concat(this.nonTrainableWeights);\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.loadWeights = function (e, t, n, r) {\n    void 0 === t && (t = !1), void 0 === n && (n = !1), void 0 === r && (r = !0), n ? loadWeightsFromNamedTensorMap(e, this.layers, r) : loadWeightsFromJson(e, this.layers, t);\n  }, t.prototype.updatedConfig = function () {\n    var e = this.getConfig();\n    return {\n      className: this.getClassName(),\n      config: e,\n      kerasVersion: \"tfjs-layers \" + version,\n      backend: \"TensorFlow.js\"\n    };\n  }, t.prototype.toJSON = function (e, t) {\n    void 0 === t && (t = !0);\n    var n = convertTsToPythonic(this.updatedConfig());\n    return t ? JSON.stringify(n) : n;\n  }, t.prototype.call = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      e = toList(e);\n\n      for (var r = new FeedDict(), i = 0; i < n.inputs.length; ++i) r.add(n.inputs[i], e[i]);\n\n      return execute(n.outputs, r, t);\n    });\n  }, t.prototype.computeMask = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      var r;\n      return e = toList(e), r = null == t ? pyListRepeat(null, e.length) : toList(t), n.runInternalGraph(e, r)[1];\n    });\n  }, t.prototype.computeOutputShape = function (e) {\n    var t = normalizeShapeList(e);\n    if (t.length !== this.inputLayers.length) throw new ValueError(\"Invalid inputShape argument \" + e + \": model has \" + this.inputLayers.length + \" tensor inputs.\");\n\n    for (var n = {}, r = 0; r < t.length; r++) {\n      var i = this.inputLayers[r],\n          a = t[r];\n      n[I = i.name + \"_0_0\"] = a;\n    }\n\n    var o = Object.keys(this.nodesByDepth).map(function (e) {\n      return parseInt(e, 10);\n    }).sort(reverseNumberCompare);\n    if (o.length > 1) for (var s = 0, l = o; s < l.length; s++) for (var u = l[s], c = 0, h = this.nodesByDepth[u]; c < h.length; c++) {\n      var p = h[c];\n      i = p.outboundLayer;\n\n      if (-1 === this.inputLayers.map(function (e) {\n        return e.id;\n      }).indexOf(i.id)) {\n        for (var d = [], g = 0; g < p.inboundLayers.length; g++) {\n          var f = p.inboundLayers[g],\n              m = p.nodeIndices[g],\n              y = p.tensorIndices[g],\n              v = n[I = f.name + \"_\" + m + \"_\" + y];\n          d.push(v);\n        }\n\n        var b = normalizeShapeList(i.computeOutputShape(singletonOrArray(d))),\n            w = i.inboundNodes.indexOf(p);\n\n        for (g = 0; g < b.length; g++) {\n          n[I = i.name + \"_\" + w + \"_\" + g] = b[g];\n        }\n      }\n    }\n    var z = [],\n        S = [];\n\n    for (r = 0; r < this.outputLayers.length; r++) {\n      i = this.outputLayers[r], w = this.outputLayersNodeIndices[r], y = this.outputLayersTensorIndices[r];\n      var I = i.name + \"_\" + w + \"_\" + y;\n      S.push(I);\n    }\n\n    for (r = 0; r < S.length; r++) {\n      var A = S[r];\n      assert(A in n), z.push(n[A]);\n    }\n\n    return singletonOrArray(z);\n  }, t.prototype.runInternalGraph = function (e, t) {\n    null == t && (t = pyListRepeat(null, e.length));\n\n    for (var n = {}, r = 0; r < this.inputs.length; ++r) {\n      var i = this.inputs[r],\n          a = e[r],\n          o = t[r];\n      n[i.id] = [a, o];\n    }\n\n    for (var s = 0, l = Object.keys(this.nodesByDepth).map(function (e) {\n      return parseInt(e, 10);\n    }).sort(reverseNumberCompare); s < l.length; s++) for (var u = l[s], c = 0, h = this.nodesByDepth[u]; c < h.length; c++) {\n      for (var p = h[c], d = p.outboundLayer, g = p.inputTensors, f = p.outputTensors, m = new Array(), y = 0, v = g; y < v.length; y++) {\n        (i = v[y]).id in n && m.push(n[i.id]);\n      }\n\n      if (m.length === g.length) {\n        var b = {},\n            w = void 0,\n            z = void 0,\n            S = void 0,\n            I = void 0;\n\n        if (null != p.callArgs && (b = p.callArgs), 1 === m.length) {\n          var A = m[0],\n              _ = A[0],\n              C = A[1];\n          null == b.mask && (b.mask = C), S = toList(d.call(_, b)), I = toList(d.computeMask(_, C)), w = [_], z = [C];\n        } else w = m.map(function (e) {\n          return e[0];\n        }), z = m.map(function (e) {\n          return e[1];\n        }), null == b.mask && (b.mask = z), S = toList(d.call(w, b)), I = toList(d.computeMask(w, z));\n\n        if (d.activityRegularizer) throw new NotImplementedError(\"Model invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.\");\n\n        for (r = 0; r < f.length; ++r) {\n          i = f[r], a = S[r], o = I[r];\n          n[i.id] = [a, o];\n        }\n      }\n    }\n\n    for (var N = [], E = [], k = [], x = 0, L = this.outputs; x < L.length; x++) {\n      assert((i = L[x]).id in n, \"Could not compute output \" + i.name + \" : \" + i.id);\n      var T = n[i.id],\n          D = T[0];\n      o = T[1];\n      k.push(D.shape), N.push(D), E.push(o);\n    }\n\n    return [N, E, k];\n  }, t.prototype.buildNodeConversionMap = function (e) {\n    for (var n, r = {}, i = 0, a = this.layers; i < a.length; i++) {\n      var o = a[i];\n      n = o instanceof t ? 1 : 0;\n\n      for (var s = 0; s < o.inboundNodes.length; s++) {\n        var l = t.nodeKey(o, s);\n        this.containerNodes.has(l) && (r[l] = n, n += 1);\n      }\n    }\n\n    return r;\n  }, t.prototype.getLayer = function (e, t) {\n    if (null != t) {\n      if (this.layers.length <= t) throw new ValueError(\"Was asked to retrieve layer at index \" + t + \", but model only has \" + this.layers.length + \" layer(s).\");\n      return this.layers[t];\n    }\n\n    if (null == e) throw new ValueError(\"Provide either a layer name or layer index\");\n\n    for (var n = 0, r = this.layers; n < r.length; n++) {\n      var i = r[n];\n      if (i.name === e) return i;\n    }\n\n    throw new ValueError(\"No such layer: \" + e);\n  }, t.prototype.calculateLosses = function () {\n    var e = this;\n    return tidy(function () {\n      for (var n = [], r = 0, i = e.layers; r < i.length; r++) for (var a = i[r], o = 0; o < a.inboundNodes.length; ++o) {\n        var s = t.nodeKey(a, o);\n        e.containerNodes.has(s) && n.push.apply(n, a.calculateLosses());\n      }\n\n      return n;\n    });\n  }, t.prototype.getConfig = function () {\n    for (var e = {\n      name: this.name\n    }, n = this.buildNodeConversionMap(this.layers), r = [], i = 0, a = this.layers; i < a.length; i++) {\n      for (var o = (b = a[i]).getClassName(), s = b.getConfig(), l = [], u = 0; u < b.inboundNodes.length; u++) {\n        var c = b.inboundNodes[u],\n            h = t.nodeKey(b, u),\n            p = {};\n\n        if (this.containerNodes.has(h)) {\n          if (c.callArgs) try {\n            JSON.stringify(c.callArgs), p = c.callArgs;\n          } catch (e) {\n            console.warn(\"Layer \" + b.name + \" was passed non-serializable keyword arguments: \" + c.callArgs + \". They will not be included in the serialized model (and thus will be missing at deserialization time).\"), p = {};\n          }\n\n          if (c.inboundLayers.length > 0) {\n            for (var d = [], g = 0; g < c.inboundLayers.length; g++) {\n              var f = c.inboundLayers[g],\n                  m = c.nodeIndices[g],\n                  y = c.tensorIndices[g];\n              null == (z = n[t.nodeKey(f, m)]) && (z = 0), d.push([f.name, z, y, p]);\n            }\n\n            l.push(d);\n          }\n        }\n      }\n\n      r.push({\n        name: b.name,\n        className: o,\n        config: s,\n        inboundNodes: l\n      });\n    }\n\n    e.layers = r;\n    var v = [];\n\n    for (g = 0; g < this.inputLayers.length; g++) {\n      var b = this.inputLayers[g];\n      m = this.inputLayersNodeIndices[g], h = t.nodeKey(b, m);\n\n      if (this.containerNodes.has(h)) {\n        null !== (z = n[h]) && void 0 !== z || (z = 0);\n        y = this.inputLayersTensorIndices[g];\n        v.push([b.name, z, y]);\n      }\n    }\n\n    e.inputLayers = v;\n    var w = [];\n\n    for (g = 0; g < this.outputLayers.length; g++) {\n      b = this.outputLayers[g], m = this.outputLayersNodeIndices[g], h = t.nodeKey(b, m);\n\n      if (this.containerNodes.has(h)) {\n        var z;\n        null !== (z = n[h]) && void 0 !== z || (z = 0);\n        y = this.outputLayersTensorIndices[g];\n        w.push([b.name, z, y]);\n      }\n    }\n\n    return e.outputLayers = w, e;\n  }, t.fromConfig = function (e, t, n, r) {\n    void 0 === n && (n = {}), void 0 === r && (r = !1);\n    var i = {},\n        a = {};\n\n    function o(e, t) {\n      e.name in a ? a[e.name].push(t) : a[e.name] = [t];\n    }\n\n    function s(e, t) {\n      for (var n, r = [], a = 0, s = t; a < s.length; a++) {\n        var l = s[a],\n            u = l[0],\n            c = l[1],\n            h = l[2];\n        if (3 === l.length) n = {};else {\n          if (4 !== l.length) throw new ValueError(\"Improperly formatted model config for layer \" + JSON.stringify(e) + \": \" + JSON.stringify(l));\n          n = l[3];\n        }\n        if (!(u in i)) return void o(e, t);\n        var p = i[u];\n        if (p.inboundNodes.length <= c) return void o(e, t);\n        var d = p.inboundNodes[c];\n        r.push(d.outputTensors[h]);\n      }\n\n      r.length > 0 && e.apply(singletonOrArray(r), n);\n    }\n\n    function l(e) {\n      var n = e.name,\n          a = deserialize(e, null != t.customObjects ? t.customObjects : {});\n      a.setFastWeightInitDuringBuild(r), i[n] = a;\n\n      for (var s = 0, l = e.inboundNodes; s < l.length; s++) {\n        var u = l[s];\n        if (!(u instanceof Array)) throw new ValueError(\"Corrupted configuration, expected array for nodeData: \" + u);\n        o(a, u);\n      }\n    }\n\n    for (var u = t.name, c = t.layers, h = 0, p = c; h < p.length; h++) {\n      l(f = p[h]);\n    }\n\n    for (; !isObjectEmpty(a);) for (var d = 0, g = c; d < g.length; d++) {\n      var f = g[d];\n\n      if ((k = i[f.name]).name in a) {\n        var m = a[k.name];\n        delete a[k.name];\n\n        for (var y = 0, v = m; y < v.length; y++) {\n          s(k, v[y]);\n        }\n      }\n    }\n\n    for (var b = [], w = [], z = 0, S = t.inputLayers; z < S.length; z++) {\n      var I = (f = S[z])[0],\n          A = f[1],\n          _ = f[2];\n      assert(I in i);\n      var C = (k = i[I]).inboundNodes[A].outputTensors;\n      b.push(C[_]);\n    }\n\n    for (var N = 0, E = t.outputLayers; N < E.length; N++) {\n      I = (f = E[N])[0], A = f[1], _ = f[2];\n      assert(I in i);\n      var k;\n      C = (k = i[I]).inboundNodes[A].outputTensors;\n      w.push(C[_]);\n    }\n\n    return new e({\n      inputs: b,\n      outputs: w,\n      name: u\n    });\n  }, Object.defineProperty(t.prototype, \"stateful\", {\n    get: function () {\n      if (this._stateful) throw new ValueError(\"Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.\");\n\n      for (var e = 0, t = this.layers; e < t.length; e++) {\n        if (t[e].stateful) return !0;\n      }\n\n      return !1;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.resetStates = function () {\n    var e = this;\n    tidy(function () {\n      e.layers.forEach(function (e) {\n        e.stateful && e.resetStates();\n      });\n    });\n  }, t;\n}(Layer),\n    DEFAULT_VALIDATION_BATCH_SIZE = 32;\n\nfunction standardizeDataIteratorOutput(e, t) {\n  if (e.outputs.length > 1) throw new NotImplementedError(\"Support for training a model with multiple output tensors with a dataset object is not implemented yet.\");\n  util.assert(Array.isArray(t) && 2 === t.length, \"Dataset iterator for fitDataset() is expected to generate an Array of length 2: `[xs, ys]`, but instead generates \" + t);\n  var n = (t = t)[1],\n      r = t[0];\n  if (r instanceof Tensor) return util.assert(1 === e.inputs.length, \"Model has multiple \" + e.inputs.length + \" inputs, hence it expects the input dataset to generate a dictionary of tensors  (with keys \" + JSON.stringify(e.inputNames) + \", but received a single tensor.\"), util.assert(r.shape[0] === n.shape[0], \"Mismatch in batch size between x and y tensors (\" + r.shape[0] + \" vs. \" + n.shape[0] + \")\"), [r, n];\n  var i = void 0;\n  r = r;\n\n  for (var a = [], o = 0, s = e.inputNames; o < s.length; o++) {\n    var l = s[o];\n    if (null == r[l]) throw new ValueError(\"The feature data generated by the dataset lacks the required input key '\" + l + \"'.\");\n    a.push(r[l]), null == i ? i = r[l].shape[0] : util.assert(r[l].shape[0] === i, \"Mismatch in batch size between x and y tensors (\" + r[l].shape[0] + \" vs. \" + n.shape[0] + \")\");\n  }\n\n  return a.concat(n);\n}\n\nfunction standardizeTensorValidationData(e) {\n  if (3 === e.length) throw new NotImplementedError(\"Validation with sample weights is not implemented yet.\");\n  return {\n    xs: e[0],\n    ys: e[1]\n  };\n}\n\nfunction fitDataset(e, t, n) {\n  return __awaiter(this, void 0, void 0, function () {\n    var r, i, a, o, s, l, u, c, h, p, d, g, f, m, y, v, b, w, z, S, I, A, _, C, N, E;\n\n    return __generator(this, function (k) {\n      switch (k.label) {\n        case 0:\n          if (r = null != n.batchesPerEpoch, util.assert(null != e.optimizer, \"You must compile a model before training/testing. Use Model.compile(modelCompileConfig).\"), util.assert(null != n, \"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call.\"), util.assert(null != n.epochs && n.epochs > 0 && Number.isInteger(n.epochs), \"For fitDataset(), config.epochs is expected to be a positive integer, but got \" + n.epochs), util.assert(!r || n.batchesPerEpoch > 0 && Number.isInteger(n.batchesPerEpoch), \"For fitDataset(), config.batchesPerEpoch is expected to be a positive integer if specified, but got \" + n.batchesPerEpoch), util.assert(null == n.validationSplit, \"`validationSplit` is not supported by `fitDataset()`. Use validationData instead.\"), e.isTraining) throw new Error(\"Cannot start training because another fit() call is ongoing.\");\n          e.isTraining = !0, k.label = 1;\n\n        case 1:\n          return k.trys.push([1,, 22, 23]), i = null != n.validationData, a = void 0, o = void 0, i && (isDatasetObject(n.validationData) ? util.assert(null == n.validationBatches || n.validationBatches > 0 && Number.isInteger(n.validationBatches), \"For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, but got \" + n.validationBatches) : (s = standardizeTensorValidationData(n.validationData), a = s.xs, o = s.ys)), l = e.makeTrainFunction(), u = e.getDedupedMetricsNames(), c = void 0, c = i ? u.slice().concat(u.map(function (e) {\n            return \"val_\" + e;\n          })) : u.slice(), h = standardizeCallbacks(n.callbacks), p = configureCallbacks(h, n.yieldEvery, n.verbose, n.epochs, null, null, n.batchesPerEpoch, null, i, c), d = p.callbackList, g = p.history, d.setModel(e), e.history = g, [4, d.onTrainBegin()];\n\n        case 2:\n          return k.sent(), e.stopTraining_ = !1, f = null == n.initialEpoch ? 0 : n.initialEpoch, [4, t.iterator()];\n\n        case 3:\n          m = k.sent(), k.label = 4;\n\n        case 4:\n          return f < n.epochs ? (y = {}, [4, d.onEpochBegin(f)]) : [3, 19];\n\n        case 5:\n          return k.sent(), v = 0, b = 0, r ? [3, 7] : [4, t.iterator()];\n\n        case 6:\n          m = k.sent(), k.label = 7;\n\n        case 7:\n          return !r || v < n.batchesPerEpoch ? [4, m.next()] : [3, 17];\n\n        case 8:\n          return w = k.sent(), r && w.done ? (console.warn(\"You provided `batchesPerEpoch` as \" + n.batchesPerEpoch + \", but your dataset iterator ran out of data after \" + v + \" batches; interrupting training. Make sure that your dataset can generate at least `batchesPerEpoch * epochs` batches (in this case, \" + n.batchesPerEpoch * n.epochs + \" batches). You may need to use the repeat() function when building your dataset.\"), [3, 17]) : null == w.value ? [3, 11] : (z = standardizeDataIteratorOutput(e, w.value), (S = {}).batch = b, S.size = z[0].shape[0], [4, d.onBatchBegin(b, S)]);\n\n        case 9:\n          for (k.sent(), I = l(z), dispose(z), E = 0; E < u.length; ++E) A = u[E], _ = I[E], S[A] = _, keep(_);\n\n          return [4, d.onBatchEnd(b, S)];\n\n        case 10:\n          k.sent(), disposeTensorsInLogs(S), b++, v++, k.label = 11;\n\n        case 11:\n          return (r ? v >= n.batchesPerEpoch : w.done) ? i ? (C = void 0, isDatasetObject(n.validationData) ? (N = toList, [4, e.evaluateDataset(n.validationData, {\n            batches: n.validationBatches\n          })]) : [3, 13]) : [3, 15] : [3, 16];\n\n        case 12:\n          return C = N.apply(void 0, [k.sent()]), [3, 14];\n\n        case 13:\n          C = toList(e.evaluate(a, o, {\n            batchSize: null == n.validationBatchSize ? DEFAULT_VALIDATION_BATCH_SIZE : n.validationBatchSize,\n            verbose: 0\n          })), k.label = 14;\n\n        case 14:\n          for (E = 0; E < e.metricsNames.length; ++E) y[\"val_\" + e.metricsNames[E]] = C[E];\n\n          k.label = 15;\n\n        case 15:\n          return [3, 17];\n\n        case 16:\n          return e.stopTraining_ ? [3, 17] : [3, 7];\n\n        case 17:\n          return [4, d.onEpochEnd(f, y)];\n\n        case 18:\n          return k.sent(), f++, e.stopTraining_ ? [3, 19] : [3, 4];\n\n        case 19:\n          return [4, d.onTrainEnd()];\n\n        case 20:\n          return k.sent(), [4, e.history.syncData()];\n\n        case 21:\n          return k.sent(), [2, e.history];\n\n        case 22:\n          return e.isTraining = !1, [7];\n\n        case 23:\n          return [2];\n      }\n    });\n  });\n}\n\nfunction isDatasetObject(e) {\n  return \"function\" == typeof e.iterator;\n}\n\nfunction isLazyIteratorObject(e) {\n  return \"function\" == typeof e.next;\n}\n\nfunction evaluateDataset(e, t, n) {\n  return __awaiter(this, void 0, void 0, function () {\n    var r, i, a, o, s, l, u, c, h, p;\n    return __generator(this, function (d) {\n      switch (d.label) {\n        case 0:\n          if (r = null != n.batches, i = e.testFunction, a = [], n.verbose > 0) throw new NotImplementedError(\"Verbose mode is not implemented yet.\");\n          return util.assert(!r || n.batches > 0 && Number.isInteger(n.batches), \"Test loop expects `batches` to be a positive integer, but received \" + JSON.stringify(n.batches)), isLazyIteratorObject(t) ? (s = t, [3, 3]) : [3, 1];\n\n        case 1:\n          return [4, t.iterator()];\n\n        case 2:\n          s = d.sent(), d.label = 3;\n\n        case 3:\n          o = s, l = 0, u = 0, c = function () {\n            var t, s, c, h, p, d;\n            return __generator(this, function (g) {\n              switch (g.label) {\n                case 0:\n                  return [4, o.next()];\n\n                case 1:\n                  if ((t = g.sent()).value) {\n                    if (s = standardizeDataIteratorOutput(e, t.value), c = tidy(function () {\n                      return i(s);\n                    }), dispose(s), 0 === u) for (d = 0; d < c.length; ++d) a.push(getScalar(0));\n\n                    for (h = s[0].shape[0], p = function (e) {\n                      var t = c[e],\n                          n = a[e];\n                      a[e] = tidy(function () {\n                        return add(a[e], mul(getScalar(h), t));\n                      }), u > 0 && dispose(n);\n                    }, d = 0; d < c.length; ++d) p(d);\n\n                    dispose(c), l += h, ++u;\n                  }\n\n                  return t.done ? (r && console.warn(\"Your dataset iterator ran out of data during evaluateDataset(). Interrupting evalution. Make sure that your dataset can generate at least `batches` batches (in this case, \" + n.batches + \" batches). You may need to use the repeat() function when building your dataset.\"), [2, \"break\"]) : [2];\n              }\n            });\n          }, d.label = 4;\n\n        case 4:\n          return !r || u < n.batches ? [5, c()] : [3, 6];\n\n        case 5:\n          return \"break\" === d.sent() ? [3, 6] : [3, 4];\n\n        case 6:\n          for (h = function (e) {\n            var t = a[e];\n            a[e] = tidy(function () {\n              return div(a[e], getScalar(l));\n            }), dispose(t);\n          }, p = 0; p < a.length; ++p) h(p);\n\n          return [2, singletonOrArray(a)];\n      }\n    });\n  });\n}\n\nfunction checkBatchSize(e) {\n  util.assert(e > 0 && Number.isInteger(e), \"batchSize is required to be a positive integer, but got \" + e);\n}\n\nfunction sliceArrays(e, t, n) {\n  return null == e ? [null] : Array.isArray(e) ? e.map(function (e) {\n    return sliceAlongFirstAxis(e, t, n - t);\n  }) : sliceAlongFirstAxis(e, t, n - t);\n}\n\nfunction sliceArraysByIndices(e, t) {\n  return tidy(function () {\n    return null == e ? null : Array.isArray(e) ? e.map(function (e) {\n      return sliceArraysByIndices(e, t);\n    }) : gather$1(e, \"int32\" === t.dtype ? t : t.toInt());\n  });\n}\n\nfunction makeBatches(e, t) {\n  for (var n = [], r = 0, i = null; r < e;) (i = r + t) >= e && (i = e), n.push([r, i]), r = i;\n\n  return n;\n}\n\nfunction fitLoop(e, t, n, r, i, a, o, s, l, u, c, h, p, d, g, f) {\n  return __awaiter(this, void 0, void 0, function () {\n    var m, y, v, b, w, z, S, I;\n    return __generator(this, function (A) {\n      switch (A.label) {\n        case 0:\n          if (null == i && (i = 32), null == a && (a = 1), null == c && (c = !0), null == p && (p = 0), m = !1, null != l && null != u && (m = !0), null != g && (m = !0, null == d)) throw new ValueError(\"Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.\");\n          return null != (y = e.checkNumSamples(n, i, d, \"steps_per_epoch\")) && (v = range(0, y)), null == o && (o = 1), b = configureCallbacks(s, f, o, a, p, y, d, i, m, h), w = b.callbackList, z = b.history, w.setModel(e), e.history = z, [4, w.onTrainBegin()];\n\n        case 1:\n          A.sent(), e.stopTraining_ = !1, S = function (a) {\n            var o, s, h, p, g;\n            return __generator(this, function (f) {\n              switch (f.label) {\n                case 0:\n                  return [4, w.onEpochBegin(a)];\n\n                case 1:\n                  if (f.sent(), o = {}, null == d) return [3, 2];\n                  throw new NotImplementedError(\"stepsPerEpoch mode is not implemented yet.\");\n\n                case 2:\n                  if (\"batch\" === c) throw new NotImplementedError(\"batch shuffling is not implemneted yet\");\n                  c && util.shuffle(v), s = tensor1d(v), h = makeBatches(y, i), p = function (a) {\n                    var c;\n                    return __generator(this, function (p) {\n                      switch (p.label) {\n                        case 0:\n                          return c = {}, [4, w.onBatchBegin(a, c)];\n\n                        case 1:\n                          return p.sent(), tidy(function () {\n                            var p = h[a][0],\n                                d = h[a][1],\n                                g = sliceAlongFirstAxis(s, p, d - p);\n                            c.batch = a, c.size = d - p;\n\n                            for (var f = sliceArraysByIndices(n, g), y = t(f), v = 0; v < r.length; ++v) {\n                              var b = r[v],\n                                  w = y[v];\n                              c[b] = w, keep(w);\n                            }\n\n                            if (a === h.length - 1 && m) {\n                              var z = e.testLoop(l, u, i);\n\n                              for (v = 0; v < r.length; ++v) {\n                                b = r[v], w = z[v];\n                                keep(w), o[\"val_\" + b] = w;\n                              }\n                            }\n                          }), [4, w.onBatchEnd(a, c)];\n\n                        case 2:\n                          return p.sent(), disposeTensorsInLogs(c), e.stopTraining_ ? [2, \"break\"] : [2];\n                      }\n                    });\n                  }, g = 0, f.label = 3;\n\n                case 3:\n                  return g < h.length ? [5, p(g)] : [3, 6];\n\n                case 4:\n                  if (\"break\" === f.sent()) return [3, 6];\n                  f.label = 5;\n\n                case 5:\n                  return ++g, [3, 3];\n\n                case 6:\n                  s.dispose(), f.label = 7;\n\n                case 7:\n                  return [4, w.onEpochEnd(a, o)];\n\n                case 8:\n                  return f.sent(), e.stopTraining_ ? [2, \"break\"] : [2];\n              }\n            });\n          }, I = p, A.label = 2;\n\n        case 2:\n          return I < a ? [5, S(I)] : [3, 5];\n\n        case 3:\n          if (\"break\" === A.sent()) return [3, 5];\n          A.label = 4;\n\n        case 4:\n          return ++I, [3, 2];\n\n        case 5:\n          return [4, w.onTrainEnd()];\n\n        case 6:\n          return A.sent(), [4, e.history.syncData()];\n\n        case 7:\n          return A.sent(), [2, e.history];\n      }\n    });\n  });\n}\n\nfunction fitTensors(e, t, n, r) {\n  return void 0 === r && (r = {}), __awaiter(this, void 0, void 0, function () {\n    var i, a, o, s, l, u, c, h, p, d, g, f, m, y, v, b, w, z, S;\n    return __generator(this, function (I) {\n      switch (I.label) {\n        case 0:\n          if (e.isTraining) throw new Error(\"Cannot start training because another fit() call is ongoing.\");\n          e.isTraining = !0, I.label = 1;\n\n        case 1:\n          if (I.trys.push([1,, 3, 4]), checkBatchSize(c = null == r.batchSize ? 32 : r.batchSize), h = e.standardizeUserData(t, n, !1, c), i = h[0], a = h[1], p = !1, d = void 0, null != r.validationData && r.validationData.length > 0) {\n            if (p = !0, 2 !== r.validationData.length) throw 3 === r.validationData.length ? new NotImplementedError(\"validationData including sample weights is not supported yet.\") : new ValueError(\"When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; \" + r.validationData + \" is invalid.\");\n            o = r.validationData[0], s = r.validationData[1], g = e.standardizeUserData(o, s, !0, c), l = g[0], u = g[1], d = l.concat(u);\n          } else null != r.validationSplit && r.validationSplit > 0 && r.validationSplit < 1 ? (p = !0, f = Math.floor(i[0].shape[0] * (1 - r.validationSplit)), m = i[0].shape[0], l = sliceArrays(i, f, m), i = sliceArrays(i, 0, f), u = sliceArrays(a, f, m), a = sliceArrays(a, 0, f), d = l.concat(u)) : null != r.validationSteps && (p = !0);\n\n          return y = i.concat(a), e.checkTrainableWeightsConsistency(), v = e.makeTrainFunction(), b = e.getDedupedMetricsNames(), w = void 0, z = void 0, p ? (e.makeTestFunction(), w = e.testFunction, z = b.slice().concat(b.map(function (e) {\n            return \"val_\" + e;\n          }))) : (w = null, d = [], z = b.slice()), S = standardizeCallbacks(r.callbacks), [4, fitLoop(e, v, y, b, c, r.epochs, r.verbose, S, w, d, r.shuffle, z, r.initialEpoch, null, null, r.yieldEvery)];\n\n        case 2:\n          return [2, I.sent()];\n\n        case 3:\n          return e.isTraining = !1, disposeNewTensors(i, t), disposeNewTensors(a, n), disposeNewTensors(l, o), disposeNewTensors(u, s), [7];\n\n        case 4:\n          return [2];\n      }\n    });\n  });\n}\n\nfunction ensureTensorsRank2OrHigher(e) {\n  var t = [];\n  e instanceof Tensor && (e = [e]);\n\n  for (var n = 0; n < e.length; ++n) {\n    var r = e[n];\n    if (1 === r.rank) t.push(expandDims$1(r, 1));else {\n      if (0 === r.rank) throw new Error(\"Expected tensor to be at least 1D, but received a 0D tensor (scalar).\");\n      t.push(r);\n    }\n  }\n\n  return t;\n}\n\nfunction disposeNewTensors(e, t) {\n  if (null != e) {\n    var n = [];\n    if (t instanceof Tensor) n.push(t.id);else if (Array.isArray(t)) t.forEach(function (e) {\n      return n.push(e.id);\n    });else if (null != t) for (var r in t) {\n      var i = t[r];\n      n.push(i.id);\n    }\n    var a = [];\n    if (e instanceof Tensor) -1 === n.indexOf(e.id) && a.push(e);else if (Array.isArray(e)) e.forEach(function (e) {\n      -1 === n.indexOf(e.id) && a.push(e);\n    });else if (null != e) for (var o in e) {\n      var s = e[o];\n      -1 === n.indexOf(s.id) && a.push(s);\n    }\n    a.forEach(function (e) {\n      e.isDisposed || e.dispose();\n    });\n  }\n}\n\nfunction isDataTensor(e) {\n  return e instanceof Tensor;\n}\n\nfunction isDataArray(e) {\n  return Array.isArray(e);\n}\n\nfunction isDataDict(e) {\n  return !isDataTensor(e) && !isDataArray(e);\n}\n\nfunction standardizeInputData(e, t, n, r, i) {\n  if (void 0 === r && (r = !0), void 0 === i && (i = \"\"), null == t || 0 === t.length) {\n    if (null != e) {\n      var a = !1;\n      if (isDataArray(e) && e.length > 0) a = !0;else if (isDataDict(e)) {\n        for (var o in e) if (e.hasOwnProperty(o)) {\n          a = !0;\n          break;\n        }\n      } else a = !0;\n      if (a) throw new ValueError(\"Error when checking model \" + i + \" expected no data, but got \" + e);\n    }\n\n    return [];\n  }\n\n  if (null == e) return t.map(function (e) {\n    return null;\n  });\n  var s;\n\n  if (isDataDict(e)) {\n    e = e, s = [];\n\n    for (var l = 0, u = t; l < u.length; l++) {\n      var c = u[l];\n      if (null == e[c]) throw new ValueError('No data provided for \"' + c + '\". Need data for each key in: ' + t);\n      s.push(e[c]);\n    }\n  } else if (isDataArray(e)) {\n    if ((e = e).length !== t.length) throw new ValueError(\"Error when checking model \" + i + \": the Array of Tensors that you are passing to your model is not the size the model expected. Expected to see \" + t.length + \" Tensor(s), but instead got the following list of Tensor(s): \" + e);\n    s = e;\n  } else {\n    if (e = e, t.length > 1) throw new ValueError(\"The model \" + i + \" expects \" + t.length + \" Tensor(s), but only received one Tensor. Found: Tensor with shape \" + e.shape);\n    s = [e];\n  }\n\n  if (s = ensureTensorsRank2OrHigher(s), null != n) for (var h = 0; h < t.length; ++h) if (null != n[h]) {\n    var p = s[h];\n    if (p.shape.length !== n[h].length) throw new ValueError(\"Error when checking \" + i + \": expected \" + t[h] + \" to have \" + n[h].length + \" dimension(s). but got array with shape \" + p.shape);\n\n    for (var d = 0; d < n[h].length; ++d) if (0 !== d || r) {\n      var g = p.shape[d],\n          f = n[h][d];\n      if (null != f && f >= 0 && g !== f) throw new ValueError(\"Error when checking \" + i + \": expected \" + t[h] + \" to have shape [\" + n[h] + \"], but got array with shape [\" + p.shape + \"].\");\n    }\n  }\n  return s;\n}\n\nfunction checkArrayLengths(e, t, n) {\n  var r = unique(e.map(function (e) {\n    return e.shape[0];\n  }));\n  r.sort();\n  var i = unique(t.map(function (e) {\n    return e.shape[0];\n  }));\n  if (i.sort(), r.length > 1) throw new ValueError(\"All input Tensors (x) should have the same number of samples. Got array shapes: \" + JSON.stringify(e.map(function (e) {\n    return e.shape;\n  })));\n  if (i.length > 1) throw new ValueError(\"All target Tensors (y) should have the same number of samples. Got array shapes: \" + JSON.stringify(t.map(function (e) {\n    return e.shape;\n  })));\n  if (r.length > 0 && i.length > 0 && !util.arraysEqual(r, i)) throw new ValueError(\"Input Tensors should have the same number of samples as target Tensors. Found \" + r[0] + \" input sample(s) and \" + i[0] + \" target sample(s).\");\n}\n\nfunction checkLossAndTargetCompatibility(e, t, n) {\n  for (var r = [meanSquaredError, binaryCrossentropy, categoricalCrossentropy], i = 0; i < e.length; ++i) {\n    var a = e[i],\n        o = t[i],\n        s = n[i];\n\n    if (null != o) {\n      if (o === categoricalCrossentropy && 1 === a.shape[a.shape.length - 1]) throw new ValueError(\"You are passing a target array of shape \" + a.shape + \" while using a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].\");\n      if (-1 !== r.indexOf(o)) for (var l = a.shape.slice(1), u = s.slice(1), c = 0; c < l.length; ++c) {\n        var h = l[c],\n            p = u[c];\n        if (null != p && h !== p) throw new ValueError(\"A target Tensor with shape \" + a.shape + \" was passed for an output of shape \" + s + \", while using a loss function that expects targets to have the same shape as the output.\");\n      }\n    }\n  }\n}\n\nfunction checkInputData(e, t, n, r, i) {\n  var a;\n\n  if (void 0 === r && (r = !0), void 0 === i && (i = \"\"), Array.isArray(e)) {\n    if (e.length !== t.length) throw new ValueError(\"Error when checking model \" + i + \": the Array of Tensors that you are passing to your model is not the size the the model expected. Expected to see \" + t.length + \" Tensor(s), but instead got \" + e.length + \" Tensors(s).\");\n    a = e;\n  } else {\n    if (t.length > 1) throw new ValueError(\"The model expects \" + t.length + \" \" + i + \" Tensors, but only received one Tensor. Found: array with shape \" + JSON.stringify(e.shape) + \".\");\n    a = [e];\n  }\n\n  if (null != n) for (var o = 0; o < t.length; ++o) if (null != n[o]) {\n    var s = a[o];\n    if (s.shape.length !== n[o].length) throw new ValueError(\"Error when checking \" + i + \": expected \" + t[o] + \" to have \" + n[o].length + \" dimension(s), but got array with shape \" + JSON.stringify(s.shape));\n\n    for (var l = 0; l < n[o].length; ++l) if (0 !== l || r) {\n      var u = s.shape[l],\n          c = n[o][l];\n      if (null != c && c !== u) throw new ValueError(\"Error when checking \" + i + \": expected \" + t[o] + \" to have shape \" + JSON.stringify(n[o]) + \" but got array with shape \" + JSON.stringify(s.shape) + \".\");\n    }\n  }\n}\n\nfunction collectMetrics(e, t) {\n  if (null == e || Array.isArray(e) && 0 === e.length) return t.map(function (e) {\n    return [];\n  });\n  if (Array.isArray(e)) return t.map(function (t) {\n    return e;\n  });\n\n  if (null != e) {\n    for (var n = [], r = 0, i = t; r < i.length; r++) {\n      var a = i[r],\n          o = e.hasOwnProperty(a) ? e[a] : [];\n      Array.isArray(o) || (o = [o]), n.push(o);\n    }\n\n    return n;\n  }\n\n  throw new TypeError(\"Type of metrics argument not understood. Expected an Array or Object, found: \" + e);\n}\n\nvar Model = function (e) {\n  function t(t) {\n    var n = e.call(this, t) || this;\n    return n.isTraining = !1, n;\n  }\n\n  return __extends(t, e), t.prototype.summary = function (e, t, n) {\n    if (void 0 === n && (n = console.log), !this.built) throw new ValueError(\"This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).\");\n    printSummary(this, e, t, n);\n  }, t.prototype.compile = function (e) {\n    var t = this;\n    if (null == e.loss && (e.loss = []), this.loss = e.loss, \"string\" == typeof e.optimizer) this.optimizer = getOptimizer(e.optimizer);else {\n      if (!(e.optimizer instanceof Optimizer)) throw new ValueError(\"User-defined optimizer must be an instance of tf.Optimizer.\");\n      this.optimizer = e.optimizer;\n    }\n    var n = [];\n    if (Array.isArray(e.loss) || \"string\" == typeof e.loss || \"function\" == typeof e.loss) {\n      if (Array.isArray(e.loss)) {\n        if (e.loss.length !== this.outputs.length) throw new ValueError(\"When passing an Array as loss, it should have one entry per model output. The model has \" + this.outputs.length + \" output(s), but you passed loss=\" + e.loss + \".\");\n        var r = e.loss;\n        n = r.map(function (e) {\n          return get(e);\n        });\n      } else {\n        var i = get(e.loss);\n        this.outputs.map(function (e) {\n          n.push(i);\n        });\n      }\n    } else {\n      for (var a in e.loss = e.loss, e.loss) if (-1 === this.outputNames.indexOf(a)) throw new ValueError('Unknown entry in loss dictionary: \"' + a + '\". Only expected the following keys: ' + this.outputNames);\n\n      for (var o = 0, s = this.outputNames; o < s.length; o++) {\n        var l = s[o];\n        null == e.loss[l] && console.warn('Output \"' + l + '\" is missing from loss dictionary. We assume this was done on purpose, and we will not be expecting data to be passed to ' + l + \" during training\"), n.push(get(e.loss[l]));\n      }\n    }\n    this.lossFunctions = n, this.feedOutputNames = [], this.feedOutputShapes = [], this.feedLossFns = [];\n\n    for (var u = 0; u < this.outputs.length; ++u) {\n      var c = this.internalOutputShapes[u],\n          h = this.outputNames[u];\n      this.feedOutputNames.push(h), this.feedOutputShapes.push(c), this.feedLossFns.push(this.lossFunctions[u]);\n    }\n\n    var p = [];\n    this.metrics = e.metrics, this.metricsNames = [\"loss\"], this.metricsTensors = [], nameScope(\"loss\", function () {\n      for (var e = 0; e < t.outputs.length; ++e) if (-1 === p.indexOf(e)) {\n        var n = t.lossFunctions[e];\n        t.outputs.length > 1 && (t.metricsTensors.push([n, e]), t.metricsNames.push(t.outputNames[e] + \"_loss\"));\n      }\n    });\n    var d = collectMetrics(e.metrics, this.outputNames);\n    nameScope(\"metric\", function () {\n      for (var e = function (e) {\n        if (-1 !== p.indexOf(e)) return \"continue\";\n        !function (n) {\n          for (var r, i, a, o = function (n) {\n            if (-1 !== [\"accuracy\", \"acc\", \"crossentropy\", \"ce\"].indexOf(n)) {\n              var o = t.internalOutputShapes[e];\n              1 === o[o.length - 1] || t.lossFunctions[e] === binaryCrossentropy ? -1 !== [\"accuracy\", \"acc\"].indexOf(n) ? i = binaryAccuracy : -1 !== [\"crossentropy\", \"ce\"].indexOf(n) && (i = binaryCrossentropy$1) : t.lossFunctions[e] === sparseCategoricalCrossentropy ? -1 !== [\"accuracy\", \"acc\"].indexOf(n) ? i = sparseCategoricalAccuracy : -1 !== [\"crossentropy\", \"ce\"].indexOf(n) && (i = sparseCategoricalCrossentropy$1) : -1 !== [\"accuracy\", \"acc\"].indexOf(n) ? i = categoricalAccuracy : -1 !== [\"crossentropy\", \"ce\"].indexOf(n) && (i = categoricalCrossentropy$1);\n              var s = void 0;\n              -1 !== [\"accuracy\", \"acc\"].indexOf(n) ? s = \"acc\" : -1 !== [\"crossentropy\", \"ce\"].indexOf(n) && (s = \"ce\"), a = i, r = \"\" + s;\n            } else {\n              var l = get$1(n);\n              a = l, r = \"\" + n;\n            }\n\n            var u;\n            nameScope(r, function () {\n              u = a;\n            }), function (e, n, r) {\n              t.outputNames.length > 1 && (n = t.outputNames[e] + \"_\" + n), t.metricsNames.push(n), t.metricsTensors.push([r, e]);\n            }(e, r, u);\n          }, s = 0, l = n; s < l.length; s++) o(l[s]);\n        }(d[e]);\n      }, n = 0; n < t.outputs.length; ++n) e(n);\n    }), this.collectedTrainableWeights = this.trainableWeights;\n  }, t.prototype.checkTrainableWeightsConsistency = function () {\n    null != this.collectedTrainableWeights && this.trainableWeights.length !== this.collectedTrainableWeights.length && console.warn(\"Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?\");\n  }, t.prototype.evaluate = function (e, t, n) {\n    void 0 === n && (n = {});\n    var r = null == n.batchSize ? 32 : n.batchSize;\n    checkBatchSize(r);\n    var i = this.standardizeUserData(e, t, !0, r);\n\n    try {\n      var a = i[0].concat(i[1]);\n      this.makeTestFunction();\n      var o = this.testFunction;\n      return singletonOrArray(this.testLoop(o, a, r, n.verbose, n.steps));\n    } finally {\n      disposeNewTensors(i[0], e), disposeNewTensors(i[1], t);\n    }\n  }, t.prototype.evaluateDataset = function (e, t) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (n) {\n        return this.makeTestFunction(), [2, evaluateDataset(this, e, t)];\n      });\n    });\n  }, t.prototype.checkNumSamples = function (e, t, n, r) {\n    var i;\n\n    if (void 0 === r && (r = \"steps\"), null != n) {\n      if (i = null, null != t) throw new ValueError(\"If \" + r + \" is set, batchSize must be null or undefined.Got batchSize = \" + t);\n    } else {\n      if (null == e) throw new ValueError(\"Either the input data should have a defined shape, or \" + r + \" shoud be specified.\");\n      i = Array.isArray(e) ? e[0].shape[0] : e.shape[0];\n    }\n\n    return i;\n  }, t.prototype.execute = function (e, t) {\n    if (Array.isArray(t) && 0 === t.length) throw new ValueError(\"`outputs` is an empty Array, which is not allowed.\");\n    var n = Array.isArray(t),\n        r = n ? t : [t],\n        i = this.retrieveSymbolicTensors(r),\n        a = new FeedDict();\n\n    if (e instanceof Tensor && (e = [e]), Array.isArray(e)) {\n      if (e.length !== this.inputs.length) throw new ValueError(\"The number of inputs provided (\" + e.length + \") does not match the number of inputs of this model (\" + this.inputs.length + \").\");\n\n      for (var o = 0; o < this.inputs.length; ++o) a.add(this.inputs[o], e[o]);\n    } else for (var s = 0, l = this.inputs; s < l.length; s++) {\n      var u = l[s],\n          c = e[u.name];\n      if (null == c) throw new ValueError(\"No value is provided for the model's input \" + u.name);\n      a.add(u, c);\n    }\n\n    var h = execute(i, a);\n    return n ? h : h[0];\n  }, t.prototype.retrieveSymbolicTensors = function (e) {\n    for (var t = pyListRepeat(null, e.length), n = e.length, r = 0, i = this.layers; r < i.length; r++) {\n      for (var a = i[r], o = Array.isArray(a.output) ? a.output : [a.output], s = o.map(function (e) {\n        return e.name;\n      }), l = 0; l < e.length; ++l) {\n        var u = s.indexOf(e[l]);\n        if (-1 !== u && (t[l] = o[u], n--), 0 === n) break;\n      }\n\n      if (0 === n) break;\n    }\n\n    if (n > 0) {\n      var c = [];\n      throw t.forEach(function (t, n) {\n        null == t && c.push(e[n]);\n      }), new ValueError(\"Cannot find SymbolicTensors for output name(s): \" + JSON.stringify(c));\n    }\n\n    return t;\n  }, t.prototype.predictLoop = function (e, t, n) {\n    var r = this;\n    return void 0 === t && (t = 32), void 0 === n && (n = !1), tidy(function () {\n      var i = r.checkNumSamples(e);\n      if (n) throw new NotImplementedError(\"Verbose predictLoop() is not implemented yet.\");\n\n      for (var a = makeBatches(i, t), o = [], s = function (t) {\n        var n = tidy(function () {\n          var n = a[t][0],\n              i = a[t][1],\n              o = sliceArrays(e, n, i),\n              s = [];\n          if (Array.isArray(o)) for (var l = 0; l < o.length; ++l) s.push({\n            key: r.inputs[l],\n            value: o[l]\n          });else s.push({\n            key: r.inputs[0],\n            value: o\n          });\n          var u = new FeedDict(s);\n          return execute(r.outputs, u);\n        });\n        if (0 === t) for (var i = 0, s = n; i < s.length; i++) {\n          var l = s[i];\n          o.push(l);\n        } else for (var u = 0; u < n.length; ++u) o[u] = concatAlongFirstAxis(o[u], n[u]);\n      }, l = 0; l < a.length; ++l) s(l);\n\n      return singletonOrArray(o);\n    });\n  }, t.prototype.predict = function (e, t) {\n    void 0 === t && (t = {});\n    var n = ensureTensorsRank2OrHigher(e);\n    checkInputData(n, this.inputNames, this.feedInputShapes, !1);\n\n    try {\n      var r = null == t.batchSize ? 32 : t.batchSize;\n      return checkBatchSize(r), this.predictLoop(n, r);\n    } finally {\n      disposeNewTensors(n, e);\n    }\n  }, t.prototype.predictOnBatch = function (e) {\n    return checkInputData(e, this.inputNames, this.feedInputShapes, !0), this.predictLoop(e, e.shape[0]);\n  }, t.prototype.standardizeUserData = function (e, t, n, r) {\n    if (void 0 === n && (n = !0), null == this.optimizer) throw new RuntimeError(\"You must compile a model before training/testing. Use Model.compile(modelCompileArgs).\");\n\n    for (var i = [], a = 0; a < this.feedOutputShapes.length; ++a) {\n      var o = this.feedOutputShapes[a];\n      this.feedLossFns[a] === sparseCategoricalCrossentropy ? i.push(o.slice(0, o.length - 1).concat([1])) : i.push(o);\n    }\n\n    if (checkArrayLengths(e = standardizeInputData(e, this.feedInputNames, this.feedInputShapes, !1, \"input\"), t = standardizeInputData(t, this.feedOutputNames, i, !1, \"target\"), null), checkLossAndTargetCompatibility(t, this.feedLossFns, this.feedOutputShapes), this.stateful && null != r && r > 0 && e[0].shape[0] % r != 0) throw new ValueError(\"In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size \" + r + \". Found: \" + e[0].shape[0] + \" sample(s).\");\n    return [e, t, null];\n  }, t.prototype.testLoop = function (e, t, n, r, i) {\n    var a = this;\n    return void 0 === r && (r = 0), tidy(function () {\n      var o = a.checkNumSamples(t, n, i, \"steps\"),\n          s = [];\n      if (r > 0) throw new NotImplementedError(\"Verbose mode is not implemented yet.\");\n      if (null != i) throw new NotImplementedError(\"steps mode in testLoop() is not implemented yet\");\n\n      for (var l = makeBatches(o, n), u = tensor1d(range(0, o)), c = 0; c < l.length; ++c) {\n        var h = l[c][0],\n            p = l[c][1],\n            d = sliceAlongFirstAxis(u, h, p - h),\n            g = sliceArraysByIndices(t, d),\n            f = e(g);\n        if (0 === c) for (var m = 0; m < f.length; ++m) s.push(getScalar(0));\n\n        for (m = 0; m < f.length; ++m) {\n          var y = f[m];\n          s[m] = add(s[m], mul(getScalar(p - h), y));\n        }\n      }\n\n      for (m = 0; m < s.length; ++m) s[m] = div(s[m], getScalar(o));\n\n      return s;\n    });\n  }, t.prototype.getDedupedMetricsNames = function () {\n    for (var e = this.metricsNames, t = [], n = 0; n < e.length; ++n) {\n      var r = e[n],\n          i = r;\n      if (count(e, r) > 1) i += \"_\" + count(e.slice(0, n), r);\n      t.push(i);\n    }\n\n    return t;\n  }, t.prototype.makeTrainFunction = function () {\n    var e = this;\n    return function (t) {\n      var n = t.slice(0, e.inputs.length),\n          r = t.slice(e.inputs.length, e.inputs.length + e.outputs.length),\n          i = [],\n          a = e.collectedTrainableWeights.map(function (e) {\n        return e.read();\n      });\n      return [e.optimizer.minimize(function () {\n        for (var t = [], a = 0; a < e.inputs.length; ++a) t.push({\n          key: e.inputs[a],\n          value: n[a]\n        });\n\n        var o,\n            s = new FeedDict(t),\n            l = execute(e.outputs, s, {\n          training: !0\n        });\n\n        for (a = 0; a < e.lossFunctions.length; ++a) {\n          var u = (0, e.lossFunctions[a])(r[a], l[a]);\n          mean(u), o = 0 === a ? u : add(o, u);\n        }\n\n        for (a = 0; a < e.metricsTensors.length; ++a) {\n          var c = e.metricsTensors[a][0],\n              h = e.metricsTensors[a][1],\n              p = mean(c(r[h], l[h]));\n          keep(p), i.push(p);\n        }\n\n        return o = mean(o), e.calculateLosses().forEach(function (e) {\n          o = add(o, e);\n        }), o;\n      }, !0, a)].concat(i);\n    };\n  }, t.prototype.makeTestFunction = function () {\n    var e = this;\n\n    this.testFunction = function (t) {\n      return tidy(function () {\n        for (var n, r = [], i = t.slice(0, e.inputs.length), a = t.slice(e.inputs.length, e.inputs.length + e.outputs.length), o = [], s = 0; s < e.inputs.length; ++s) o.push({\n          key: e.inputs[s],\n          value: i[s]\n        });\n\n        var l = new FeedDict(o),\n            u = execute(e.outputs, l);\n\n        for (s = 0; s < e.lossFunctions.length; ++s) {\n          var c = e.lossFunctions[s],\n              h = mean(c(a[s], u[s]));\n          n = 0 === s ? h : add(n, h), r.push(n);\n        }\n\n        for (s = 0; s < e.metricsTensors.length; ++s) {\n          var p = e.metricsTensors[s][0],\n              d = e.metricsTensors[s][1],\n              g = mean(p(a[d], u[d]));\n          r.push(g);\n        }\n\n        return r;\n      });\n    };\n  }, t.prototype.fit = function (e, t, n) {\n    return void 0 === n && (n = {}), __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (r) {\n        return [2, fitTensors(this, e, t, n)];\n      });\n    });\n  }, t.prototype.fitDataset = function (e, t) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (n) {\n        return [2, fitDataset(this, e, t)];\n      });\n    });\n  }, t.prototype.trainOnBatch = function (e, t) {\n    return __awaiter(this, void 0, void 0, function () {\n      var n, r, i, a, o, s, l, u, c, h, p;\n      return __generator(this, function (d) {\n        switch (d.label) {\n          case 0:\n            n = this.standardizeUserData(e, t), r = n[0], i = n[1], a = this.makeTrainFunction(), o = a(r.concat(i)), s = [], l = 0, u = o, d.label = 1;\n\n          case 1:\n            return l < u.length ? (c = u[l], p = (h = s).push, [4, c.data()]) : [3, 4];\n\n          case 2:\n            p.apply(h, [d.sent()[0]]), d.label = 3;\n\n          case 3:\n            return l++, [3, 1];\n\n          case 4:\n            return dispose(o), [2, singletonOrArray(s)];\n        }\n      });\n    });\n  }, t.prototype.getNamedWeights = function (e) {\n    for (var t = {}, n = null != e && e.trainableOnly, r = n ? this.trainableWeights : this.weights, i = this.getWeights(n), a = 0; a < r.length; ++a) n && !r[a].trainable || (t[r[a].originalName] = i[a]);\n\n    return t;\n  }, Object.defineProperty(t.prototype, \"stopTraining\", {\n    set: function (e) {\n      this.stopTraining_ = e;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.save = function (e, t) {\n    return __awaiter(this, void 0, void 0, function () {\n      var n, r, i, a, o;\n      return __generator(this, function (s) {\n        switch (s.label) {\n          case 0:\n            if (\"string\" == typeof e) {\n              if (0 === (n = io.getSaveHandlers(e)).length) throw new ValueError(\"Cannot find any save handlers for URL '\" + e + \"'\");\n              if (n.length > 1) throw new ValueError(\"Found more than one (\" + n.length + \") save handlers for URL '\" + e + \"'\");\n              e = n[0];\n            }\n\n            if (null == e.save) throw new ValueError(\"Model.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.\");\n            return [4, io.encodeWeights(this.getNamedWeights(t))];\n\n          case 1:\n            return r = s.sent(), i = !1, a = null, o = this.toJSON(a, i), [2, e.save({\n              modelTopology: o,\n              weightData: r.data,\n              weightSpecs: r.specs\n            })];\n        }\n      });\n    });\n  }, t.className = \"Model\", t;\n}(Container);\n\nfunction modelFromJSON(e, t) {\n  return __awaiter(this, void 0, void 0, function () {\n    var n, r, i, a, o, s, l, u, c, h;\n    return __generator(this, function (p) {\n      switch (p.label) {\n        case 0:\n          return \"modelTopology\" in e || (e = {\n            modelTopology: e\n          }), null != (n = (e = e).modelTopology).model_config && (n = n.model_config), r = convertPythonicToTs(n), i = deserialize(r, t), null == e.weightsManifest ? [3, 2] : [4, io.loadWeights(e.weightsManifest, e.pathPrefix, i.weights.map(function (e) {\n            return e.originalName;\n          }))];\n\n        case 1:\n          for (a = p.sent(), o = {}, s = 0, l = i.weights; s < l.length; s++) u = l[s], o[u.originalName] = a[u.originalName];\n\n          c = null, h = !0, i.loadWeights(o, c, h), p.label = 2;\n\n        case 2:\n          return [2, i];\n      }\n    });\n  });\n}\n\nfunction loadModelInternal(e, t) {\n  return void 0 === t && (t = !0), __awaiter(this, void 0, void 0, function () {\n    var n;\n    return __generator(this, function (r) {\n      if (\"string\" == typeof e) {\n        if (0 === (n = io.getLoadHandlers(e)).length) n.push(io.browserHTTPRequest(e));else if (n.length > 1) throw new ValueError(\"Found more than one (\" + n.length + \") load handlers for URL '\" + e + \"'\");\n        e = n[0];\n      }\n\n      return [2, loadModelFromIOHandler(e, void 0, t)];\n    });\n  });\n}\n\nfunction loadModelFromIOHandler(e, t, n) {\n  return void 0 === n && (n = !0), __awaiter(this, void 0, void 0, function () {\n    var r, i, a, o, s, l;\n    return __generator(this, function (u) {\n      switch (u.label) {\n        case 0:\n          if (null == e.load) throw new ValueError(\"Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.\");\n          return [4, e.load()];\n\n        case 1:\n          if (r = u.sent(), null != (i = r.modelTopology).model_config && (i = i.model_config), a = null != r.weightData && null != r.weightSpecs && n, o = deserialize(convertPythonicToTs(i), t, a), null != r.weightData) {\n            if (null == r.weightSpecs) throw new ValueError(\"Model artifacts contains weight data, but not weight specs. Therefore loading of weights cannot proceed.\");\n            s = !1, l = !0, o.loadWeights(io.decodeWeights(r.weightData, r.weightSpecs), s, l, n);\n          }\n\n          return [2, o];\n      }\n    });\n  });\n}\n\nserialization.registerClass(Model);\n\nvar Sequential = function (e) {\n  function t(t) {\n    var n = e.call(this, {\n      inputs: [],\n      outputs: []\n    }) || this;\n    if (t = t || {}, n.trainable = !0, n._updatable = !0, n.built = !1, n.name = null != t.name ? t.name : getUid(\"sequential_\"), null != t.layers) for (var r = 0, i = t.layers; r < i.length; r++) {\n      var a = i[r];\n      n.add(a);\n    }\n    return n;\n  }\n\n  return __extends(t, e), t.prototype.checkShape = function (e) {\n    if (e.inboundNodes[0].outputTensors[0].shape.some(function (e) {\n      return e < 0;\n    })) throw new ValueError(\"Negative dimension size caused by adding layer \" + e.name + \" with input shape [\" + e.inboundNodes[0].inputTensors[0].shape + \"]\");\n  }, t.prototype.add = function (e) {\n    var n,\n        r = e instanceof t || e instanceof Model;\n\n    if (r) {\n      if (1 !== (n = e).outputs.length) throw new ValueError(\"All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.\");\n      if (1 !== n.inputs.length) throw new ValueError(\"All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.\");\n    }\n\n    if (0 === this.outputs.length) {\n      if (0 === e.inboundNodes.length) {\n        if (null == e.batchInputShape) throw new ValueError(\"The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.\");\n        var i = Input({\n          batchShape: e.batchInputShape,\n          dtype: e.dtype,\n          name: e.name + \"_input\"\n        });\n        e.apply(i);\n      }\n\n      if (r) this.outputs = n.outputs, this.inputs = n.inputs;else {\n        if (1 !== e.inboundNodes.length) throw new ValueError(\"A layer added to a Sequential model must not already be connected somewhere else. Model received layer \" + e.name + \" which has \" + e.inboundNodes.length + \" pre-existing inbound connections.\");\n        if (1 !== e.inboundNodes[0].outputTensors.length) throw new ValueError(\"All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.\");\n        this.checkShape(e), this.outputs = [e.inboundNodes[0].outputTensors[0]], this.inputs = getSourceInputs(this.outputs[0]);\n      }\n      this.inboundNodes = [], new Node({\n        outboundLayer: this,\n        inboundLayers: [],\n        nodeIndices: [],\n        tensorIndices: [],\n        inputTensors: this.inputs,\n        outputTensors: this.outputs,\n        inputMasks: pyListRepeat(null, this.inputs.length),\n        outputMasks: [null],\n        inputShapes: this.inputs.map(function (e) {\n          return e.shape;\n        }),\n        outputShapes: this.outputs[0].shape\n      });\n    } else {\n      var a = e.apply(this.outputs[0]);\n      if (Array.isArray(a)) throw new TypeError(\"All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.\");\n      this.checkShape(e), this.outputs = [a], this.inboundNodes[0].outputTensors = this.outputs, this.inboundNodes[0].outputShapes = [this.outputs[0].shape];\n    }\n\n    this.layers.push(e), this.built = !1;\n  }, t.prototype.pop = function () {\n    if (0 === this.layers.length) throw new TypeError(\"There are no layers in the model.\");\n    if (this.layers.pop(), 0 === this.layers.length) this.outputs = [], this.inboundNodes = [], this.outboundNodes = [];else {\n      var e = this.layers.length - 1;\n      this.layers[e].outboundNodes = [], this.outputs = [this.layers[e].output], this.inboundNodes[0].outputTensors = this.outputs, this.inboundNodes[0].outputShapes = [this.outputs[0].shape];\n    }\n  }, t.prototype.call = function (e, t) {\n    return null == this.model && this.build(), this.model.call(e, t);\n  }, t.prototype.build = function (e) {\n    if (getExactlyOneShape(e), 0 === this.inputs.length || 0 === this.outputs.length) throw new TypeError(\"Sequential model cannot be built: model is empty. Add some layers first.\");\n    this.model = new Model({\n      inputs: this.inputs,\n      outputs: this.outputs[0],\n      name: this.name + \"_model\"\n    }), this.model.trainable = this.trainable, this.model.updatable = this.updatable, this.supportsMasking = this.model.supportsMasking, this.inputLayers = this.model.inputLayers, this.inputLayersNodeIndices = this.model.inputLayersNodeIndices, this.inputLayersTensorIndices = this.model.inputLayersTensorIndices, this.outputLayers = this.model.outputLayers, this.outputLayersNodeIndices = this.model.outputLayersNodeIndices, this.outputLayersTensorIndices = this.model.outputLayersTensorIndices, this.nodesByDepth = this.model.nodesByDepth, this.containerNodes = this.model.containerNodes, this.outputNames = this.model.outputNames, this.inputNames = this.model.inputNames, this.built = !0;\n  }, t.prototype.countParams = function () {\n    return this.built || this.build(), e.prototype.countParams.call(this);\n  }, t.prototype.summary = function (t, n, r) {\n    void 0 === r && (r = console.log), this.built || this.build(), e.prototype.summary.call(this, t, n, r);\n  }, t.prototype.setWeights = function (e) {\n    null == this.model && this.build(), this.model.setWeights(e);\n  }, Object.defineProperty(t.prototype, \"updatable\", {\n    get: function () {\n      return this._updatable;\n    },\n    set: function (e) {\n      this.built && (this.model.updatable = e), this._updatable = e;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.evaluate = function (e, t, n) {\n    if (void 0 === n && (n = {}), !this.built) throw new RuntimeError(\"The model needs to be compiled before being used.\");\n    return this.model.evaluate(e, t, n);\n  }, t.prototype.evaluateDataset = function (e, t) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (n) {\n        if (!this.built) throw new RuntimeError(\"The model needs to be compiled before being used.\");\n        return [2, this.model.evaluateDataset(e, t)];\n      });\n    });\n  }, t.prototype.predict = function (e, t) {\n    return void 0 === t && (t = {}), null == this.model && this.build(), this.model.predict(e, t);\n  }, t.prototype.predictOnBatch = function (e) {\n    return null == this.model && this.build(), this.model.predictOnBatch(e);\n  }, t.prototype.compile = function (e) {\n    this.build(), this.model.compile(e), this.optimizer = this.model.optimizer, this.loss = this.model.loss, this.metrics = this.model.metrics, this.metricsTensors = this.model.metricsTensors, this.metricsNames = this.model.metricsNames;\n  }, t.prototype.fit = function (e, t, n) {\n    return void 0 === n && (n = {}), __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (r) {\n        if (!this.built) throw new RuntimeError(\"The model needs to be compiled before being used.\");\n        return [2, this.model.fit(e, t, n)];\n      });\n    });\n  }, t.prototype.fitDataset = function (e, t) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (n) {\n        if (!this.built) throw new RuntimeError(\"The model needs to be compiled before being used.\");\n        return [2, this.model.fitDataset(e, t)];\n      });\n    });\n  }, t.prototype.trainOnBatch = function (e, t) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (n) {\n        return [2, this.model.trainOnBatch(e, t)];\n      });\n    });\n  }, t.fromConfig = function (e, n, r, i) {\n    var a;\n    void 0 === r && (r = {}), void 0 === i && (i = !1);\n    var o = {};\n\n    if (n instanceof Array) {\n      if (null == n[0].className || \"Merge\" === n[0].className) throw new ValueError(\"Legacy serialization format not supported yet.\");\n      a = n;\n    } else util.assert(null != n.layers, \"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field.\"), a = n.layers, delete n.layers, o = n;\n\n    var s = new e(o);\n    if (!(s instanceof t)) throw new NotImplementedError(\"Sequential.fromConfig called on non-Sequential input: \" + s);\n\n    for (var l = 0, u = a; l < u.length; l++) {\n      var c = deserialize(u[l], void 0, i);\n      i && c.setFastWeightInitDuringBuild(!0), s.add(c);\n    }\n\n    return s;\n  }, Object.defineProperty(t.prototype, \"stopTraining\", {\n    set: function (e) {\n      this.model.stopTraining = e;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.getConfig = function () {\n    for (var e = [], t = 0, n = this.layers; t < n.length; t++) {\n      var r = n[t];\n      e.push({\n        className: r.getClassName(),\n        config: r.getConfig()\n      });\n    }\n\n    return e;\n  }, t.className = \"Sequential\", t;\n}(Model);\n\nfunction model(e) {\n  return new Model(e);\n}\n\nfunction sequential(e) {\n  return new Sequential(e);\n}\n\nfunction loadModel(e, t) {\n  return void 0 === t && (t = !0), loadModelInternal(e, t);\n}\n\nfunction input(e) {\n  return Input(e);\n}\n\nfunction registerCallbackConstructor(e, t) {\n  CallbackConstructorRegistry.registerCallbackConstructor(e, t);\n}\n\nserialization.registerClass(Sequential);\n\nvar Activation = function (e) {\n  function t() {\n    return null !== e && e.apply(this, arguments) || this;\n  }\n\n  return __extends(t, e), t.prototype.getConfig = function () {\n    return {};\n  }, t;\n}(serialization.Serializable),\n    Elu = function (e) {\n  function t() {\n    return null !== e && e.apply(this, arguments) || this;\n  }\n\n  return __extends(t, e), t.prototype.apply = function (e, t) {\n    return void 0 === t && (t = 1), elu$1(e, t);\n  }, t.className = \"elu\", t;\n}(Activation);\n\nserialization.registerClass(Elu);\n\nvar Selu = function (e) {\n  function t() {\n    return null !== e && e.apply(this, arguments) || this;\n  }\n\n  return __extends(t, e), t.prototype.apply = function (e) {\n    return selu(e);\n  }, t.className = \"selu\", t;\n}(Activation);\n\nserialization.registerClass(Selu);\n\nvar Relu = function (e) {\n  function t() {\n    return null !== e && e.apply(this, arguments) || this;\n  }\n\n  return __extends(t, e), t.prototype.apply = function (e) {\n    return relu(e);\n  }, t.className = \"relu\", t;\n}(Activation);\n\nserialization.registerClass(Relu);\n\nvar Relu6 = function (e) {\n  function t() {\n    return null !== e && e.apply(this, arguments) || this;\n  }\n\n  return __extends(t, e), t.prototype.apply = function (e) {\n    return tidy(function () {\n      return minimum(getScalar(6), relu(e));\n    });\n  }, t.className = \"relu6\", t;\n}(Activation);\n\nserialization.registerClass(Relu6);\n\nvar Linear = function (e) {\n  function t() {\n    return null !== e && e.apply(this, arguments) || this;\n  }\n\n  return __extends(t, e), t.prototype.apply = function (e) {\n    return e;\n  }, t.className = \"linear\", t;\n}(Activation);\n\nserialization.registerClass(Linear);\n\nvar Sigmoid = function (e) {\n  function t() {\n    return null !== e && e.apply(this, arguments) || this;\n  }\n\n  return __extends(t, e), t.prototype.apply = function (e) {\n    return sigmoid(e);\n  }, t.className = \"sigmoid\", t;\n}(Activation);\n\nserialization.registerClass(Sigmoid);\n\nvar HardSigmoid = function (e) {\n  function t() {\n    return null !== e && e.apply(this, arguments) || this;\n  }\n\n  return __extends(t, e), t.prototype.apply = function (e) {\n    return hardSigmoid(e);\n  }, t.className = \"hardSigmoid\", t;\n}(Activation);\n\nserialization.registerClass(HardSigmoid);\n\nvar Softplus = function (e) {\n  function t() {\n    return null !== e && e.apply(this, arguments) || this;\n  }\n\n  return __extends(t, e), t.prototype.apply = function (e) {\n    return softplus(e);\n  }, t.className = \"softplus\", t;\n}(Activation);\n\nserialization.registerClass(Softplus);\n\nvar Softsign = function (e) {\n  function t() {\n    return null !== e && e.apply(this, arguments) || this;\n  }\n\n  return __extends(t, e), t.prototype.apply = function (e) {\n    return softsign(e);\n  }, t.className = \"softsign\", t;\n}(Activation);\n\nserialization.registerClass(Softsign);\n\nvar Tanh = function (e) {\n  function t() {\n    return null !== e && e.apply(this, arguments) || this;\n  }\n\n  return __extends(t, e), t.prototype.apply = function (e) {\n    return tanh(e);\n  }, t.className = \"tanh\", t;\n}(Activation);\n\nserialization.registerClass(Tanh);\n\nvar Softmax = function (e) {\n  function t() {\n    return null !== e && e.apply(this, arguments) || this;\n  }\n\n  return __extends(t, e), t.prototype.apply = function (e, t) {\n    return void 0 === t && (t = -1), softmax(e, t);\n  }, t.className = \"softmax\", t;\n}(Activation);\n\nfunction serializeActivation(e) {\n  return e.getClassName();\n}\n\nfunction deserializeActivation(e, t) {\n  return void 0 === t && (t = {}), deserializeKerasObject(e, serialization.SerializationMap.getMap().classNameMap, t, \"activation\");\n}\n\nfunction getActivation(e) {\n  return null == e ? deserializeActivation({\n    className: \"linear\",\n    config: {}\n  }) : \"string\" == typeof e ? deserializeActivation({\n    className: e,\n    config: {}\n  }) : e instanceof Activation ? e : deserializeActivation(e);\n}\n\nserialization.registerClass(Softmax);\n\nvar Regularizer = function (e) {\n  function t() {\n    return null !== e && e.apply(this, arguments) || this;\n  }\n\n  return __extends(t, e), t;\n}(serialization.Serializable),\n    L1L2 = function (e) {\n  function t(t) {\n    var n = e.call(this) || this,\n        r = null == t || null == t.l1 ? .01 : t.l1,\n        i = null == t || null == t.l2 ? .01 : t.l2;\n    return n.hasL1 = 0 !== r, n.hasL2 = 0 !== i, n.l1 = getScalar(r), n.l2 = getScalar(i), n;\n  }\n\n  return __extends(t, e), t.prototype.apply = function (e) {\n    var t = this;\n    return tidy(function () {\n      var n = zeros([1]);\n      return t.hasL1 && (n = add(n, sum(mul(t.l1, abs(e))))), t.hasL2 && (n = add(n, sum(mul(t.l2, square(e))))), n.asScalar();\n    });\n  }, t.prototype.getConfig = function () {\n    return {\n      l1: this.l1.dataSync()[0],\n      l2: this.l2.dataSync()[0]\n    };\n  }, t.fromConfig = function (e, t) {\n    return new e({\n      l1: t.l1,\n      l2: t.l2\n    });\n  }, t.className = \"L1L2\", t;\n}(Regularizer);\n\nfunction l1(e) {\n  return new L1L2({\n    l1: null != e ? e.l1 : null,\n    l2: 0\n  });\n}\n\nfunction l2(e) {\n  return new L1L2({\n    l2: null != e ? e.l2 : null,\n    l1: 0\n  });\n}\n\nserialization.registerClass(L1L2);\nvar REGULARIZER_IDENTIFIER_REGISTRY_SYMBOL_MAP = {\n  l1l2: \"L1L2\"\n};\n\nfunction serializeRegularizer(e) {\n  return serializeKerasObject(e);\n}\n\nfunction deserializeRegularizer(e, t) {\n  return void 0 === t && (t = {}), deserializeKerasObject(e, serialization.SerializationMap.getMap().classNameMap, t, \"regularizer\");\n}\n\nfunction getRegularizer(e) {\n  return null == e ? null : \"string\" == typeof e ? deserializeRegularizer({\n    className: e in REGULARIZER_IDENTIFIER_REGISTRY_SYMBOL_MAP ? REGULARIZER_IDENTIFIER_REGISTRY_SYMBOL_MAP[e] : e,\n    config: {}\n  }) : e instanceof Regularizer ? e : deserializeRegularizer(e);\n}\n\nvar ReLU = function (e) {\n  function t(t) {\n    var n = e.call(this, null == t ? {} : t) || this;\n    return n.supportsMasking = !0, null != t && (n.maxValue = t.maxValue), n;\n  }\n\n  return __extends(t, e), t.prototype.call = function (e, t) {\n    e = getExactlyOneTensor(e);\n    var n = relu(e);\n    return null != this.maxValue && (n = clipByValue(n, 0, this.maxValue)), n;\n  }, t.prototype.computeOutputShape = function (e) {\n    return e;\n  }, t.prototype.getConfig = function () {\n    var t = {\n      maxValue: this.maxValue\n    },\n        n = e.prototype.getConfig.call(this);\n    return Object.assign(t, n), t;\n  }, t.className = \"ReLU\", t;\n}(Layer);\n\nserialization.registerClass(ReLU);\n\nvar LeakyReLU = function (e) {\n  function t(t) {\n    var n = e.call(this, null == t ? {} : t) || this;\n    return n.DEFAULT_ALPHA = .3, null == t && (t = {}), n.alpha = null == t.alpha ? n.DEFAULT_ALPHA : t.alpha, n;\n  }\n\n  return __extends(t, e), t.prototype.call = function (e, t) {\n    var n = getExactlyOneTensor(e);\n    return leakyRelu(n, this.alpha);\n  }, t.prototype.computeOutputShape = function (e) {\n    return e;\n  }, t.prototype.getConfig = function () {\n    var t = {\n      alpha: this.alpha\n    },\n        n = e.prototype.getConfig.call(this);\n    return Object.assign(t, n), t;\n  }, t.className = \"LeakyReLU\", t;\n}(Layer);\n\nserialization.registerClass(LeakyReLU);\n\nvar PReLU = function (e) {\n  function t(t) {\n    var n = e.call(this, null == t ? {} : t) || this;\n    if (n.DEFAULT_ALPHA_INITIALIZER = \"zeros\", null == t && (t = {}), n.supportsMasking = !0, n.alphaInitializer = getInitializer(t.alphaInitializer || n.DEFAULT_ALPHA_INITIALIZER), n.alphaRegularizer = getRegularizer(t.alphaRegularizer), n.alphaConstraint = getConstraint(t.alphaConstraint), null == t.sharedAxes) n.sharedAxes = null;else if (Array.isArray(t.sharedAxes)) n.sharedAxes = t.sharedAxes;else {\n      if (\"number\" != typeof t.sharedAxes) throw new ValueError(\"Expected sharedAxes to be a number or an array of numbers, but got \" + t.sharedAxes);\n      n.sharedAxes = [t.sharedAxes];\n    }\n    return n;\n  }\n\n  return __extends(t, e), t.prototype.build = function (e) {\n    var t = (e = getExactlyOneShape(e)).slice(1);\n    if (null != this.sharedAxes) for (var n = 0, r = this.sharedAxes; n < r.length; n++) {\n      t[(a = r[n]) - 1] = 1;\n    }\n    this.alpha = this.addWeight(\"alpha\", t, \"float32\", this.alphaInitializer, this.alphaRegularizer, !0, this.alphaConstraint);\n    var i = {};\n    if (null != this.sharedAxes) for (var a = 1; a < e.length; ++a) i[a] = e[a];\n    this.inputSpec = [new InputSpec({\n      ndim: e.length,\n      axes: i\n    })], this.built = !0;\n  }, t.prototype.call = function (e, t) {\n    return e = getExactlyOneTensor(e), prelu(e, this.alpha.read());\n  }, t.prototype.getConfig = function () {\n    var t = {\n      alphaInitializer: serializeInitializer(this.alphaInitializer),\n      alphaRegularizer: serializeRegularizer(this.alphaRegularizer),\n      alphaConstraint: serializeConstraint(this.alphaConstraint),\n      sharedAxes: this.sharedAxes\n    },\n        n = e.prototype.getConfig.call(this);\n    return Object.assign(t, n), t;\n  }, t.className = \"PReLU\", t;\n}(Layer);\n\nserialization.registerClass(PReLU);\n\nvar ELU = function (e) {\n  function t(t) {\n    var n = e.call(this, null == t ? {} : t) || this;\n    if (n.DEFAULT_ALPHA = 1, null == t && (t = {}), null != t.alpha && t.alpha !== n.DEFAULT_ALPHA) throw new NotImplementedError(\"Non-default alpha value (\" + t.alpha + \") is not supported by the ELU layer yet.\");\n    return n.alpha = null == t.alpha ? n.DEFAULT_ALPHA : t.alpha, n;\n  }\n\n  return __extends(t, e), t.prototype.call = function (e, t) {\n    var n = getExactlyOneTensor(e);\n    return elu(n);\n  }, t.prototype.computeOutputShape = function (e) {\n    return e;\n  }, t.prototype.getConfig = function () {\n    var t = {\n      alpha: this.alpha\n    },\n        n = e.prototype.getConfig.call(this);\n    return Object.assign(t, n), t;\n  }, t.className = \"ELU\", t;\n}(Layer);\n\nserialization.registerClass(ELU);\n\nvar ThresholdedReLU = function (e) {\n  function t(t) {\n    var n = e.call(this, null == t ? {} : t) || this;\n    return n.DEFAULT_THETA = 1, null == t && (t = {}), n.theta = null == t.theta ? n.DEFAULT_THETA : t.theta, n.thetaTensor = getScalar(n.theta), n;\n  }\n\n  return __extends(t, e), t.prototype.call = function (e, t) {\n    var n = getExactlyOneTensor(e);\n    return n.mul(cast$1(n.greater(this.thetaTensor), \"float32\"));\n  }, t.prototype.computeOutputShape = function (e) {\n    return e;\n  }, t.prototype.getConfig = function () {\n    var t = {\n      theta: this.theta\n    },\n        n = e.prototype.getConfig.call(this);\n    return Object.assign(t, n), t;\n  }, t.className = \"ThresholdedReLU\", t;\n}(Layer);\n\nserialization.registerClass(ThresholdedReLU);\n\nvar Softmax$1 = function (e) {\n  function t(t) {\n    var n = e.call(this, null == t ? {} : t) || this;\n    return n.DEFAULT_AXIS = 1, null == t && (t = {}), n.softmax = new Softmax().apply, n.axis = null == t.axis ? n.DEFAULT_AXIS : t.axis, n;\n  }\n\n  return __extends(t, e), t.prototype.call = function (e, t) {\n    var n = getExactlyOneTensor(e);\n    return this.softmax(n, this.axis);\n  }, t.prototype.computeOutputShape = function (e) {\n    return e;\n  }, t.prototype.getConfig = function () {\n    var t = {\n      axis: this.axis\n    },\n        n = e.prototype.getConfig.call(this);\n    return Object.assign(t, n), t;\n  }, t.className = \"Softmax\", t;\n}(Layer);\n\nfunction normalizeArray(e, t, n) {\n  if (\"number\" == typeof e) return pyListRepeat(e, t);\n  if (e.length !== t) throw new ValueError(\"The \" + n + \" argument must be a tuple of \" + t + \" integers. Received: \" + e.length + \" elements.\");\n\n  for (var r = 0; r < t; ++r) {\n    var i = e[r];\n    if (!isInteger(i)) throw new ValueError(\"The \" + n + \" argument must be a tuple of \" + t + \" integers. Received: \" + JSON.stringify(e) + \" including a non-integer number \" + i);\n  }\n\n  return e;\n}\n\nfunction convOutputLength(e, t, n, r, i) {\n  return void 0 === i && (i = 1), null == e ? e : (a = \"same\" === n ? e : e - (t + (t - 1) * (i - 1)) + 1, Math.floor((a + r - 1) / r));\n  var a;\n}\n\nfunction deconvLength(e, t, n, r) {\n  if (null == e) return null;\n  if (\"valid\" === r) e = e * t + max$1([n - t, 0]);else {\n    if (\"same\" !== r) throw new ValueError(\"Unsupport padding mode: \" + r + \".\");\n    e *= t;\n  }\n  return e;\n}\n\nfunction preprocessConv2DInput(e, t) {\n  return tidy(function () {\n    return checkDataFormat(t), \"channelsFirst\" === t ? transpose(e, [0, 2, 3, 1]) : e;\n  });\n}\n\nfunction conv1dWithBias(e, t, n, r, i, a, o) {\n  return void 0 === r && (r = 1), void 0 === i && (i = \"valid\"), void 0 === o && (o = 1), tidy(function () {\n    if (null == a && (a = imageDataFormat()), checkDataFormat(a), 3 !== e.shape.length) throw new ValueError(\"The input of a conv1dWithBias operation should be 3, but is \" + e.shape.length + \" instead.\");\n    if (3 !== t.shape.length) throw new ValueError(\"The kernel for a conv1dWithBias operation should be 3, but is \" + t.shape.length + \" instead\");\n    if (null != n && 1 !== n.shape.length) throw new ValueError(\"The bias for a conv1dWithBias operation should be 1, but is \" + t.shape.length + \" instead\");\n    if (\"channelsFirst\" === a && (e = transpose(e, [0, 2, 1])), \"causal\" === i) throw new NotImplementedError(\"The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.\");\n    var s = conv1d(e, t, r, \"same\" === i ? \"same\" : \"valid\", \"NWC\", o);\n    return null != n && (s = biasAdd(s, n)), s;\n  });\n}\n\nfunction conv2dWithBias(e, t, n, r, i, a, o) {\n  return void 0 === r && (r = [1, 1]), void 0 === i && (i = \"valid\"), tidy(function () {\n    if (null == a && (a = imageDataFormat()), checkDataFormat(a), 3 !== e.rank && 4 !== e.rank) throw new ValueError(\"conv2dWithBias expects input to be of rank 3 or 4, but received \" + e.rank + \".\");\n    if (3 !== t.rank && 4 !== t.rank) throw new ValueError(\"conv2dWithBias expects kernel to be of rank 3 or 4, but received \" + e.rank + \".\");\n    var s = preprocessConv2DInput(e, a);\n    if (\"causal\" === i) throw new NotImplementedError(\"The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.\");\n    return s = conv2d(s, t, r, \"same\" === i ? \"same\" : \"valid\", \"NHWC\", o), null != n && (s = biasAdd(s, n)), \"channelsFirst\" === a && (s = transpose(s, [0, 3, 1, 2])), s;\n  });\n}\n\nserialization.registerClass(Softmax$1);\n\nvar BaseConv = function (e) {\n  function t(n, r) {\n    var i = e.call(this, r) || this;\n    if (i.bias = null, i.DEFAULT_KERNEL_INITIALIZER = \"glorotNormal\", i.DEFAULT_BIAS_INITIALIZER = \"zeros\", t.verifyArgs(r), i.rank = n, 1 !== i.rank && 2 !== i.rank) throw new NotImplementedError(\"Convolution layer for rank other than 1 or 2 (\" + i.rank + \") is not implemented yet.\");\n    if (i.kernelSize = normalizeArray(r.kernelSize, n, \"kernelSize\"), i.strides = normalizeArray(null == r.strides ? 1 : r.strides, n, \"strides\"), i.padding = null == r.padding ? \"valid\" : r.padding, checkPaddingMode(i.padding), i.dataFormat = null == r.dataFormat ? \"channelsLast\" : r.dataFormat, checkDataFormat(i.dataFormat), i.activation = getActivation(r.activation), i.useBias = null == r.useBias || r.useBias, i.biasInitializer = getInitializer(r.biasInitializer || i.DEFAULT_BIAS_INITIALIZER), i.biasConstraint = getConstraint(r.biasConstraint), i.biasRegularizer = getRegularizer(r.biasRegularizer), i.activityRegularizer = getRegularizer(r.activityRegularizer), i.dilationRate = normalizeArray(null == r.dilationRate ? 1 : r.dilationRate, n, \"dilationRate\"), 1 === i.rank && Array.isArray(i.dilationRate) && 1 !== i.dilationRate.length) throw new ValueError(\"dilationRate must be a number or an array of a single number for 1D convolution, but received \" + JSON.stringify(i.dilationRate));\n    if (2 === i.rank) if (\"number\" == typeof i.dilationRate) i.dilationRate = [i.dilationRate, i.dilationRate];else if (2 !== i.dilationRate.length) throw new ValueError(\"dilationRate must be a number or array of two numbers for 2D convolution, but received \" + JSON.stringify(i.dilationRate));\n    return i;\n  }\n\n  return __extends(t, e), t.verifyArgs = function (e) {\n    if (assert(\"kernelSize\" in e, \"required key 'kernelSize' not in config\"), \"number\" != typeof e.kernelSize && !checkArrayTypeAndLength(e.kernelSize, \"number\", 1, 2)) throw new ValueError(\"BaseConv expects config.kernelSize to be number or number[] with length 1 or 2, but received \" + JSON.stringify(e.kernelSize) + \".\");\n  }, t.prototype.getConfig = function () {\n    var t = {\n      kernelSize: this.kernelSize,\n      strides: this.strides,\n      padding: this.padding,\n      dataFormat: this.dataFormat,\n      dilationRate: this.dilationRate,\n      activation: serializeActivation(this.activation),\n      useBias: this.useBias,\n      biasInitializer: serializeInitializer(this.biasInitializer),\n      biasRegularizer: serializeRegularizer(this.biasRegularizer),\n      activityRegularizer: serializeRegularizer(this.activityRegularizer),\n      biasConstraint: serializeConstraint(this.biasConstraint)\n    },\n        n = e.prototype.getConfig.call(this);\n    return Object.assign(t, n), t;\n  }, t;\n}(Layer),\n    Conv = function (e) {\n  function t(n, r) {\n    var i = e.call(this, n, r) || this;\n    return i.kernel = null, t.verifyArgs(r), i.filters = r.filters, i.kernelInitializer = getInitializer(r.kernelInitializer || i.DEFAULT_KERNEL_INITIALIZER), i.kernelConstraint = getConstraint(r.kernelConstraint), i.kernelRegularizer = getRegularizer(r.kernelRegularizer), i;\n  }\n\n  return __extends(t, e), t.prototype.build = function (e) {\n    e = getExactlyOneShape(e);\n    var t = \"channelsFirst\" === this.dataFormat ? 1 : e.length - 1;\n    if (null == e[t]) throw new ValueError(\"The channel dimension of the input should be defined. Found \" + e[t]);\n    var n,\n        r = e[t],\n        i = this.kernelSize.concat([r, this.filters]);\n    this.kernel = this.addWeight(\"kernel\", i, null, this.kernelInitializer, this.kernelRegularizer, !0, this.kernelConstraint), this.useBias && (this.bias = this.addWeight(\"bias\", [this.filters], null, this.biasInitializer, this.biasRegularizer, !0, this.biasConstraint)), this.inputSpec = [{\n      ndim: this.rank + 2,\n      axes: (n = {}, n[t] = r, n)\n    }], this.built = !0;\n  }, t.prototype.call = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      var t;\n      e = getExactlyOneTensor(e);\n      var r = null == n.bias ? null : n.bias.read();\n      if (1 === n.rank) t = conv1dWithBias(e, n.kernel.read(), r, n.strides[0], n.padding, n.dataFormat, n.dilationRate[0]);else if (2 === n.rank) t = conv2dWithBias(e, n.kernel.read(), r, n.strides, n.padding, n.dataFormat, n.dilationRate);else if (3 === n.rank) throw new NotImplementedError(\"3D convolution is not implemented yet.\");\n      return null != n.activation && (t = n.activation.apply(t)), t;\n    });\n  }, t.prototype.computeOutputShape = function (e) {\n    e = getExactlyOneShape(e);\n\n    for (var t = [], n = \"channelsLast\" === this.dataFormat ? e.slice(1, e.length - 1) : e.slice(2), r = 0; r < n.length; ++r) {\n      var i = convOutputLength(n[r], this.kernelSize[r], this.padding, this.strides[r], \"number\" == typeof this.dilationRate ? this.dilationRate : this.dilationRate[r]);\n      t.push(i);\n    }\n\n    var a = [e[0]];\n    return \"channelsLast\" === this.dataFormat ? (a = a.concat(t)).push(this.filters) : (a.push(this.filters), a = a.concat(t)), a;\n  }, t.prototype.getConfig = function () {\n    var t = {\n      filters: this.filters,\n      kernelInitializer: serializeInitializer(this.kernelInitializer),\n      kernelRegularizer: serializeRegularizer(this.kernelRegularizer),\n      kernelConstraint: serializeConstraint(this.kernelConstraint)\n    },\n        n = e.prototype.getConfig.call(this);\n    return Object.assign(t, n), t;\n  }, t.verifyArgs = function (e) {\n    if (!(\"filters\" in e) || \"number\" != typeof e.filters || e.filters < 1) throw new ValueError(\"Convolution layer expected config.filters to be a 'number' > 0 but got \" + JSON.stringify(e.filters));\n  }, t;\n}(BaseConv),\n    Conv2D = function (e) {\n  function t(n) {\n    var r = e.call(this, 2, n) || this;\n    return t.verifyArgs(n), r;\n  }\n\n  return __extends(t, e), t.prototype.getConfig = function () {\n    var t = e.prototype.getConfig.call(this);\n    return delete t.rank, t;\n  }, t.verifyArgs = function (e) {\n    if (\"number\" != typeof e.kernelSize && !checkArrayTypeAndLength(e.kernelSize, \"number\", 1, 2)) throw new ValueError(\"Conv2D expects config.kernelSize to be number or number[] with length 1 or 2, but received \" + JSON.stringify(e.kernelSize) + \".\");\n  }, t.className = \"Conv2D\", t;\n}(Conv);\n\nserialization.registerClass(Conv2D);\n\nvar Conv2DTranspose = function (e) {\n  function t(t) {\n    var n = e.call(this, t) || this;\n    if (n.inputSpec = [new InputSpec({\n      ndim: 4\n    })], \"same\" !== n.padding && \"valid\" !== n.padding) throw new ValueError(\"Conv2DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode \" + n.padding);\n    return n;\n  }\n\n  return __extends(t, e), t.prototype.build = function (e) {\n    if (4 !== (e = getExactlyOneShape(e)).length) throw new ValueError(\"Input should have rank 4; Received input shape: \" + JSON.stringify(e));\n    var t = \"channelsFirst\" === this.dataFormat ? 1 : e.length - 1;\n    if (null == e[t]) throw new ValueError(\"The channel dimension of the inputs should be defined. Found `None`.\");\n    var n,\n        r = e[t],\n        i = this.kernelSize.concat([this.filters, r]);\n    this.kernel = this.addWeight(\"kernel\", i, \"float32\", this.kernelInitializer, this.kernelRegularizer, !0, this.kernelConstraint), this.useBias && (this.bias = this.addWeight(\"bias\", [this.filters], \"float32\", this.biasInitializer, this.biasRegularizer, !0, this.biasConstraint)), this.inputSpec = [new InputSpec({\n      ndim: 4,\n      axes: (n = {}, n[t] = r, n)\n    })], this.built = !0;\n  }, t.prototype.call = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      var t = getExactlyOneTensor(e);\n      if (4 !== t.shape.length) throw new ValueError(\"Conv2DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-\" + t.shape.length);\n      var r,\n          i,\n          a = t.shape,\n          o = a[0];\n      \"channelsFirst\" === n.dataFormat ? (r = 2, i = 3) : (r = 1, i = 2);\n      var s = a[r],\n          l = a[i],\n          u = n.kernelSize[0],\n          c = n.kernelSize[1],\n          h = n.strides[0],\n          p = n.strides[1],\n          d = [o, deconvLength(s, h, u, n.padding), deconvLength(l, p, c, n.padding), n.filters];\n      \"channelsLast\" !== n.dataFormat && (t = transpose(t, [0, 2, 3, 1]));\n      var g = conv2dTranspose(t, n.kernel.read(), d, n.strides, n.padding);\n      return \"channelsLast\" !== n.dataFormat && (g = transpose(g, [0, 3, 1, 2])), null != n.bias && (g = biasAdd(g, n.bias.read(), n.dataFormat)), null != n.activation && (g = n.activation.apply(g)), g;\n    });\n  }, t.prototype.computeOutputShape = function (e) {\n    var t,\n        n,\n        r,\n        i = (e = getExactlyOneShape(e)).slice();\n    \"channelsFirst\" === this.dataFormat ? (t = 1, n = 2, r = 3) : (t = 3, n = 1, r = 2);\n    var a = this.kernelSize[0],\n        o = this.kernelSize[1],\n        s = this.strides[0],\n        l = this.strides[1];\n    return i[t] = this.filters, i[n] = deconvLength(i[n], s, a, this.padding), i[r] = deconvLength(i[r], l, o, this.padding), i;\n  }, t.prototype.getConfig = function () {\n    var t = e.prototype.getConfig.call(this);\n    return delete t.dilationRate, t;\n  }, t.className = \"Conv2DTranspose\", t;\n}(Conv2D);\n\nserialization.registerClass(Conv2DTranspose);\n\nvar SeparableConv = function (e) {\n  function t(t, n) {\n    var r = e.call(this, t, n) || this;\n    if (r.DEFAULT_DEPTHWISE_INITIALIZER = \"glorotUniform\", r.DEFAULT_POINTWISE_INITIALIZER = \"glorotUniform\", r.depthwiseKernel = null, r.pointwiseKernel = null, null == n.filters) throw new ValueError(\"The `filters` configuration field is required by SeparableConv, but is unspecified.\");\n    if (null != n.kernelInitializer || null != n.kernelRegularizer || null != n.kernelConstraint) throw new ValueError(\"Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.\");\n    if (null != n.padding && \"same\" !== n.padding && \"valid\" !== n.padding) throw new ValueError(\"SeparableConv\" + r.rank + \"D supports only padding modes: 'same' and 'valid', but received \" + JSON.stringify(n.padding));\n    return r.depthMultiplier = null == n.depthMultiplier ? 1 : n.depthMultiplier, r.depthwiseInitializer = getInitializer(n.depthwiseInitializer || r.DEFAULT_DEPTHWISE_INITIALIZER), r.depthwiseRegularizer = getRegularizer(n.depthwiseRegularizer), r.depthwiseConstraint = getConstraint(n.depthwiseConstraint), r.pointwiseInitializer = getInitializer(n.depthwiseInitializer || r.DEFAULT_POINTWISE_INITIALIZER), r.pointwiseRegularizer = getRegularizer(n.pointwiseRegularizer), r.pointwiseConstraint = getConstraint(n.pointwiseConstraint), r;\n  }\n\n  return __extends(t, e), t.prototype.build = function (e) {\n    if ((e = getExactlyOneShape(e)).length < this.rank + 2) throw new ValueError(\"Inputs to SeparableConv\" + this.rank + \"D should have rank \" + (this.rank + 2) + \", but received input shape: \" + JSON.stringify(e));\n    var t = \"channelsFirst\" === this.dataFormat ? 1 : e.length - 1;\n    if (null == e[t] || e[t] < 0) throw new ValueError(\"The channel dimension of the inputs should be defined, but found \" + JSON.stringify(e[t]));\n\n    for (var n = e[t], r = this.kernelSize.concat([n, this.depthMultiplier]), i = [], a = 0; a < this.rank; ++a) i.push(1);\n\n    i.push(n * this.depthMultiplier, this.filters);\n    var o;\n    this.depthwiseKernel = this.addWeight(\"depthwise_kernel\", r, \"float32\", this.depthwiseInitializer, this.depthwiseRegularizer, !0, this.depthwiseConstraint), this.pointwiseKernel = this.addWeight(\"pointwise_kernel\", i, \"float32\", this.pointwiseInitializer, this.pointwiseRegularizer, !0, this.pointwiseConstraint), this.useBias ? this.bias = this.addWeight(\"bias\", [this.filters], \"float32\", this.biasInitializer, this.biasRegularizer, !0, this.biasConstraint) : this.bias = null, this.inputSpec = [new InputSpec({\n      ndim: this.rank + 2,\n      axes: (o = {}, o[t] = n, o)\n    })], this.built = !0;\n  }, t.prototype.call = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      var t;\n      if (e = getExactlyOneTensor(e), 1 === n.rank) throw new NotImplementedError(\"1D separable convolution is not implemented yet.\");\n      return 2 === n.rank && (\"channelsFirst\" === n.dataFormat && (e = transpose(e, [0, 2, 3, 1])), t = separableConv2d(e, n.depthwiseKernel.read(), n.pointwiseKernel.read(), n.strides, n.padding, n.dilationRate, \"NHWC\")), n.useBias && (t = biasAdd(t, n.bias.read(), n.dataFormat)), null != n.activation && (t = n.activation.apply(t)), \"channelsFirst\" === n.dataFormat && (t = transpose(t, [0, 3, 1, 2])), t;\n    });\n  }, t.prototype.getConfig = function () {\n    var t = e.prototype.getConfig.call(this);\n    return delete t.rank, delete t.kernelInitializer, delete t.kernelRegularizer, delete t.kernelConstraint, t.depthwiseInitializer = serializeInitializer(this.depthwiseInitializer), t.pointwiseInitializer = serializeInitializer(this.pointwiseInitializer), t.depthwiseRegularizer = serializeRegularizer(this.depthwiseRegularizer), t.pointwiseRegularizer = serializeRegularizer(this.pointwiseRegularizer), t.depthwiseConstraint = serializeConstraint(this.depthwiseConstraint), t.pointwiseConstraint = serializeConstraint(this.pointwiseConstraint), t;\n  }, t.className = \"SeparableConv\", t;\n}(Conv),\n    SeparableConv2D = function (e) {\n  function t(t) {\n    return e.call(this, 2, t) || this;\n  }\n\n  return __extends(t, e), t.className = \"SeparableConv2D\", t;\n}(SeparableConv);\n\nserialization.registerClass(SeparableConv2D);\n\nvar Conv1D = function (e) {\n  function t(n) {\n    var r = e.call(this, 1, n) || this;\n    return t.verifyArgs(n), r.inputSpec = [{\n      ndim: 3\n    }], r;\n  }\n\n  return __extends(t, e), t.prototype.getConfig = function () {\n    var t = e.prototype.getConfig.call(this);\n    return delete t.rank, delete t.dataFormat, t;\n  }, t.verifyArgs = function (e) {\n    if (\"number\" != typeof e.kernelSize && !checkArrayTypeAndLength(e.kernelSize, \"number\", 1, 1)) throw new ValueError(\"Conv1D expects config.kernelSize to be number or number[] with length 1, but received \" + JSON.stringify(e.kernelSize) + \".\");\n  }, t.className = \"Conv1D\", t;\n}(Conv);\n\nserialization.registerClass(Conv1D);\n\nvar Cropping2D = function (e) {\n  function t(t) {\n    var n = e.call(this, t) || this;\n    return \"number\" == typeof t.cropping ? n.cropping = [[t.cropping, t.cropping], [t.cropping, t.cropping]] : \"number\" == typeof t.cropping[0] ? n.cropping = [[t.cropping[0], t.cropping[0]], [t.cropping[1], t.cropping[1]]] : n.cropping = t.cropping, n.dataFormat = void 0 === t.dataFormat ? \"channelsLast\" : t.dataFormat, n.inputSpec = [{\n      ndim: 4\n    }], n;\n  }\n\n  return __extends(t, e), t.prototype.computeOutputShape = function (e) {\n    return \"channelsFirst\" === this.dataFormat ? [e[0], e[1], e[2] - this.cropping[0][0] - this.cropping[0][1], e[3] - this.cropping[1][0] - this.cropping[1][1]] : [e[0], e[1] - this.cropping[0][0] - this.cropping[0][1], e[2] - this.cropping[1][0] - this.cropping[1][1], e[3]];\n  }, t.prototype.call = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      return e = getExactlyOneTensor(e), \"channelsLast\" === n.dataFormat ? sliceAlongAxis(sliceAlongAxis(e, n.cropping[0][0], e.shape[1] - n.cropping[0][0] - n.cropping[0][1], 2), n.cropping[1][0], e.shape[2] - n.cropping[1][1] - n.cropping[1][0], 3) : sliceAlongAxis(sliceAlongAxis(e, n.cropping[0][0], e.shape[2] - n.cropping[0][0] - n.cropping[0][1], 3), n.cropping[1][0], e.shape[3] - n.cropping[1][1] - n.cropping[1][0], 4);\n    });\n  }, t.prototype.getConfig = function () {\n    var t = {\n      cropping: this.cropping,\n      dataFormat: this.dataFormat\n    },\n        n = e.prototype.getConfig.call(this);\n    return Object.assign(t, n), t;\n  }, t.className = \"Cropping2D\", t;\n}(Layer);\n\nserialization.registerClass(Cropping2D);\n\nvar UpSampling2D = function (e) {\n  function t(t) {\n    var n = e.call(this, t) || this;\n    return n.DEFAULT_SIZE = [2, 2], n.inputSpec = [{\n      ndim: 4\n    }], n.size = null == t.size ? n.DEFAULT_SIZE : t.size, n.dataFormat = null == t.dataFormat ? \"channelsLast\" : t.dataFormat, n;\n  }\n\n  return __extends(t, e), t.prototype.computeOutputShape = function (e) {\n    if (\"channelsFirst\" === this.dataFormat) {\n      var t = null == e[2] ? null : this.size[0] * e[2],\n          n = null == e[3] ? null : this.size[1] * e[3];\n      return [e[0], e[1], t, n];\n    }\n\n    t = null == e[1] ? null : this.size[0] * e[1], n = null == e[2] ? null : this.size[1] * e[2];\n    return [e[0], t, n, e[3]];\n  }, t.prototype.call = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      var t = getExactlyOneTensor(e),\n          r = t.shape;\n\n      if (\"channelsFirst\" === n.dataFormat) {\n        t = transpose(t, [0, 2, 3, 1]);\n        var i = n.size[0] * r[2],\n            a = n.size[1] * r[3],\n            o = t.resizeNearestNeighbor([i, a]);\n        return transpose(o, [0, 3, 1, 2]);\n      }\n\n      i = n.size[0] * r[1], a = n.size[1] * r[2];\n      return t.resizeNearestNeighbor([i, a]);\n    });\n  }, t.prototype.getConfig = function () {\n    var t = {\n      size: this.size,\n      dataFormat: this.dataFormat\n    },\n        n = e.prototype.getConfig.call(this);\n    return Object.assign(t, n), t;\n  }, t.className = \"UpSampling2D\", t;\n}(Layer);\n\nfunction depthwiseConv2d$1(e, t, n, r, i, a) {\n  return void 0 === n && (n = [1, 1]), void 0 === r && (r = \"valid\"), tidy(function () {\n    null == i && (i = imageDataFormat()), checkDataFormat(i);\n    var o = preprocessConv2DInput(e, i);\n    if (4 !== e.rank) throw new ValueError(\"Input for depthwiseConv2d is required to be 4-D, but is instead \" + e.rank + \"-D\");\n    if (4 !== t.rank) throw new ValueError(\"depthwiseKernel is required to be 4-D, but is instead \" + t.rank + \"-D\");\n    return o = depthwiseConv2d(o, t, n, \"same\" === r ? \"same\" : \"valid\", \"NHWC\", a), \"channelsFirst\" === i && (o = transpose(o, [0, 3, 1, 2])), o;\n  });\n}\n\nserialization.registerClass(UpSampling2D);\n\nvar DepthwiseConv2D = function (e) {\n  function t(t) {\n    var n = e.call(this, 2, t) || this;\n    return n.depthwiseKernel = null, n.depthMultiplier = null == t.depthMultiplier ? 1 : t.depthMultiplier, n.depthwiseInitializer = getInitializer(t.depthwiseInitializer || n.DEFAULT_KERNEL_INITIALIZER), n.depthwiseConstraint = getConstraint(t.depthwiseConstraint), n.depthwiseRegularizer = getRegularizer(t.depthwiseRegularizer), n;\n  }\n\n  return __extends(t, e), t.prototype.build = function (e) {\n    if ((e = getExactlyOneShape(e)).length < 4) throw new ValueError(\"Inputs to DepthwiseConv2D should have rank 4. Received input shape: \" + JSON.stringify(e) + \".\");\n    var t = \"channelsFirst\" === this.dataFormat ? 1 : 3;\n    if (null == e[t] || e[t] < 0) throw new ValueError(\"The channel dimension of the inputs to DepthwiseConv2D should be defined, but is not (\" + e[t] + \").\");\n    var n = e[t],\n        r = [this.kernelSize[0], this.kernelSize[1], n, this.depthMultiplier];\n    this.depthwiseKernel = this.addWeight(\"depthwise_kernel\", r, null, this.depthwiseInitializer, this.depthwiseRegularizer, !0, this.depthwiseConstraint), this.useBias ? this.bias = this.addWeight(\"bias\", [n * this.depthMultiplier], null, this.biasInitializer, this.biasRegularizer, !0, this.biasConstraint) : this.bias = null, this.built = !0;\n  }, t.prototype.call = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      var t = depthwiseConv2d$1(e = getExactlyOneTensor(e), n.depthwiseKernel.read(), n.strides, n.padding, n.dataFormat, null);\n      return n.useBias && (t = biasAdd(t, n.bias.read(), n.dataFormat)), null != n.activation && (t = n.activation.apply(t)), t;\n    });\n  }, t.prototype.computeOutputShape = function (e) {\n    e = getExactlyOneShape(e);\n    var t = \"channelsFirst\" === this.dataFormat ? e[2] : e[1],\n        n = \"channelsFirst\" === this.dataFormat ? e[3] : e[2],\n        r = \"channelsFirst\" === this.dataFormat ? e[1] * this.depthMultiplier : e[3] * this.depthMultiplier,\n        i = convOutputLength(t, this.kernelSize[0], this.padding, this.strides[0]),\n        a = convOutputLength(n, this.kernelSize[1], this.padding, this.strides[1]);\n    return \"channelsFirst\" === this.dataFormat ? [e[0], r, i, a] : [e[0], i, a, r];\n  }, t.prototype.getConfig = function () {\n    var t = e.prototype.getConfig.call(this);\n    return t.depthMultiplier = this.depthMultiplier, t.depthwiseInitializer = serializeInitializer(this.depthwiseInitializer), t.depthwiseRegularizer = serializeRegularizer(this.depthwiseRegularizer), t.depthwiseConstraint = serializeConstraint(this.depthwiseRegularizer), t;\n  }, t.className = \"DepthwiseConv2D\", t;\n}(BaseConv);\n\nserialization.registerClass(DepthwiseConv2D);\n\nvar Dropout = function (e) {\n  function t(t) {\n    var n = e.call(this, t) || this;\n    if (n.rate = Math.max(Math.min(t.rate, 1), 0), n.rateScalar = getScalar(n.rate), n.noiseShape = t.noiseShape, n.seed = t.seed, null != n.seed) throw new NotImplementedError(\"Non-default seed is not implemented in Dropout layer yet: \" + n.seed);\n    return n.supportsMasking = !0, n;\n  }\n\n  return __extends(t, e), t.prototype.getNoiseShape = function (e) {\n    if (null == this.noiseShape) return this.noiseShape;\n\n    for (var t = e.shape, n = [], r = 0; r < this.noiseShape.length; ++r) n.push(null == this.noiseShape[r] ? t[r] : this.noiseShape[r]);\n\n    return n;\n  }, t.prototype.call = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      n.invokeCallHook(e, t);\n      var r = getExactlyOneTensor(e);\n      if (null != n.noiseShape && !util.arraysEqual(r.shape, n.noiseShape)) throw new NotImplementedError(\"Non-default noise shape is not implemented in Dropout layer yet: \" + JSON.stringify(n.noiseShape));\n\n      if (0 < n.rate && n.rate < 1) {\n        var i = null != t.training && t.training,\n            a = n.getNoiseShape(r);\n        return inTrainPhase(function () {\n          return dropout(r, n.rateScalar, a, n.seed);\n        }, function () {\n          return r;\n        }, i);\n      }\n\n      return e;\n    });\n  }, t.prototype.getConfig = function () {\n    var t = {\n      rate: this.rate,\n      noiseShape: this.noiseShape,\n      seed: this.seed\n    },\n        n = e.prototype.getConfig.call(this);\n    return Object.assign(t, n), t;\n  }, t.className = \"Dropout\", t;\n}(Layer);\n\nserialization.registerClass(Dropout);\n\nvar Dense = function (e) {\n  function t(t) {\n    var n = e.call(this, t) || this;\n\n    if (n.activation = null, n.useBias = !0, n.kernel = null, n.bias = null, n.DEFAULT_KERNEL_INITIALIZER = \"glorotNormal\", n.DEFAULT_BIAS_INITIALIZER = \"zeros\", null == t.batchInputShape && null == t.inputShape && null != t.inputDim) {\n      var r = null;\n      null != t.batchSize && (r = t.batchSize), n.batchInputShape = [r, t.inputDim];\n    }\n\n    return n.units = t.units, n.activation = getActivation(t.activation), null != t.useBias && (n.useBias = t.useBias), n.kernelInitializer = getInitializer(t.kernelInitializer || n.DEFAULT_KERNEL_INITIALIZER), n.biasInitializer = getInitializer(t.biasInitializer || n.DEFAULT_BIAS_INITIALIZER), n.kernelConstraint = getConstraint(t.kernelConstraint), n.biasConstraint = getConstraint(t.biasConstraint), n.kernelRegularizer = getRegularizer(t.kernelRegularizer), n.biasRegularizer = getRegularizer(t.biasRegularizer), n.activityRegularizer = getRegularizer(t.activityRegularizer), n.supportsMasking = !0, n.inputSpec = [{\n      minNDim: 2\n    }], n;\n  }\n\n  return __extends(t, e), t.prototype.build = function (e) {\n    var t,\n        n = (e = getExactlyOneShape(e))[e.length - 1];\n    null == this.kernel && (this.kernel = this.addWeight(\"kernel\", [n, this.units], null, this.kernelInitializer, this.kernelRegularizer, !0, this.kernelConstraint), this.useBias && (this.bias = this.addWeight(\"bias\", [this.units], null, this.biasInitializer, this.biasRegularizer, !0, this.biasConstraint))), this.inputSpec = [{\n      minNDim: 2,\n      axes: (t = {}, t[-1] = n, t)\n    }], this.built = !0;\n  }, t.prototype.computeOutputShape = function (e) {\n    var t = (e = getExactlyOneShape(e)).slice();\n    return t[t.length - 1] = this.units, t;\n  }, t.prototype.call = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      n.invokeCallHook(e, t);\n      var r = dot(getExactlyOneTensor(e), n.kernel.read());\n      return null != n.bias && (r = biasAdd(r, n.bias.read())), null != n.activation && (r = n.activation.apply(r)), r;\n    });\n  }, t.prototype.getConfig = function () {\n    var t = {\n      units: this.units,\n      activation: serializeActivation(this.activation),\n      useBias: this.useBias,\n      kernelInitializer: serializeInitializer(this.kernelInitializer),\n      biasInitializer: serializeInitializer(this.biasInitializer),\n      kernelRegularizer: serializeRegularizer(this.kernelRegularizer),\n      biasRegularizer: serializeRegularizer(this.biasRegularizer),\n      activityRegularizer: serializeRegularizer(this.activityRegularizer),\n      kernelConstraint: serializeConstraint(this.kernelConstraint),\n      biasConstraint: serializeConstraint(this.biasConstraint)\n    },\n        n = e.prototype.getConfig.call(this);\n    return Object.assign(t, n), t;\n  }, t.className = \"Dense\", t;\n}(Layer);\n\nserialization.registerClass(Dense);\n\nvar Flatten = function (e) {\n  function t(t) {\n    var n = e.call(this, t || {}) || this;\n    return n.inputSpec = [{\n      minNDim: 3\n    }], n;\n  }\n\n  return __extends(t, e), t.prototype.computeOutputShape = function (e) {\n    for (var t = 0, n = (e = getExactlyOneShape(e)).slice(1); t < n.length; t++) {\n      if (null == n[t]) throw new ValueError('The shape of the input to \"Flatten\" is not fully defined (got ' + e.slice(1) + '). Make sure to pass a complete \"input_shape\" or \"batch_input_shape\" argument to the first layer in your model.');\n    }\n\n    return [e[0], arrayProd(e, 1)];\n  }, t.prototype.call = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      return n.invokeCallHook(e, t), batchFlatten(getExactlyOneTensor(e));\n    });\n  }, t.className = \"Flatten\", t;\n}(Layer);\n\nserialization.registerClass(Flatten);\n\nvar Activation$1 = function (e) {\n  function t(t) {\n    var n = e.call(this, t) || this;\n    return n.supportsMasking = !0, n.activation = getActivation(t.activation), n;\n  }\n\n  return __extends(t, e), t.prototype.call = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      n.invokeCallHook(e, t);\n      var r = getExactlyOneTensor(e);\n      return n.activation.apply(r);\n    });\n  }, t.prototype.getConfig = function () {\n    var t = {\n      activation: serializeActivation(this.activation)\n    },\n        n = e.prototype.getConfig.call(this);\n    return Object.assign(t, n), t;\n  }, t.className = \"Activation\", t;\n}(Layer);\n\nserialization.registerClass(Activation$1);\n\nvar RepeatVector = function (e) {\n  function t(t) {\n    var n = e.call(this, t) || this;\n    return n.n = t.n, n.inputSpec = [{\n      ndim: 2\n    }], n;\n  }\n\n  return __extends(t, e), t.prototype.computeOutputShape = function (e) {\n    return [e[0], this.n, e[1]];\n  }, t.prototype.call = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      return repeat(e = getExactlyOneTensor(e), n.n);\n    });\n  }, t.prototype.getConfig = function () {\n    var t = {\n      n: this.n\n    },\n        n = e.prototype.getConfig.call(this);\n    return Object.assign(t, n), t;\n  }, t.className = \"RepeatVector\", t;\n}(Layer);\n\nserialization.registerClass(RepeatVector);\n\nvar Reshape = function (e) {\n  function t(t) {\n    var n = e.call(this, t) || this;\n    n.targetShape = t.targetShape;\n\n    for (var r = 0; r < n.targetShape.length; ++r) n.isUnknown(n.targetShape[r]) && (n.targetShape[r] = null);\n\n    return n;\n  }\n\n  return __extends(t, e), t.prototype.isUnknown = function (e) {\n    return e < 0 || null == e;\n  }, t.prototype.fixUnknownDimension = function (e, t) {\n    for (var n = \"Total size of new array must be unchanged.\", r = t.slice(), i = 1, a = null, o = 0; o < r.length; ++o) {\n      var s = r[o];\n\n      if (this.isUnknown(s)) {\n        if (null !== a) throw new ValueError(\"Can only specifiy one unknown dimension.\");\n        a = o;\n      } else i *= s;\n    }\n\n    var l = arrayProd(e);\n\n    if (null !== a) {\n      if (0 === i || l % i != 0) throw new ValueError(n);\n      r[a] = l / i;\n    } else if (l !== i) throw new ValueError(n);\n\n    return r;\n  }, t.prototype.computeOutputShape = function (e) {\n    for (var t = !1, n = 0; n < e.length; ++n) if (this.isUnknown(e[n])) {\n      t = !0;\n      break;\n    }\n\n    return t ? e.slice(0, 1).concat(this.targetShape) : e.slice(0, 1).concat(this.fixUnknownDimension(e.slice(1), this.targetShape));\n  }, t.prototype.call = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      n.invokeCallHook(e, t);\n      var r = getExactlyOneTensor(e),\n          i = r.shape,\n          a = i.slice(0, 1).concat(n.fixUnknownDimension(i.slice(1), n.targetShape));\n      return r.reshape(a);\n    });\n  }, t.prototype.getConfig = function () {\n    var t = {\n      targetShape: this.targetShape\n    },\n        n = e.prototype.getConfig.call(this);\n    return Object.assign(t, n), t;\n  }, t.className = \"Reshape\", t;\n}(Layer);\n\nserialization.registerClass(Reshape);\n\nvar Permute = function (e) {\n  function t(t) {\n    var n = e.call(this, t) || this;\n    if (null == t.dims) throw new Error(\"Required configuration field `dims` is missing during Permute constructor call.\");\n    if (!Array.isArray(t.dims)) throw new Error(\"Permute constructor requires `dims` to be an Array, but received \" + t.dims + \" instead.\");\n    var r = range(1, t.dims.length + 1);\n    if (!util.arraysEqual(t.dims.slice().sort(), r)) throw new Error(\"Invalid permutation `dims`: \" + JSON.stringify(t.dims) + \" `dims` must contain consecutive integers starting from 1.\");\n    return n.dims = t.dims, n.dimsIncludingBatch = [0].concat(n.dims), n.inputSpec = [new InputSpec({\n      ndim: n.dims.length + 1\n    })], n;\n  }\n\n  return __extends(t, e), t.prototype.computeOutputShape = function (e) {\n    var t = (e = getExactlyOneShape(e)).slice();\n    return this.dims.forEach(function (n, r) {\n      t[r + 1] = e[n];\n    }), t;\n  }, t.prototype.call = function (e, t) {\n    return transpose(getExactlyOneTensor(e), this.dimsIncludingBatch);\n  }, t.prototype.getConfig = function () {\n    var t = {\n      dims: this.dims\n    },\n        n = e.prototype.getConfig.call(this);\n    return Object.assign(t, n), t;\n  }, t.className = \"Permute\", t;\n}(Layer);\n\nserialization.registerClass(Permute);\n\nvar Embedding = function (e) {\n  function t(t) {\n    var n = e.call(this, t) || this;\n\n    if (n.embeddings = null, n.DEFAULT_EMBEDDINGS_INITIALIZER = \"randomUniform\", null == t.batchInputShape && null == t.inputShape) {\n      var r = null;\n      null != t.batchSize && (r = t.batchSize), null == t.inputLength ? n.batchInputShape = [r, null] : n.batchInputShape = [r].concat(toList(t.inputLength));\n    }\n\n    return n.inputDim = t.inputDim, n.outputDim = t.outputDim, n.embeddingsInitializer = getInitializer(t.embeddingsInitializer || n.DEFAULT_EMBEDDINGS_INITIALIZER), n.embeddingsRegularizer = getRegularizer(t.embeddingsRegularizer), n.activityRegularizer = getRegularizer(t.activityRegularizer), n.embeddingsConstraint = getConstraint(t.embeddingsConstraint), n.maskZero = t.maskZero, n.supportsMasking = t.maskZero, n.inputLength = t.inputLength, n;\n  }\n\n  return __extends(t, e), t.prototype.build = function (e) {\n    this.embeddings = this.addWeight(\"embeddings\", [this.inputDim, this.outputDim], this.dtype, this.embeddingsInitializer, this.embeddingsRegularizer, !0, this.embeddingsConstraint), this.built = !0;\n  }, t.prototype.warnOnIncompatibleInputShape = function (e) {}, t.prototype.computeMask = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      return n.maskZero ? (e = getExactlyOneTensor(e), notEqual(e, zerosLike(e))) : null;\n    });\n  }, t.prototype.computeOutputShape = function (e) {\n    if (e = getExactlyOneShape(e), null == this.inputLength) return e.concat([this.outputDim]);\n    var t = toList(this.inputLength);\n    if (t.length !== e.length - 1) throw new ValueError('\"inputLength\" is ' + this.inputLength + \", but received input shape has shape \" + e);\n\n    for (var n = 0, r = 0; r < t.length; ++r) {\n      var i = t[r],\n          a = e[r + 1];\n      if (null != i && null != a && i !== a) throw new ValueError('\"inputLength\" is ' + this.inputLength + \", but received input shape has shape \" + e);\n      null == i && (t[n] = a), n++;\n    }\n\n    return [e[0]].concat(t, [this.outputDim]);\n  }, t.prototype.call = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      n.invokeCallHook(e, t);\n      var r = getExactlyOneTensor(e);\n      return \"int32\" !== r.dtype && (r = cast$1(r, \"int32\")), gather$1(n.embeddings.read(), r.as1D()).reshape(getExactlyOneShape(n.computeOutputShape(r.shape)));\n    });\n  }, t.prototype.getConfig = function () {\n    var t = {\n      inputDim: this.inputDim,\n      outputDim: this.outputDim,\n      embeddingsInitializer: serializeInitializer(this.embeddingsInitializer),\n      embeddingsRegularizer: serializeRegularizer(this.embeddingsRegularizer),\n      activityRegularizer: serializeRegularizer(this.activityRegularizer),\n      embeddingsConstraint: serializeConstraint(this.embeddingsConstraint),\n      maskZero: this.maskZero,\n      inputLength: this.inputLength\n    },\n        n = e.prototype.getConfig.call(this);\n    return Object.assign(t, n), t;\n  }, t.className = \"Embedding\", t;\n}(Layer);\n\nserialization.registerClass(Embedding);\n\nvar Merge = function (e) {\n  function t(t) {\n    var n = e.call(this, t || {}) || this;\n    return n.supportsMasking = !0, n;\n  }\n\n  return __extends(t, e), t.prototype.mergeFunction = function (e) {\n    throw new NotImplementedError();\n  }, t.prototype.computeElementwiseOpOutputShape = function (e, t) {\n    if (null == e || null == t) return null;\n    if (e.length < t.length) return this.computeElementwiseOpOutputShape(t, e);\n    if (0 === t.length) return e;\n\n    for (var n = e.slice(0, e.length - t.length), r = 0; r < t.length; ++r) {\n      var i = e[e.length - t.length + r],\n          a = t[r];\n      if (null == i || null == a || i < 0 || a < 0) n.push(null);else if (1 === i) n.push(a);else if (1 === a) n.push(i);else {\n        if (i !== a) throw new ValueError(\"Operands could not be broadcast together with shapes \" + JSON.stringify(e) + \" \" + JSON.stringify(t));\n        n.push(i);\n      }\n    }\n\n    return n;\n  }, t.prototype.build = function (e) {\n    if (Array.isArray(e) && !Array.isArray(e[0]) && (e = [getExactlyOneShape(e)]), (e = e).length < 2) throw new ValueError(\"A merge layer should be called on an Array of at least 2 inputs. Got \" + e.length + \" input(s).\");\n\n    for (var t = [], n = 0, r = e; n < r.length; n++) {\n      null != (o = r[n]) && null !== o[0] && t.push(o[0]);\n    }\n\n    if ((t = unique(t)).length > 1) throw new ValueError(\"Can not merge tensors with different batch sizes. Got tensors with shapes: \" + JSON.stringify(e) + \".\");\n\n    for (var i = null == e[0] ? null : e[0].slice(1), a = 1; a < e.length; ++a) {\n      var o = null == e[a] ? null : e[a].slice(1);\n      i = this.computeElementwiseOpOutputShape(i, o);\n    }\n\n    var s = e.map(function (e) {\n      return e.length;\n    });\n    -1 === e.indexOf(null) && 1 === unique(s).length ? this.reshapeRequired = !1 : this.reshapeRequired = !0;\n  }, t.prototype.call = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      if (e = e, n.reshapeRequired) {\n        var t = [],\n            r = e.map(function (e) {\n          return e.rank;\n        });\n\n        if (-1 === r.indexOf(null)) {\n          for (var i = max$1(r), a = 0, o = e; a < o.length; a++) {\n            for (var s = (p = o[a]).rank, l = 0; l < i - s; ++l) p = expandDims$1(p, 1);\n\n            t.push(p);\n          }\n\n          return n.mergeFunction(t);\n        }\n\n        for (var u = !1, c = 0, h = e; c < h.length; c++) {\n          var p;\n\n          if (null == (s = (p = h[c]).rank)) {\n            var d = p.shape,\n                g = d[0],\n                f = d.slice(1).concat([g]),\n                m = p.reshape([g].concat(arrayProd(d.slice(1))));\n            m = (m = transpose(m, [1, 0])).reshape(f), t.push(m), u = !0;\n          } else if (s > 1) {\n            var y = range(1, s).concat([0]);\n            t.push(transpose(p, y)), u = !0;\n          } else t.push(p);\n        }\n\n        var v = n.mergeFunction(t),\n            b = v.rank;\n        if (u) if (null == b) {\n          var w = v.shape;\n          f = [g = w[w.length - 1]].concat(w.slice(0, w.length - 1));\n          v = transpose(v.reshape([-1, g]), [1, 0]).reshape(f);\n        } else if (b > 1) {\n          y = [b - 1].concat(range(0, b - 1));\n          v = transpose(v, y);\n        }\n        return v;\n      }\n\n      return n.mergeFunction(e);\n    });\n  }, t.prototype.computeOutputShape = function (e) {\n    var t;\n    t = null == (e = e)[0] ? null : e[0].slice(1);\n\n    for (var n = 1; n < e.length; ++n) {\n      var r = null == e[n] ? null : e[n].slice(1);\n      t = this.computeElementwiseOpOutputShape(t, r);\n    }\n\n    for (var i = [], a = 0, o = e; a < o.length; a++) {\n      null != (r = o[a]) && null !== r[0] && i.push(r[0]);\n    }\n\n    return t = 1 === (i = unique(i)).length ? i.concat(t) : [null].concat(t);\n  }, t.prototype.computeMask = function (e, t) {\n    return tidy(function () {\n      if (null == t) return null;\n      if (!Array.isArray(t)) throw new ValueError(\"`mask` should be an Array\");\n      if (!Array.isArray(e)) throw new ValueError(\"`inputs` should be an Array\");\n      if (t.length !== e.length) throw new ValueError(\"The Array 'inputs' and 'mask' are expected to have the same length, but have different lengths (\" + e.length + \" vs \" + t.length + \")\");\n      if (t.every(function (e) {\n        return null == e;\n      })) return null;\n\n      for (var n = (t = t.map(function (e) {\n        return null == e ? e : expandDims(e, 0);\n      }))[0], r = 1; r < t.length - 1; ++r) n = logicalAnd(n, t[r]);\n\n      return n;\n    });\n  }, t;\n}(Layer),\n    Add = function (e) {\n  function t(t) {\n    return e.call(this, t) || this;\n  }\n\n  return __extends(t, e), t.prototype.mergeFunction = function (e) {\n    return tidy(function () {\n      for (var t = e[0].clone(), n = 1; n < e.length; ++n) t = add(t, e[n]);\n\n      return t;\n    });\n  }, t.className = \"Add\", t;\n}(Merge);\n\nserialization.registerClass(Add);\n\nvar Multiply = function (e) {\n  function t(t) {\n    return e.call(this, t) || this;\n  }\n\n  return __extends(t, e), t.prototype.mergeFunction = function (e) {\n    return tidy(function () {\n      for (var t = e[0].clone(), n = 1; n < e.length; ++n) t = mul(t, e[n]);\n\n      return t;\n    });\n  }, t.className = \"Multiply\", t;\n}(Merge);\n\nserialization.registerClass(Multiply);\n\nvar Average = function (e) {\n  function t(t) {\n    return e.call(this, t) || this;\n  }\n\n  return __extends(t, e), t.prototype.mergeFunction = function (e) {\n    return tidy(function () {\n      for (var t = e[0].clone(), n = 1; n < e.length; ++n) t = add(t, e[n]);\n\n      return mul(getScalar(1 / e.length), t);\n    });\n  }, t.className = \"Average\", t;\n}(Merge);\n\nserialization.registerClass(Average);\n\nvar Maximum = function (e) {\n  function t(t) {\n    return e.call(this, t) || this;\n  }\n\n  return __extends(t, e), t.prototype.mergeFunction = function (e) {\n    return tidy(function () {\n      for (var t = e[0], n = 1; n < e.length; ++n) t = maximum(t, e[n]);\n\n      return t;\n    });\n  }, t.className = \"Maximum\", t;\n}(Merge);\n\nserialization.registerClass(Maximum);\n\nvar Minimum = function (e) {\n  function t(t) {\n    return e.call(this, t) || this;\n  }\n\n  return __extends(t, e), t.prototype.mergeFunction = function (e) {\n    return tidy(function () {\n      for (var t = e[0], n = 1; n < e.length; ++n) t = minimum(t, e[n]);\n\n      return t;\n    });\n  }, t.className = \"Minimum\", t;\n}(Merge);\n\nserialization.registerClass(Minimum);\n\nvar Concatenate = function (e) {\n  function t(t) {\n    var n = e.call(this, t) || this;\n    return n.DEFAULT_AXIS = -1, null == t && (t = {}), n.axis = null == t.axis ? n.DEFAULT_AXIS : t.axis, n.supportsMasking = !0, n.reshapeRequired = !1, n;\n  }\n\n  return __extends(t, e), t.prototype.build = function (e) {\n    if (!Array.isArray(e) || !Array.isArray(e[0]) || 1 === e.length) throw new ValueError(\"A `Concatenate` layer should be called on a list of at least 2 inputs\");\n\n    for (var t = !0, n = 0, r = e = e; n < r.length; n++) {\n      if (null != (c = r[n])) {\n        t = !1;\n        break;\n      }\n    }\n\n    if (!t) {\n      for (var i = [], a = 0; a < e.length; ++a) {\n        var o = e[a].slice();\n        o.splice(this.axis, 1);\n\n        for (var s = !1, l = 0, u = i; l < u.length; l++) {\n          var c = u[l];\n\n          if (util.arraysEqual(c, o)) {\n            s = !0;\n            break;\n          }\n        }\n\n        s || i.push(o);\n      }\n\n      if (i.length > 1) throw new ValueError(\"A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: \" + JSON.stringify(e));\n    }\n  }, t.prototype.mergeFunction = function (e) {\n    var t = this;\n    return tidy(function () {\n      return concatenate(e, t.axis);\n    });\n  }, t.prototype.computeOutputShape = function (e) {\n    if (!Array.isArray(e) || !Array.isArray(e[0])) throw new ValueError(\"A `Concatenate` layer should be called on a list of inputs.\");\n\n    for (var t = e, n = t[0].slice(), r = this.axis < 0 ? n.length + this.axis : this.axis, i = 0, a = t.slice(1); i < a.length; i++) {\n      var o = a[i];\n\n      if (null == n[r] || null == o[r]) {\n        n[r] = null;\n        break;\n      }\n\n      n[r] += o[r];\n    }\n\n    return n;\n  }, t.prototype.computeMask = function (e, t) {\n    var n = this;\n    if (null == t) return null;\n    if (!Array.isArray(t)) throw new ValueError(\"`mask` should be an array for Concatenate\");\n    if (!Array.isArray(e)) throw new ValueError(\"`inputs` should be an array for Concatenate\");\n    if (t.length !== e.length) throw new ValueError(\"Mismatch in the length of mask (\" + t.length + \") and the legnth of inputs (\" + e.length + \")\");\n    return tidy(function () {\n      var r = !0;\n      if (t.forEach(function (e) {\n        null == e || (r = !1);\n      }), r) return null;\n\n      for (var i = [], a = 0; a < e.length; ++a) null == t[a] ? i.push(onesLike(e[a]).asType(\"bool\")) : t[a].rank < e[a].rank ? i.push(expandDims(t[a], -1)) : i.push(t[a]);\n\n      var o = concat(i, n.axis);\n      return all(o, -1, !1);\n    });\n  }, t.prototype.getConfig = function () {\n    var t = {\n      axis: this.axis\n    },\n        n = e.prototype.getConfig.call(this);\n    return Object.assign(t, n), t;\n  }, t.className = \"Concatenate\", t;\n}(Merge);\n\nfunction interpretAxis(e, t) {\n  for (; e < 0;) e += t;\n\n  return e;\n}\n\nfunction batchDot(e, t, n) {\n  if (e.shape.length > 3 || t.shape.length > 3) throw new NotImplementedError(\"batchDot is not implemented for tensors of 4D or higher rank yet\");\n  if (util.assert(e.shape.length >= 2, \"batchDot requires the rank of x to be >= 2, but got \" + e.shape.length), util.assert(e.shape.length >= 2, \"batchDot requires the rank of y to be >= 2, but got \" + t.shape.length), \"number\" == typeof n && (n = [n, n]), \"complex64\" === e.dtype || \"complex64\" === t.dtype) throw new NotImplementedError(\"batchDot is not implemented for complex64-type Tensors yet.\");\n  var r = e.shape.length,\n      i = t.shape.length;\n  null == n && (n = [r - 1, i - 2]);\n  var a = n;\n  return tidy(function () {\n    var n, o;\n\n    if (r > i) {\n      n = r - i;\n\n      for (var s = [], l = 0; l < n; ++l) s.push(1);\n\n      t = t.reshape(t.shape.concat(s));\n    } else if (i > r) {\n      n = i - r;\n\n      for (s = [], l = 0; l < n; ++l) s.push(1);\n\n      e = e.reshape(e.shape.concat(s));\n    } else n = 0;\n\n    if (2 === e.shape.length && 2 === t.shape.length) o = a[0] === a[1] ? e.mulStrict(t).sum(a[0]) : e.transpose([1, 0]).mulStrict(t).sum(a[1]);else {\n      var u = a[0] !== e.shape.length - 1 || null,\n          c = a[1] === t.shape.length - 1 || null;\n      o = e.matMul(t, u, c);\n    }\n\n    if (n > 0) {\n      var h = void 0,\n          p = [];\n\n      for (l = h = r > i ? r + i - 3 : r - 1; l < h + n; ++l) p.push(l);\n\n      o = o.squeeze(p);\n    }\n\n    return 1 === o.shape.length && (o = o.expandDims(1)), o;\n  });\n}\n\nserialization.registerClass(Concatenate);\n\nvar Dot = function (e) {\n  function t(t) {\n    var n = e.call(this, t) || this;\n    return n.axes = t.axes, n.normalize = null != t.normalize && t.normalize, n.supportsMasking = !0, n.reshapeRequired = !1, n;\n  }\n\n  return __extends(t, e), t.prototype.build = function (e) {\n    util.assert(Array.isArray(e) && 2 === e.length && Array.isArray(e[0]) && Array.isArray(e[1]), \"A `Dot` layer should be called on a list of exactly 2 inputs.\");\n    var t = e[0],\n        n = e[1];\n    if (t.length > 3 || n.length > 3) throw new NotImplementedError(\"Dot layer does not support tensors of 4D or higher rank yet.\");\n    var r = this.interpretAxes(t, n);\n    if (t[r[0]] !== n[r[1]]) throw new ValueError(\"Dimension incompatibility: \" + t[r[0]] + \" !== \" + n[r[1]]);\n  }, t.prototype.mergeFunction = function (e) {\n    if (2 !== e.length) throw new ValueError(\"A `Dot` layer must be called on exactly 2 inputs, but received \" + e.length + \" input(s).\");\n    var t,\n        n = e[0],\n        r = e[1];\n    return t = Array.isArray(this.axes) ? this.axes.map(function (t, n) {\n      return interpretAxis(t, e[n].shape.length);\n    }) : [interpretAxis(this.axes, n.shape.length), interpretAxis(this.axes, r.shape.length)], this.normalize && (n = l2Normalize(n, t[0]), r = l2Normalize(r, t[1])), batchDot(n, r, t);\n  }, t.prototype.interpretAxes = function (e, t) {\n    return Array.isArray(this.axes) ? this.axes : [interpretAxis(this.axes, e.length), interpretAxis(this.axes, t.length)];\n  }, t.prototype.computeOutputShape = function (e) {\n    util.assert(Array.isArray(e) && 2 === e.length && Array.isArray(e[0]) && Array.isArray(e[1]), \"A `Dot` layer should be called on a list of exactly 2 inputs.\");\n    var t = e[0].slice(),\n        n = e[1].slice();\n    if (t.length > 3 || n.length > 3) throw new NotImplementedError(\"Dot layer does not support tensors of 4D or higher rank yet.\");\n    var r = this.interpretAxes(t, n);\n    t.splice(r[0], 1), n.splice(r[1], 1), n.splice(0, 1);\n    var i = t.concat(n);\n    return 1 === i.length && i.push(1), i;\n  }, t.prototype.computeMask = function (e, t) {\n    return null;\n  }, t.prototype.getConfig = function () {\n    var t = {\n      axes: this.axes,\n      normalize: this.normalize\n    },\n        n = e.prototype.getConfig.call(this);\n    return Object.assign(t, n), t;\n  }, t.className = \"Dot\", t;\n}(Merge);\n\nfunction batchNormalization(e, t, n, r, i, a) {\n  var o;\n  if (void 0 === a && (a = .001), 2 === e.rank) o = batchNormalization2d(e, t, n, a, i, r);else if (3 === e.rank) o = batchNormalization3d(e, t, n, a, i, r);else {\n    if (4 !== e.rank) throw new NotImplementedError(\"batchNormalization is not implemented for array of rank \" + e.rank + \" yet\");\n    o = batchNormalization4d(e, t, n, a, i, r);\n  }\n  return o;\n}\n\nfunction regularNormalizeBatchInTraining(e, t, n, r, i) {\n  return void 0 === i && (i = .001), tidy(function () {\n    var a = moments(e, r),\n        o = a.mean,\n        s = a.variance;\n    return [batchNormalization(e, o, s, n, t, i), o, s];\n  });\n}\n\nfunction broadcastNormalizeBatchInTraining(e, t, n, r, i) {\n  return void 0 === i && (i = .001), tidy(function () {\n    for (var a = moments(e, r), o = a.mean, s = a.variance, l = [], u = 0, c = range(0, e.rank); u < c.length; u++) {\n      var h = c[u];\n      -1 !== r.indexOf(h) ? l.push(1) : l.push(e.shape[h]);\n    }\n\n    var p = o.reshape(l),\n        d = s.reshape(l),\n        g = null == t ? null : t.reshape(l),\n        f = null == n ? null : n.reshape(l);\n    return [batchNormalization(e, p, d, f, g, i), o, s];\n  });\n}\n\nfunction normalizeBatchInTraining(e, t, n, r, i) {\n  return void 0 === i && (i = .001), util.arraysEqual(r.slice().sort(), range(0, e.rank - 1)) ? regularNormalizeBatchInTraining(e, t, n, r, i) : broadcastNormalizeBatchInTraining(e, t, n, r, i);\n}\n\nserialization.registerClass(Dot);\n\nvar BatchNormalization = function (e) {\n  function t(t) {\n    var n = this;\n    return null == t && (t = {}), (n = e.call(this, t) || this).supportsMasking = !0, n.axis = null == t.axis ? -1 : t.axis, n.momentum = null == t.momentum ? .99 : t.momentum, n.epsilon = null == t.epsilon ? .001 : t.epsilon, n.center = null == t.center || t.center, n.scale = null == t.scale || t.scale, n.betaInitializer = getInitializer(t.betaInitializer || \"zeros\"), n.gammaInitializer = getInitializer(t.gammaInitializer || \"ones\"), n.movingMeanInitializer = getInitializer(t.movingMeanInitializer || \"zeros\"), n.movingVarianceInitializer = getInitializer(t.movingVarianceInitializer || \"ones\"), n.betaConstraint = getConstraint(t.betaConstraint), n.gammaConstraint = getConstraint(t.gammaConstraint), n.betaRegularizer = getRegularizer(t.betaRegularizer), n.gammaRegularizer = getRegularizer(t.gammaRegularizer), n;\n  }\n\n  return __extends(t, e), t.prototype.build = function (e) {\n    e = getExactlyOneShape(e);\n    var t = this.axis >= 0 ? this.axis : this.axis + e.length,\n        n = e[t];\n    if (null == n) throw new ValueError(\"Axis \" + t + \" of input tensor should have a defined dimension but the layer received an input with shape \" + JSON.stringify(e) + \".\");\n    this.inputSpec = [new InputSpec({\n      ndim: e.length,\n      axes: (r = {}, r[t] = n, r)\n    })];\n    var r,\n        i = [n];\n    this.scale && (this.gamma = this.addWeight(\"gamma\", i, null, this.gammaInitializer, this.gammaRegularizer, !0, this.gammaConstraint)), this.center && (this.beta = this.addWeight(\"beta\", i, null, this.betaInitializer, this.betaRegularizer, !0, this.betaConstraint)), this.movingMean = this.addWeight(\"moving_mean\", i, null, this.movingMeanInitializer, null, !1), this.movingVariance = this.addWeight(\"moving_variance\", i, null, this.movingVarianceInitializer, null, !1), this.built = !0;\n  }, t.prototype.call = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      var r = null != t.training && t.training,\n          i = getExactlyOneTensor(e),\n          a = i.shape,\n          o = a.length,\n          s = range(0, o),\n          l = n.axis >= 0 ? n.axis : n.axis + o;\n      s.splice(l, 1);\n      var u = pyListRepeat(1, o);\n      u[l] = a[l];\n      var c = s.slice();\n      c.sort();\n      var h = !util.arraysEqual(c, range(0, o).slice(0, o - 1));\n      if (!r) return function () {\n        if (h) {\n          var e = n.movingMean.read().reshape(u),\n              t = n.movingVariance.read().reshape(u),\n              r = n.center ? n.beta.read().reshape(u) : null,\n              a = n.scale ? n.gamma.read().reshape(u) : null;\n          return batchNormalization(i, e, t, r, a, n.epsilon);\n        }\n\n        return batchNormalization(i, n.movingMean.read(), n.movingVariance.read(), null == n.beta ? null : n.beta.read(), null == n.gamma ? null : n.gamma.read(), n.epsilon);\n      }();\n\n      var p = normalizeBatchInTraining(i, n.gamma.read(), n.beta.read(), s, n.epsilon),\n          d = p[0],\n          g = p[1],\n          f = p[2],\n          m = function (e, t, n) {\n        tidy(function () {\n          var r = getScalar(1).sub(getScalar(n)),\n              i = e.read(),\n              a = i.sub(t).mul(r);\n          e.write(i.sub(a));\n        });\n      };\n\n      return m(n.movingMean, g, n.momentum), m(n.movingVariance, f, n.momentum), d;\n    });\n  }, t.prototype.getConfig = function () {\n    var t = {\n      axis: this.axis,\n      momentum: this.momentum,\n      epsilon: this.epsilon,\n      center: this.center,\n      scale: this.scale,\n      betaInitializer: serializeInitializer(this.betaInitializer),\n      gammaInitializer: serializeInitializer(this.gammaInitializer),\n      movingMeanInitializer: serializeInitializer(this.movingMeanInitializer),\n      movingVarianceInitializer: serializeInitializer(this.movingVarianceInitializer),\n      betaRegularizer: serializeRegularizer(this.betaRegularizer),\n      gammaRegularizer: serializeRegularizer(this.gammaRegularizer),\n      betaConstraint: serializeConstraint(this.betaConstraint),\n      gammaConstraint: serializeConstraint(this.gammaConstraint)\n    },\n        n = e.prototype.getConfig.call(this);\n    return Object.assign(t, n), t;\n  }, t.className = \"BatchNormalization\", t;\n}(Layer);\n\nfunction spatial2dPadding(e, t, n) {\n  return tidy(function () {\n    if (4 !== e.rank) throw new ValueError(\"temporalPadding expects input tensor to be 4-D, but received a \" + e.rank + \"-D tensor.\");\n    if (null == t && (t = [[1, 1], [1, 1]]), 2 !== t.length || 2 !== t[0].length || 2 !== t[1].length) throw new ValueError(\"spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.\");\n    if (null == n && (n = imageDataFormat()), \"channelsLast\" !== n && \"channelsFirst\" !== n) throw new ValueError(\"Unknown data format: \" + n + \". Supported data formats are 'channelsLast' and 'channelsFirst.\");\n    var r;\n    return r = \"channelsFirst\" === n ? [[0, 0], [0, 0], t[0], t[1]] : [[0, 0], t[0], t[1], [0, 0]], pad(e, r);\n  });\n}\n\nserialization.registerClass(BatchNormalization);\n\nvar ZeroPadding2D = function (e) {\n  function t(t) {\n    var n = this;\n    if (null == t && (t = {}), (n = e.call(this, t) || this).dataFormat = null == t.dataFormat ? imageDataFormat() : t.dataFormat, null == t.padding) n.padding = [[1, 1], [1, 1]];else if (\"number\" == typeof t.padding) n.padding = [[t.padding, t.padding], [t.padding, t.padding]];else {\n      if (t.padding = t.padding, 2 !== t.padding.length) throw new ValueError(\"ZeroPadding2D expects padding to be a length-2 array, but received a length-\" + t.padding.length + \" array.\");\n      var r = void 0,\n          i = void 0;\n      if (\"number\" == typeof t.padding[0]) r = [t.padding[0], t.padding[0]], i = [t.padding[1], t.padding[1]];else {\n        if (t.padding = t.padding, 2 !== t.padding[0].length) throw new ValueError(\"ZeroPadding2D expects height padding to be a length-2 array, but received a length-\" + t.padding[0].length + \" array.\");\n        if (r = t.padding[0], 2 !== t.padding[1].length) throw new ValueError(\"ZeroPadding2D expects width padding to be a length-2 array, but received a length-\" + t.padding[1].length + \" array.\");\n        i = t.padding[1];\n      }\n      n.padding = [r, i];\n    }\n    return n.inputSpec = [new InputSpec({\n      ndim: 4\n    })], n;\n  }\n\n  return __extends(t, e), t.prototype.computeOutputShape = function (e) {\n    var t, n;\n    return e = getExactlyOneShape(e), \"channelsFirst\" === this.dataFormat ? (t = null != e[2] && e[2] >= 0 ? e[2] + this.padding[0][0] + this.padding[0][1] : null, n = null != e[3] && e[3] >= 0 ? e[3] + this.padding[1][0] + this.padding[1][1] : null, [e[0], e[1], t, n]) : (t = null != e[1] && e[1] >= 0 ? e[1] + this.padding[0][0] + this.padding[0][1] : null, n = null != e[2] && e[2] >= 0 ? e[2] + this.padding[1][0] + this.padding[1][1] : null, [e[0], t, n, e[3]]);\n  }, t.prototype.call = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      return spatial2dPadding(getExactlyOneTensor(e), n.padding, n.dataFormat);\n    });\n  }, t.prototype.getConfig = function () {\n    var t = {\n      padding: this.padding,\n      dataFormat: this.dataFormat\n    },\n        n = e.prototype.getConfig.call(this);\n    return Object.assign(t, n), t;\n  }, t.className = \"ZeroPadding2D\", t;\n}(Layer);\n\nfunction pool2d(e, t, n, r, i, a) {\n  return tidy(function () {\n    var o;\n    checkDataFormat(i), checkPoolMode(a), checkPaddingMode(r), null == n && (n = [1, 1]), null == r && (r = \"valid\"), null == i && (i = imageDataFormat()), null == a && (a = \"max\"), e = preprocessConv2DInput(e, i);\n    var s = \"same\" === r ? \"same\" : \"valid\";\n    return o = \"max\" === a ? maxPool(e, t, n, s) : avgPool(e, t, n, s), \"channelsFirst\" === i && (o = transpose(o, [0, 3, 1, 2])), o;\n  });\n}\n\nserialization.registerClass(ZeroPadding2D);\n\nvar Pooling1D = function (e) {\n  function t(t) {\n    var n = this;\n    if (null == t.poolSize && (t.poolSize = 2), n = e.call(this, t) || this, \"number\" == typeof t.poolSize) n.poolSize = [t.poolSize];else {\n      if (!Array.isArray(t.poolSize) || 1 !== t.poolSize.length || \"number\" != typeof t.poolSize[0]) throw new ValueError(\"poolSize for 1D convolutional layer must be a number or an Array of a single number, but received \" + JSON.stringify(t.poolSize));\n      n.poolSize = t.poolSize;\n    }\n    if (null == t.strides) n.strides = n.poolSize;else if (\"number\" == typeof t.strides) n.strides = [t.strides];else {\n      if (!Array.isArray(t.strides) || 1 !== t.strides.length || \"number\" != typeof t.strides[0]) throw new ValueError(\"strides for 1D convolutional layer must be a number or an Array of a single number, but received \" + JSON.stringify(t.strides));\n      n.strides = t.strides;\n    }\n    return n.padding = null == t.padding ? \"valid\" : t.padding, checkPaddingMode(n.padding), n.inputSpec = [new InputSpec({\n      ndim: 3\n    })], n;\n  }\n\n  return __extends(t, e), t.prototype.computeOutputShape = function (e) {\n    var t = convOutputLength((e = getExactlyOneShape(e))[1], this.poolSize[0], this.padding, this.strides[0]);\n    return [e[0], t, e[2]];\n  }, t.prototype.call = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      n.invokeCallHook(e, t), e = expandDims$1(getExactlyOneTensor(e), 2);\n      var r = n.poolingFunction(getExactlyOneTensor(e), [n.poolSize[0], 1], [n.strides[0], 1], n.padding, \"channelsLast\");\n      return squeeze(r, [2]);\n    });\n  }, t.prototype.getConfig = function () {\n    var t = {\n      poolSize: this.poolSize,\n      padding: this.padding,\n      strides: this.strides\n    },\n        n = e.prototype.getConfig.call(this);\n    return Object.assign(t, n), t;\n  }, t;\n}(Layer),\n    MaxPooling1D = function (e) {\n  function t(t) {\n    return e.call(this, t) || this;\n  }\n\n  return __extends(t, e), t.prototype.poolingFunction = function (e, t, n, r, i) {\n    return checkDataFormat(i), checkPaddingMode(r), pool2d(e, t, n, r, i, \"max\");\n  }, t.className = \"MaxPooling1D\", t;\n}(Pooling1D);\n\nserialization.registerClass(MaxPooling1D);\n\nvar AveragePooling1D = function (e) {\n  function t(t) {\n    return e.call(this, t) || this;\n  }\n\n  return __extends(t, e), t.prototype.poolingFunction = function (e, t, n, r, i) {\n    return checkDataFormat(i), checkPaddingMode(r), pool2d(e, t, n, r, i, \"avg\");\n  }, t.className = \"AveragePooling1D\", t;\n}(Pooling1D);\n\nserialization.registerClass(AveragePooling1D);\n\nvar Pooling2D = function (e) {\n  function t(t) {\n    var n = this;\n    if (null == t.poolSize && (t.poolSize = [2, 2]), (n = e.call(this, t) || this).poolSize = Array.isArray(t.poolSize) ? t.poolSize : [t.poolSize, t.poolSize], null == t.strides) n.strides = n.poolSize;else if (Array.isArray(t.strides)) {\n      if (2 !== t.strides.length) throw new ValueError(\"If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length \" + t.strides.length + \".\");\n      n.strides = t.strides;\n    } else n.strides = [t.strides, t.strides];\n    return n.padding = null == t.padding ? \"valid\" : t.padding, n.dataFormat = null == t.dataFormat ? \"channelsLast\" : t.dataFormat, checkDataFormat(n.dataFormat), checkPaddingMode(n.padding), n.inputSpec = [new InputSpec({\n      ndim: 4\n    })], n;\n  }\n\n  return __extends(t, e), t.prototype.computeOutputShape = function (e) {\n    e = getExactlyOneShape(e);\n    var t = \"channelsFirst\" === this.dataFormat ? e[2] : e[1],\n        n = \"channelsFirst\" === this.dataFormat ? e[3] : e[2];\n    return t = convOutputLength(t, this.poolSize[0], this.padding, this.strides[0]), n = convOutputLength(n, this.poolSize[1], this.padding, this.strides[1]), \"channelsFirst\" === this.dataFormat ? [e[0], e[1], t, n] : [e[0], t, n, e[3]];\n  }, t.prototype.call = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      return n.invokeCallHook(e, t), n.poolingFunction(getExactlyOneTensor(e), n.poolSize, n.strides, n.padding, n.dataFormat);\n    });\n  }, t.prototype.getConfig = function () {\n    var t = {\n      poolSize: this.poolSize,\n      padding: this.padding,\n      strides: this.strides,\n      dataFormat: this.dataFormat\n    },\n        n = e.prototype.getConfig.call(this);\n    return Object.assign(t, n), t;\n  }, t;\n}(Layer),\n    MaxPooling2D = function (e) {\n  function t(t) {\n    return e.call(this, t) || this;\n  }\n\n  return __extends(t, e), t.prototype.poolingFunction = function (e, t, n, r, i) {\n    return checkDataFormat(i), checkPaddingMode(r), pool2d(e, t, n, r, i, \"max\");\n  }, t.className = \"MaxPooling2D\", t;\n}(Pooling2D);\n\nserialization.registerClass(MaxPooling2D);\n\nvar AveragePooling2D = function (e) {\n  function t(t) {\n    return e.call(this, t) || this;\n  }\n\n  return __extends(t, e), t.prototype.poolingFunction = function (e, t, n, r, i) {\n    return checkDataFormat(i), checkPaddingMode(r), pool2d(e, t, n, r, i, \"avg\");\n  }, t.className = \"AveragePooling2D\", t;\n}(Pooling2D);\n\nserialization.registerClass(AveragePooling2D);\n\nvar GlobalPooling1D = function (e) {\n  function t(t) {\n    var n = e.call(this, t) || this;\n    return n.inputSpec = [new InputSpec({\n      ndim: 3\n    })], n;\n  }\n\n  return __extends(t, e), t.prototype.computeOutputShape = function (e) {\n    return [e[0], e[2]];\n  }, t.prototype.call = function (e, t) {\n    throw new NotImplementedError();\n  }, t;\n}(Layer),\n    GlobalAveragePooling1D = function (e) {\n  function t(t) {\n    return e.call(this, t) || this;\n  }\n\n  return __extends(t, e), t.prototype.call = function (e, t) {\n    return tidy(function () {\n      var t = getExactlyOneTensor(e);\n      return mean(t, 1);\n    });\n  }, t.className = \"GlobalAveragePooling1D\", t;\n}(GlobalPooling1D);\n\nserialization.registerClass(GlobalAveragePooling1D);\n\nvar GlobalMaxPooling1D = function (e) {\n  function t(t) {\n    return e.call(this, t) || this;\n  }\n\n  return __extends(t, e), t.prototype.call = function (e, t) {\n    return tidy(function () {\n      var t = getExactlyOneTensor(e);\n      return max(t, 1);\n    });\n  }, t.className = \"GlobalMaxPooling1D\", t;\n}(GlobalPooling1D);\n\nserialization.registerClass(GlobalMaxPooling1D);\n\nvar GlobalPooling2D = function (e) {\n  function t(t) {\n    var n = e.call(this, t) || this;\n    return n.dataFormat = null == t.dataFormat ? \"channelsLast\" : t.dataFormat, checkDataFormat(n.dataFormat), n.inputSpec = [new InputSpec({\n      ndim: 4\n    })], n;\n  }\n\n  return __extends(t, e), t.prototype.computeOutputShape = function (e) {\n    return e = e, \"channelsLast\" === this.dataFormat ? [e[0], e[3]] : [e[0], e[1]];\n  }, t.prototype.call = function (e, t) {\n    throw new NotImplementedError();\n  }, t.prototype.getConfig = function () {\n    var t = {\n      dataFormat: this.dataFormat\n    },\n        n = e.prototype.getConfig.call(this);\n    return Object.assign(t, n), t;\n  }, t;\n}(Layer),\n    GlobalAveragePooling2D = function (e) {\n  function t() {\n    return null !== e && e.apply(this, arguments) || this;\n  }\n\n  return __extends(t, e), t.prototype.call = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      var t = getExactlyOneTensor(e);\n      return \"channelsLast\" === n.dataFormat ? mean(t, [1, 2]) : mean(t, [2, 3]);\n    });\n  }, t.className = \"GlobalAveragePooling2D\", t;\n}(GlobalPooling2D);\n\nserialization.registerClass(GlobalAveragePooling2D);\n\nvar GlobalMaxPooling2D = function (e) {\n  function t() {\n    return null !== e && e.apply(this, arguments) || this;\n  }\n\n  return __extends(t, e), t.prototype.call = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      var t = getExactlyOneTensor(e);\n      return \"channelsLast\" === n.dataFormat ? max(t, [1, 2]) : max(t, [2, 3]);\n    });\n  }, t.className = \"GlobalMaxPooling2D\", t;\n}(GlobalPooling2D);\n\nfunction standardizeArgs(e, t, n, r) {\n  if (Array.isArray(e)) {\n    if (null != t || null != n) throw new ValueError(\"When inputs is an array, neither initialState or constants should be provided\");\n    null != r && (n = e.slice(e.length - r, e.length), e = e.slice(0, e.length - r)), e.length > 1 && (t = e.slice(1, e.length)), e = e[0];\n  }\n\n  function i(e) {\n    return null == e || Array.isArray(e) ? e : [e];\n  }\n\n  return {\n    inputs: e,\n    initialState: t = i(t),\n    constants: n = i(n)\n  };\n}\n\nfunction rnn(e, t, n, r, i, a, o, s) {\n  return void 0 === r && (r = !1), void 0 === o && (o = !1), void 0 === s && (s = !1), tidy(function () {\n    var l = t.shape.length;\n    if (l < 3) throw new ValueError(\"Input should be at least 3D, but is \" + l + \"D.\");\n    var u = [1, 0].concat(range(2, l));\n    if (t = transpose(t, u), null != a) throw new NotImplementedError(\"The rnn() functoin of the deeplearn.js backend does not support constants yet.\");\n    o && console.warn(\"Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend.\"), null != i && ((i = i.asType(\"bool\").asType(\"float32\")).rank === l - 1 && (i = expandDims(i, -1)), i = transpose(i, u)), r && (t = reverse(t, 0), null != i && (i = reverse(i, 0)));\n    var c,\n        h,\n        p = [],\n        d = n,\n        g = t.shape[0],\n        f = unstack(t);\n    null != i && (h = unstack(i));\n\n    for (var m, y = function (t) {\n      var n = f[t],\n          r = tidy(function () {\n        return e(n, d);\n      });\n      if (null == i) c = r[0], d = r[1];else {\n        var a = tidy(function () {\n          var e = h[t],\n              n = onesLike(e).sub(e);\n          return {\n            output: r[0].mul(e).addStrict(d[0].mul(n)),\n            newStates: d.map(function (t, i) {\n              return r[1][i].mul(e).addStrict(t.mul(n));\n            })\n          };\n        });\n        c = a.output, d = a.newStates;\n      }\n      s && p.push(c);\n    }, v = 0; v < g; ++v) y(v);\n\n    if (s) {\n      m = stack(p, 1);\n    }\n\n    return [c, m, d];\n  });\n}\n\nserialization.registerClass(GlobalMaxPooling2D);\n\nvar RNN = function (e) {\n  function t(t) {\n    var n,\n        r = e.call(this, t) || this;\n    if (null == t.cell) throw new ValueError(\"cell property is missing for the constructor of RNN.\");\n    if (null == (n = Array.isArray(t.cell) ? new StackedRNNCells({\n      cells: t.cell\n    }) : t.cell).stateSize) throw new ValueError(\"The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).\");\n    return r.cell = n, r.returnSequences = null != t.returnSequences && t.returnSequences, r.returnState = null != t.returnState && t.returnState, r.goBackwards = null != t.goBackwards && t.goBackwards, r._stateful = null != t.stateful && t.stateful, r.unroll = null != t.unroll && t.unroll, r.supportsMasking = !0, r.inputSpec = [new InputSpec({\n      ndim: 3\n    })], r.stateSpec = null, r.states_ = null, r.numConstants = null, r.keptStates = [], r;\n  }\n\n  return __extends(t, e), t.prototype.getStates = function () {\n    return null == this.states_ ? range(0, Array.isArray(this.cell.stateSize) ? this.cell.stateSize.length : 1).map(function (e) {\n      return null;\n    }) : this.states_;\n  }, t.prototype.setStates = function (e) {\n    this.states_ = e;\n  }, t.prototype.computeOutputShape = function (e) {\n    isArrayOfShapes(e) && (e = e[0]), e = e;\n    var t = this.cell.stateSize;\n    Array.isArray(t) || (t = [t]);\n    var n,\n        r = t[0];\n\n    if (n = this.returnSequences ? [e[0], e[1], r] : [e[0], r], this.returnState) {\n      for (var i = [], a = 0, o = t; a < o.length; a++) {\n        var s = o[a];\n        i.push([e[0], s]);\n      }\n\n      return [n].concat(i);\n    }\n\n    return n;\n  }, t.prototype.computeMask = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      Array.isArray(t) && (t = t[0]);\n      var e = n.returnSequences ? t : null;\n\n      if (n.returnState) {\n        var r = n.states.map(function (e) {\n          return null;\n        });\n        return [e].concat(r);\n      }\n\n      return e;\n    });\n  }, Object.defineProperty(t.prototype, \"states\", {\n    get: function () {\n      if (null == this.states_) {\n        for (var e = Array.isArray(this.cell.stateSize) ? this.cell.stateSize.length : 1, t = [], n = 0; n < e; ++n) t.push(null);\n\n        return t;\n      }\n\n      return this.states_;\n    },\n    set: function (e) {\n      this.states_ = e;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.build = function (e) {\n    if (null != this.numConstants) throw new NotImplementedError(\"Constants support is not implemented in RNN yet.\");\n    isArrayOfShapes(e) && (e = e[0]), e = e;\n    var t = this.stateful ? e[0] : null,\n        n = e[e.length - 1];\n    this.inputSpec[0] = new InputSpec({\n      shape: [t, null, n]\n    });\n    var r,\n        i = [e[0]].concat(e.slice(2));\n\n    if (this.cell.build(i), r = Array.isArray(this.cell.stateSize) ? this.cell.stateSize : [this.cell.stateSize], null != this.stateSpec) {\n      if (!util.arraysEqual(this.stateSpec.map(function (e) {\n        return e.shape[e.shape.length - 1];\n      }), r)) throw new ValueError(\"An initialState was passed that is not compatible with cell.stateSize. Received stateSpec=\" + this.stateSpec + \"; However cell.stateSize is \" + this.cell.stateSize);\n    } else this.stateSpec = r.map(function (e) {\n      return new InputSpec({\n        shape: [null, e]\n      });\n    });\n\n    this.stateful && this.resetStates();\n  }, t.prototype.resetStates = function (e, t) {\n    var n = this;\n    void 0 === t && (t = !1), tidy(function () {\n      if (!n.stateful) throw new AttributeError(\"Cannot call resetStates() on an RNN Layer that is not stateful.\");\n      var r = n.inputSpec[0].shape[0];\n      if (null == r) throw new ValueError(\"If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \\n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.\");\n      if (null == n.states_) Array.isArray(n.cell.stateSize) ? n.states_ = n.cell.stateSize.map(function (e) {\n        return zeros([r, e]);\n      }) : n.states_ = [zeros([r, n.cell.stateSize])];else if (null == e) dispose(n.states_), null != n.keptStates && (dispose(n.keptStates), n.keptStates = []), Array.isArray(n.cell.stateSize) ? n.states_ = n.cell.stateSize.map(function (e) {\n        return zeros([r, e]);\n      }) : n.states_[0] = zeros([r, n.cell.stateSize]);else {\n        if (Array.isArray(e) || (e = [e]), e.length !== n.states_.length) throw new ValueError(\"Layer \" + n.name + \" expects \" + n.states_.length + \" state(s), but it received \" + e.length + \" state value(s). Input received: \" + e);\n        !0 === t ? n.keptStates.push(n.states_.slice()) : dispose(n.states_);\n\n        for (var i = 0; i < n.states_.length; ++i) {\n          var a = e[i],\n              o = Array.isArray(n.cell.stateSize) ? n.cell.stateSize[i] : n.cell.stateSize,\n              s = [r, o];\n          if (!util.arraysEqual(a.shape, s)) throw new ValueError(\"State \" + i + \" is incompatible with layer \" + n.name + \": expected shape=\" + s + \", received shape=\" + a.shape);\n          n.states_[i] = a;\n        }\n      }\n      n.states_.forEach(function (e) {\n        return keep(e);\n      });\n    });\n  }, t.prototype.apply = function (t, n) {\n    var r = null == n ? null : n.initialState,\n        i = null == n ? null : n.constants;\n    null == n && (n = {});\n    var a = standardizeArgs(t, r, i, this.numConstants);\n    t = a.inputs, r = a.initialState, i = a.constants;\n    var o = [],\n        s = [];\n\n    if (null != r) {\n      n.initialState = r, o = o.concat(r), this.stateSpec = [];\n\n      for (var l = 0, u = r; l < u.length; l++) {\n        var c = u[l];\n        this.stateSpec.push(new InputSpec({\n          shape: c.shape\n        }));\n      }\n\n      s = s.concat(this.stateSpec);\n    }\n\n    if (null != i && (n.constants = i, o = o.concat(i), this.numConstants = i.length), o[0] instanceof SymbolicTensor) {\n      var h = [t].concat(o),\n          p = this.inputSpec.concat(s),\n          d = this.inputSpec;\n      this.inputSpec = p;\n      var g = e.prototype.apply.call(this, h, n);\n      return this.inputSpec = d, g;\n    }\n\n    return e.prototype.apply.call(this, t, n);\n  }, t.prototype.call = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      var r = null == t ? null : t.mask,\n          i = null == t ? null : t.training,\n          a = null == t ? null : t.initialState;\n      e = getExactlyOneTensor(e), null == a && (a = n.stateful ? n.states_ : n.getInitialState(e));\n      var o = Array.isArray(n.cell.stateSize) ? n.cell.stateSize.length : 1;\n      if (a.length !== o) throw new ValueError(\"RNN Layer has \" + o + \" state(s) but was passed \" + a.length + \" initial state(s).\");\n      n.unroll && console.warn(\"Ignoring unroll = true for RNN layer, due to imperative backend.\");\n      var s = {\n        training: i\n      },\n          l = rnn(function (e, t) {\n        var r = n.cell.call([e].concat(t), s);\n        return [r[0], r.slice(1)];\n      }, e, a, n.goBackwards, r, null, n.unroll, n.returnSequences),\n          u = l[0],\n          c = l[1],\n          h = l[2];\n      n.stateful && n.resetStates(h, i);\n      var p = n.returnSequences ? c : u;\n      return n.returnState ? [p].concat(h) : p;\n    });\n  }, t.prototype.getInitialState = function (e) {\n    var t = this;\n    return tidy(function () {\n      var n = zeros(e.shape);\n      return n = expandDims$1(n = sum(n, [1, 2])), Array.isArray(t.cell.stateSize) ? t.cell.stateSize.map(function (e) {\n        return e > 1 ? tile$1(n, [1, e]) : n;\n      }) : t.cell.stateSize > 1 ? [tile$1(n, [1, t.cell.stateSize])] : [n];\n    });\n  }, Object.defineProperty(t.prototype, \"trainableWeights\", {\n    get: function () {\n      return this.trainable ? this.cell.trainableWeights : [];\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"nonTrainableWeights\", {\n    get: function () {\n      return this.trainable ? this.cell.nonTrainableWeights : this.cell.weights;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.setFastWeightInitDuringBuild = function (t) {\n    e.prototype.setFastWeightInitDuringBuild.call(this, t), null != this.cell && this.cell.setFastWeightInitDuringBuild(t);\n  }, t.prototype.getConfig = function () {\n    var t = {\n      returnSequences: this.returnSequences,\n      returnState: this.returnState,\n      goBackwards: this.goBackwards,\n      stateful: this.stateful,\n      unroll: this.unroll\n    };\n    null != this.numConstants && (t.numConstants = this.numConstants);\n    var n = this.cell.getConfig();\n    t.cell = {\n      className: this.cell.getClassName(),\n      config: n\n    };\n    var r = e.prototype.getConfig.call(this);\n    return Object.assign(t, r), t;\n  }, t.className = \"RNN\", t;\n}(Layer);\n\nserialization.registerClass(RNN);\n\nvar RNNCell = function (e) {\n  function t() {\n    return null !== e && e.apply(this, arguments) || this;\n  }\n\n  return __extends(t, e), t;\n}(Layer),\n    SimpleRNNCell = function (e) {\n  function t(t) {\n    var n = e.call(this, t) || this;\n    return n.DEFAULT_ACTIVATION = \"tanh\", n.DEFAULT_KERNEL_INITIALIZER = \"glorotNormal\", n.DEFAULT_RECURRENT_INITIALIZER = \"orthogonal\", n.DEFAULT_BIAS_INITIALIZER = \"zeros\", n.units = t.units, n.activation = getActivation(null == t.activation ? n.DEFAULT_ACTIVATION : t.activation), n.useBias = null == t.useBias || t.useBias, n.kernelInitializer = getInitializer(t.kernelInitializer || n.DEFAULT_KERNEL_INITIALIZER), n.recurrentInitializer = getInitializer(t.recurrentInitializer || n.DEFAULT_RECURRENT_INITIALIZER), n.biasInitializer = getInitializer(t.biasInitializer || n.DEFAULT_BIAS_INITIALIZER), n.kernelRegularizer = getRegularizer(t.kernelRegularizer), n.recurrentRegularizer = getRegularizer(t.recurrentRegularizer), n.biasRegularizer = getRegularizer(t.biasRegularizer), n.kernelConstraint = getConstraint(t.kernelConstraint), n.recurrentConstraint = getConstraint(t.recurrentConstraint), n.biasConstraint = getConstraint(t.biasConstraint), n.dropout = min$1([1, max$1([0, null == t.dropout ? 0 : t.dropout])]), n.recurrentDropout = min$1([1, max$1([0, null == t.recurrentDropout ? 0 : t.recurrentDropout])]), n.stateSize = n.units, n.dropoutMask = null, n.recurrentDropoutMask = null, n;\n  }\n\n  return __extends(t, e), t.prototype.build = function (e) {\n    e = getExactlyOneShape(e), this.kernel = this.addWeight(\"kernel\", [e[e.length - 1], this.units], null, this.kernelInitializer, this.kernelRegularizer, !0, this.kernelConstraint), this.recurrentKernel = this.addWeight(\"recurrent_kernel\", [this.units, this.units], null, this.recurrentInitializer, this.recurrentRegularizer, !0, this.recurrentConstraint), this.useBias ? this.bias = this.addWeight(\"bias\", [this.units], null, this.biasInitializer, this.biasRegularizer, !0, this.biasConstraint) : this.bias = null, this.built = !0;\n  }, t.prototype.call = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      if (2 !== (e = e).length) throw new ValueError(\"SimpleRNNCell expects 2 input Tensors, got \" + e.length + \".\");\n      var r = e[1];\n      e = e[0];\n      var i,\n          a = null != t.training && t.training;\n      0 < n.dropout && n.dropout < 1 && null == n.dropoutMask && (n.dropoutMask = generateDropoutMask(function () {\n        return onesLike(e);\n      }, n.dropout, a)), 0 < n.recurrentDropout && n.recurrentDropout < 1 && null == n.recurrentDropoutMask && (n.recurrentDropoutMask = generateDropoutMask(function () {\n        return onesLike(r);\n      }, n.recurrentDropout, a));\n      var o = n.dropoutMask,\n          s = n.recurrentDropoutMask;\n      i = dot(null != o ? mul(e, o) : e, n.kernel.read()), null != n.bias && (i = biasAdd(i, n.bias.read())), null != s && (r = mul(r, s));\n      var l = add(i, dot(r, n.recurrentKernel.read()));\n      return null != n.activation && (l = n.activation.apply(l)), [l, l];\n    });\n  }, t.prototype.getConfig = function () {\n    var t = {\n      units: this.units,\n      activation: serializeActivation(this.activation),\n      useBias: this.useBias,\n      kernelInitializer: serializeInitializer(this.kernelInitializer),\n      recurrentInitializer: serializeInitializer(this.recurrentInitializer),\n      biasInitializer: serializeInitializer(this.biasInitializer),\n      kernelRegularizer: serializeRegularizer(this.kernelRegularizer),\n      recurrentRegularizer: serializeRegularizer(this.recurrentRegularizer),\n      biasRegularizer: serializeRegularizer(this.biasRegularizer),\n      activityRegularizer: serializeRegularizer(this.activityRegularizer),\n      kernelConstraint: serializeConstraint(this.kernelConstraint),\n      recurrentConstraint: serializeConstraint(this.recurrentConstraint),\n      biasConstraint: serializeConstraint(this.biasConstraint),\n      dropout: this.dropout,\n      recurrentDropout: this.recurrentDropout\n    },\n        n = e.prototype.getConfig.call(this);\n    return Object.assign(t, n), t;\n  }, t.className = \"SimpleRNNCell\", t;\n}(RNNCell);\n\nserialization.registerClass(SimpleRNNCell);\n\nvar SimpleRNN = function (e) {\n  function t(t) {\n    return t.cell = new SimpleRNNCell(t), e.call(this, t) || this;\n  }\n\n  return __extends(t, e), t.prototype.call = function (t, n) {\n    var r = this;\n    return tidy(function () {\n      null != r.cell.dropoutMask && (dispose(r.cell.dropoutMask), r.cell.dropoutMask = null), null != r.cell.recurrentDropoutMask && (dispose(r.cell.recurrentDropoutMask), r.cell.recurrentDropoutMask = null);\n      var i = null == n ? null : n.mask,\n          a = null == n ? null : n.training,\n          o = null == n ? null : n.initialState;\n      return e.prototype.call.call(r, t, {\n        mask: i,\n        training: a,\n        initialState: o\n      });\n    });\n  }, Object.defineProperty(t.prototype, \"units\", {\n    get: function () {\n      return this.cell.units;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"activation\", {\n    get: function () {\n      return this.cell.activation;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"useBias\", {\n    get: function () {\n      return this.cell.useBias;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"kernelInitializer\", {\n    get: function () {\n      return this.cell.kernelInitializer;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"recurrentInitializer\", {\n    get: function () {\n      return this.cell.recurrentInitializer;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"biasInitializer\", {\n    get: function () {\n      return this.cell.biasInitializer;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"kernelRegularizer\", {\n    get: function () {\n      return this.cell.kernelRegularizer;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"recurrentRegularizer\", {\n    get: function () {\n      return this.cell.recurrentRegularizer;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"biasRegularizer\", {\n    get: function () {\n      return this.cell.biasRegularizer;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"kernelConstraint\", {\n    get: function () {\n      return this.cell.kernelConstraint;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"recurrentConstraint\", {\n    get: function () {\n      return this.cell.recurrentConstraint;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"biasConstraint\", {\n    get: function () {\n      return this.cell.biasConstraint;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"dropout\", {\n    get: function () {\n      return this.cell.dropout;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"recurrentDropout\", {\n    get: function () {\n      return this.cell.recurrentDropout;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.getConfig = function () {\n    var t = {\n      units: this.units,\n      activation: serializeActivation(this.activation),\n      useBias: this.useBias,\n      kernelInitializer: serializeInitializer(this.kernelInitializer),\n      recurrentInitializer: serializeInitializer(this.recurrentInitializer),\n      biasInitializer: serializeInitializer(this.biasInitializer),\n      kernelRegularizer: serializeRegularizer(this.kernelRegularizer),\n      recurrentRegularizer: serializeRegularizer(this.recurrentRegularizer),\n      biasRegularizer: serializeRegularizer(this.biasRegularizer),\n      activityRegularizer: serializeRegularizer(this.activityRegularizer),\n      kernelConstraint: serializeConstraint(this.kernelConstraint),\n      recurrentConstraint: serializeConstraint(this.recurrentConstraint),\n      biasConstraint: serializeConstraint(this.biasConstraint),\n      dropout: this.dropout,\n      recurrentDropout: this.recurrentDropout\n    },\n        n = e.prototype.getConfig.call(this);\n    return delete n.cell, Object.assign(t, n), t;\n  }, t.className = \"SimpleRNN\", t;\n}(RNN);\n\nserialization.registerClass(SimpleRNN);\n\nvar GRUCell = function (e) {\n  function t(t) {\n    var n = e.call(this, t) || this;\n    return n.DEFAULT_ACTIVATION = \"tanh\", n.DEFAULT_RECURRENT_ACTIVATION = \"hardSigmoid\", n.DEFAULT_KERNEL_INITIALIZER = \"glorotNormal\", n.DEFAULT_RECURRENT_INITIALIZER = \"orthogonal\", n.DEFAULT_BIAS_INITIALIZER = \"zeros\", n.units = t.units, n.activation = getActivation(void 0 === t.activation ? n.DEFAULT_ACTIVATION : t.activation), n.recurrentActivation = getActivation(void 0 === t.recurrentActivation ? n.DEFAULT_RECURRENT_ACTIVATION : t.recurrentActivation), n.useBias = null == t.useBias || t.useBias, n.kernelInitializer = getInitializer(t.kernelInitializer || n.DEFAULT_KERNEL_INITIALIZER), n.recurrentInitializer = getInitializer(t.recurrentInitializer || n.DEFAULT_RECURRENT_INITIALIZER), n.biasInitializer = getInitializer(t.biasInitializer || n.DEFAULT_BIAS_INITIALIZER), n.kernelRegularizer = getRegularizer(t.kernelRegularizer), n.recurrentRegularizer = getRegularizer(t.recurrentRegularizer), n.biasRegularizer = getRegularizer(t.biasRegularizer), n.kernelConstraint = getConstraint(t.kernelConstraint), n.recurrentConstraint = getConstraint(t.recurrentConstraint), n.biasConstraint = getConstraint(t.biasConstraint), n.dropout = min$1([1, max$1([0, null == t.dropout ? 0 : t.dropout])]), n.recurrentDropout = min$1([1, max$1([0, null == t.recurrentDropout ? 0 : t.recurrentDropout])]), n.implementation = t.implementation, n.stateSize = n.units, n.dropoutMask = null, n.recurrentDropoutMask = null, n;\n  }\n\n  return __extends(t, e), t.prototype.build = function (e) {\n    var t = (e = getExactlyOneShape(e))[e.length - 1];\n    this.kernel = this.addWeight(\"kernel\", [t, 3 * this.units], null, this.kernelInitializer, this.kernelRegularizer, !0, this.kernelConstraint), this.recurrentKernel = this.addWeight(\"recurrent_kernel\", [this.units, 3 * this.units], null, this.recurrentInitializer, this.recurrentRegularizer, !0, this.recurrentConstraint), this.useBias ? this.bias = this.addWeight(\"bias\", [3 * this.units], null, this.biasInitializer, this.biasRegularizer, !0, this.biasConstraint) : this.bias = null, this.built = !0;\n  }, t.prototype.call = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      if (2 !== (e = e).length) throw new ValueError(\"GRUCell expects 2 input Tensors (inputs, h, c), got \" + e.length + \".\");\n      var r = null != t.training && t.training,\n          i = e[1];\n      e = e[0], 0 < n.dropout && n.dropout < 1 && null == n.dropoutMask && (n.dropoutMask = generateDropoutMask(function () {\n        return onesLike(e);\n      }, n.dropout, r, 3)), 0 < n.recurrentDropout && n.recurrentDropout < 1 && null == n.recurrentDropoutMask && (n.recurrentDropoutMask = generateDropoutMask(function () {\n        return onesLike(i);\n      }, n.recurrentDropout, r, 3));\n      var a,\n          o,\n          s,\n          l = n.dropoutMask,\n          u = n.recurrentDropoutMask;\n      0 < n.dropout && n.dropout < 1 && (e = mul(e, l[0]));\n      var c = dot(e, n.kernel.read());\n      n.useBias && (c = biasAdd(c, n.bias.read())), 0 < n.recurrentDropout && n.recurrentDropout < 1 && (i = mul(i, u[0]));\n      var h = n.recurrentKernel.read(),\n          p = split(h, [2 * n.units, n.units], h.rank - 1),\n          d = p[0],\n          g = p[1],\n          f = dot(i, d),\n          m = split(c, 3, c.rank - 1),\n          y = m[0],\n          v = m[1],\n          b = m[2],\n          w = split(f, 2, f.rank - 1),\n          z = w[0],\n          S = w[1];\n      a = n.recurrentActivation.apply(add(y, z)), o = n.recurrentActivation.apply(add(v, S));\n      var I = dot(mul(o, i), g);\n      s = n.activation.apply(add(b, I));\n      var A = add(mul(a, i), mul(add(getScalar(1), neg(a)), s));\n      return [A, A];\n    });\n  }, t.prototype.getConfig = function () {\n    var t = {\n      units: this.units,\n      activation: serializeActivation(this.activation),\n      recurrentActivation: serializeActivation(this.recurrentActivation),\n      useBias: this.useBias,\n      kernelInitializer: serializeInitializer(this.kernelInitializer),\n      recurrentInitializer: serializeInitializer(this.recurrentInitializer),\n      biasInitializer: serializeInitializer(this.biasInitializer),\n      kernelRegularizer: serializeRegularizer(this.kernelRegularizer),\n      recurrentRegularizer: serializeRegularizer(this.recurrentRegularizer),\n      biasRegularizer: serializeRegularizer(this.biasRegularizer),\n      activityRegularizer: serializeRegularizer(this.activityRegularizer),\n      kernelConstraint: serializeConstraint(this.kernelConstraint),\n      recurrentConstraint: serializeConstraint(this.recurrentConstraint),\n      biasConstraint: serializeConstraint(this.biasConstraint),\n      dropout: this.dropout,\n      recurrentDropout: this.recurrentDropout,\n      implementation: this.implementation\n    },\n        n = e.prototype.getConfig.call(this);\n    return Object.assign(t, n), t;\n  }, t.className = \"GRUCell\", t;\n}(RNNCell);\n\nserialization.registerClass(GRUCell);\n\nvar GRU = function (e) {\n  function t(t) {\n    return 0 === t.implementation && console.warn(\"`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call.\"), t.cell = new GRUCell(t), e.call(this, t) || this;\n  }\n\n  return __extends(t, e), t.prototype.call = function (t, n) {\n    var r = this;\n    return tidy(function () {\n      null != r.cell.dropoutMask && (dispose(r.cell.dropoutMask), r.cell.dropoutMask = null), null != r.cell.recurrentDropoutMask && (dispose(r.cell.recurrentDropoutMask), r.cell.recurrentDropoutMask = null);\n      var i = null == n ? null : n.mask,\n          a = null == n ? null : n.training,\n          o = null == n ? null : n.initialState;\n      return e.prototype.call.call(r, t, {\n        mask: i,\n        training: a,\n        initialState: o\n      });\n    });\n  }, Object.defineProperty(t.prototype, \"units\", {\n    get: function () {\n      return this.cell.units;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"activation\", {\n    get: function () {\n      return this.cell.activation;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"recurrentActivation\", {\n    get: function () {\n      return this.cell.recurrentActivation;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"useBias\", {\n    get: function () {\n      return this.cell.useBias;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"kernelInitializer\", {\n    get: function () {\n      return this.cell.kernelInitializer;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"recurrentInitializer\", {\n    get: function () {\n      return this.cell.recurrentInitializer;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"biasInitializer\", {\n    get: function () {\n      return this.cell.biasInitializer;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"kernelRegularizer\", {\n    get: function () {\n      return this.cell.kernelRegularizer;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"recurrentRegularizer\", {\n    get: function () {\n      return this.cell.recurrentRegularizer;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"biasRegularizer\", {\n    get: function () {\n      return this.cell.biasRegularizer;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"kernelConstraint\", {\n    get: function () {\n      return this.cell.kernelConstraint;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"recurrentConstraint\", {\n    get: function () {\n      return this.cell.recurrentConstraint;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"biasConstraint\", {\n    get: function () {\n      return this.cell.biasConstraint;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"dropout\", {\n    get: function () {\n      return this.cell.dropout;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"recurrentDropout\", {\n    get: function () {\n      return this.cell.recurrentDropout;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"implementation\", {\n    get: function () {\n      return this.cell.implementation;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.getConfig = function () {\n    var t = {\n      units: this.units,\n      activation: serializeActivation(this.activation),\n      recurrentActivation: serializeActivation(this.recurrentActivation),\n      useBias: this.useBias,\n      kernelInitializer: serializeInitializer(this.kernelInitializer),\n      recurrentInitializer: serializeInitializer(this.recurrentInitializer),\n      biasInitializer: serializeInitializer(this.biasInitializer),\n      kernelRegularizer: serializeRegularizer(this.kernelRegularizer),\n      recurrentRegularizer: serializeRegularizer(this.recurrentRegularizer),\n      biasRegularizer: serializeRegularizer(this.biasRegularizer),\n      activityRegularizer: serializeRegularizer(this.activityRegularizer),\n      kernelConstraint: serializeConstraint(this.kernelConstraint),\n      recurrentConstraint: serializeConstraint(this.recurrentConstraint),\n      biasConstraint: serializeConstraint(this.biasConstraint),\n      dropout: this.dropout,\n      recurrentDropout: this.recurrentDropout,\n      implementation: this.implementation\n    },\n        n = e.prototype.getConfig.call(this);\n    return delete n.cell, Object.assign(t, n), t;\n  }, t.fromConfig = function (e, t) {\n    return 0 === t.implmentation && (t.implementation = 1), new e(t);\n  }, t.className = \"GRU\", t;\n}(RNN);\n\nserialization.registerClass(GRU);\n\nvar LSTMCell = function (e) {\n  function t(t) {\n    var n = e.call(this, t) || this;\n    return n.DEFAULT_ACTIVATION = \"tanh\", n.DEFAULT_RECURRENT_ACTIVATION = \"hardSigmoid\", n.DEFAULT_KERNEL_INITIALIZER = \"glorotNormal\", n.DEFAULT_RECURRENT_INITIALIZER = \"orthogonal\", n.DEFAULT_BIAS_INITIALIZER = \"zeros\", n.units = t.units, n.activation = getActivation(void 0 === t.activation ? n.DEFAULT_ACTIVATION : t.activation), n.recurrentActivation = getActivation(void 0 === t.recurrentActivation ? n.DEFAULT_RECURRENT_ACTIVATION : t.recurrentActivation), n.useBias = null == t.useBias || t.useBias, n.kernelInitializer = getInitializer(t.kernelInitializer || n.DEFAULT_KERNEL_INITIALIZER), n.recurrentInitializer = getInitializer(t.recurrentInitializer || n.DEFAULT_RECURRENT_INITIALIZER), n.biasInitializer = getInitializer(t.biasInitializer || n.DEFAULT_BIAS_INITIALIZER), n.unitForgetBias = t.unitForgetBias, n.kernelRegularizer = getRegularizer(t.kernelRegularizer), n.recurrentRegularizer = getRegularizer(t.recurrentRegularizer), n.biasRegularizer = getRegularizer(t.biasRegularizer), n.kernelConstraint = getConstraint(t.kernelConstraint), n.recurrentConstraint = getConstraint(t.recurrentConstraint), n.biasConstraint = getConstraint(t.biasConstraint), n.dropout = min$1([1, max$1([0, null == t.dropout ? 0 : t.dropout])]), n.recurrentDropout = min$1([1, max$1([0, null == t.recurrentDropout ? 0 : t.recurrentDropout])]), n.implementation = t.implementation, n.stateSize = [n.units, n.units], n.dropoutMask = null, n.recurrentDropoutMask = null, n;\n  }\n\n  return __extends(t, e), t.prototype.build = function (e) {\n    var t,\n        n,\n        r = (e = getExactlyOneShape(e))[e.length - 1];\n\n    if (this.kernel = this.addWeight(\"kernel\", [r, 4 * this.units], null, this.kernelInitializer, this.kernelRegularizer, !0, this.kernelConstraint), this.recurrentKernel = this.addWeight(\"recurrent_kernel\", [this.units, 4 * this.units], null, this.recurrentInitializer, this.recurrentRegularizer, !0, this.recurrentConstraint), this.useBias) {\n      if (this.unitForgetBias) {\n        var i = this.biasInitializer,\n            a = this.units;\n        t = new ((n = function (e) {\n          function t() {\n            return null !== e && e.apply(this, arguments) || this;\n          }\n\n          return __extends(t, e), t.prototype.apply = function (e, t) {\n            var n = i.apply([a]),\n                r = new Ones().apply([a]),\n                o = i.apply([2 * a]);\n            return concatAlongFirstAxis(concatAlongFirstAxis(n, r), o);\n          }, t;\n        }(Initializer)).className = \"CustomInit\", n)();\n      } else t = this.biasInitializer;\n\n      this.bias = this.addWeight(\"bias\", [4 * this.units], null, t, this.biasRegularizer, !0, this.biasConstraint);\n    } else this.bias = null;\n\n    this.built = !0;\n  }, t.prototype.call = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      var r = null != t.training && t.training;\n      if (3 !== (e = e).length) throw new ValueError(\"LSTMCell expects 3 input Tensors (inputs, h, c), got \" + e.length + \".\");\n      var i = e[1],\n          a = e[2];\n      e = e[0], 0 < n.dropout && n.dropout < 1 && null == n.dropoutMask && (n.dropoutMask = generateDropoutMask(function () {\n        return onesLike(e);\n      }, n.dropout, r, 4)), 0 < n.recurrentDropout && n.recurrentDropout < 1 && null == n.recurrentDropoutMask && (n.recurrentDropoutMask = generateDropoutMask(function () {\n        return onesLike(i);\n      }, n.recurrentDropout, r, 4));\n      var o,\n          s,\n          l,\n          u,\n          c = n.dropoutMask,\n          h = n.recurrentDropoutMask;\n      0 < n.dropout && n.dropout < 1 && (e = mul(e, c[0]));\n      var p = dot(e, n.kernel.read());\n      0 < n.recurrentDropout && n.recurrentDropout < 1 && (i = mul(i, h[0])), p = add(p, dot(i, n.recurrentKernel.read())), n.useBias && (p = biasAdd(p, n.bias.read()));\n      var d = split(p, 4, p.rank - 1),\n          g = d[0],\n          f = d[1],\n          m = d[2],\n          y = d[3];\n      o = n.recurrentActivation.apply(g), s = n.recurrentActivation.apply(f), l = add(mul(s, a), mul(o, n.activation.apply(m))), u = n.recurrentActivation.apply(y);\n      var v = mul(u, n.activation.apply(l));\n      return [v, v, l];\n    });\n  }, t.prototype.getConfig = function () {\n    var t = {\n      units: this.units,\n      activation: serializeActivation(this.activation),\n      recurrentActivation: serializeActivation(this.recurrentActivation),\n      useBias: this.useBias,\n      kernelInitializer: serializeInitializer(this.kernelInitializer),\n      recurrentInitializer: serializeInitializer(this.recurrentInitializer),\n      biasInitializer: serializeInitializer(this.biasInitializer),\n      unitForgetBias: this.unitForgetBias,\n      kernelRegularizer: serializeRegularizer(this.kernelRegularizer),\n      recurrentRegularizer: serializeRegularizer(this.recurrentRegularizer),\n      biasRegularizer: serializeRegularizer(this.biasRegularizer),\n      activityRegularizer: serializeRegularizer(this.activityRegularizer),\n      kernelConstraint: serializeConstraint(this.kernelConstraint),\n      recurrentConstraint: serializeConstraint(this.recurrentConstraint),\n      biasConstraint: serializeConstraint(this.biasConstraint),\n      dropout: this.dropout,\n      recurrentDropout: this.recurrentDropout,\n      implementation: this.implementation\n    },\n        n = e.prototype.getConfig.call(this);\n    return Object.assign(t, n), t;\n  }, t.className = \"LSTMCell\", t;\n}(RNNCell);\n\nserialization.registerClass(LSTMCell);\n\nvar LSTM = function (e) {\n  function t(t) {\n    return 0 === t.implementation && console.warn(\"`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call.\"), t.cell = new LSTMCell(t), e.call(this, t) || this;\n  }\n\n  return __extends(t, e), t.prototype.call = function (t, n) {\n    var r = this;\n    return tidy(function () {\n      null != r.cell.dropoutMask && (dispose(r.cell.dropoutMask), r.cell.dropoutMask = null), null != r.cell.recurrentDropoutMask && (dispose(r.cell.recurrentDropoutMask), r.cell.recurrentDropoutMask = null);\n      var i = null == n ? null : n.mask,\n          a = null == n ? null : n.training,\n          o = null == n ? null : n.initialState;\n      return e.prototype.call.call(r, t, {\n        mask: i,\n        training: a,\n        initialState: o\n      });\n    });\n  }, Object.defineProperty(t.prototype, \"units\", {\n    get: function () {\n      return this.cell.units;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"activation\", {\n    get: function () {\n      return this.cell.activation;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"recurrentActivation\", {\n    get: function () {\n      return this.cell.recurrentActivation;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"useBias\", {\n    get: function () {\n      return this.cell.useBias;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"kernelInitializer\", {\n    get: function () {\n      return this.cell.kernelInitializer;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"recurrentInitializer\", {\n    get: function () {\n      return this.cell.recurrentInitializer;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"biasInitializer\", {\n    get: function () {\n      return this.cell.biasInitializer;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"unitForgetBias\", {\n    get: function () {\n      return this.cell.unitForgetBias;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"kernelRegularizer\", {\n    get: function () {\n      return this.cell.kernelRegularizer;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"recurrentRegularizer\", {\n    get: function () {\n      return this.cell.recurrentRegularizer;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"biasRegularizer\", {\n    get: function () {\n      return this.cell.biasRegularizer;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"kernelConstraint\", {\n    get: function () {\n      return this.cell.kernelConstraint;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"recurrentConstraint\", {\n    get: function () {\n      return this.cell.recurrentConstraint;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"biasConstraint\", {\n    get: function () {\n      return this.cell.biasConstraint;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"dropout\", {\n    get: function () {\n      return this.cell.dropout;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"recurrentDropout\", {\n    get: function () {\n      return this.cell.recurrentDropout;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"implementation\", {\n    get: function () {\n      return this.cell.implementation;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.getConfig = function () {\n    var t = {\n      units: this.units,\n      activation: serializeActivation(this.activation),\n      recurrentActivation: serializeActivation(this.recurrentActivation),\n      useBias: this.useBias,\n      kernelInitializer: serializeInitializer(this.kernelInitializer),\n      recurrentInitializer: serializeInitializer(this.recurrentInitializer),\n      biasInitializer: serializeInitializer(this.biasInitializer),\n      unitForgetBias: this.unitForgetBias,\n      kernelRegularizer: serializeRegularizer(this.kernelRegularizer),\n      recurrentRegularizer: serializeRegularizer(this.recurrentRegularizer),\n      biasRegularizer: serializeRegularizer(this.biasRegularizer),\n      activityRegularizer: serializeRegularizer(this.activityRegularizer),\n      kernelConstraint: serializeConstraint(this.kernelConstraint),\n      recurrentConstraint: serializeConstraint(this.recurrentConstraint),\n      biasConstraint: serializeConstraint(this.biasConstraint),\n      dropout: this.dropout,\n      recurrentDropout: this.recurrentDropout,\n      implementation: this.implementation\n    },\n        n = e.prototype.getConfig.call(this);\n    return delete n.cell, Object.assign(t, n), t;\n  }, t.fromConfig = function (e, t) {\n    return 0 === t.implmentation && (t.implementation = 1), new e(t);\n  }, t.className = \"LSTM\", t;\n}(RNN);\n\nserialization.registerClass(LSTM);\n\nvar StackedRNNCells = function (e) {\n  function t(t) {\n    var n = e.call(this, t) || this;\n    return n.cells = t.cells, n;\n  }\n\n  return __extends(t, e), Object.defineProperty(t.prototype, \"stateSize\", {\n    get: function () {\n      for (var e = [], t = 0, n = this.cells.slice().reverse(); t < n.length; t++) {\n        var r = n[t];\n        Array.isArray(r.stateSize) ? e.push.apply(e, r.stateSize) : e.push(r.stateSize);\n      }\n\n      return e;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.call = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      for (var r = (e = e).slice(1), i = [], a = 0, o = n.cells.slice().reverse(); a < o.length; a++) {\n        var s = o[a];\n        Array.isArray(s.stateSize) ? i.push(r.splice(0, s.stateSize.length)) : i.push(r.splice(0, 1));\n      }\n\n      i.reverse();\n\n      for (var l, u = [], c = 0; c < n.cells.length; ++c) {\n        s = n.cells[c];\n        r = i[c], l = 0 === c ? [e[0]].concat(r) : [l[0]].concat(r), l = s.call(l, t), u.push(l.slice(1));\n      }\n\n      r = [];\n\n      for (var h = 0, p = u.slice().reverse(); h < p.length; h++) {\n        var d = p[h];\n        r.push.apply(r, d);\n      }\n\n      return [l[0]].concat(r);\n    });\n  }, t.prototype.build = function (e) {\n    var t;\n    isArrayOfShapes(e) && (e = e[0]), e = e;\n\n    for (var n = 0, r = this.cells; n < r.length; n++) {\n      var i = r[n];\n      i.build(e), t = Array.isArray(i.stateSize) ? i.stateSize[0] : i.stateSize, e = [e[0], t];\n    }\n\n    this.built = !0;\n  }, t.prototype.getConfig = function () {\n    for (var t = [], n = 0, r = this.cells; n < r.length; n++) {\n      var i = r[n];\n      t.push({\n        className: this.getClassName(),\n        config: i.getConfig()\n      });\n    }\n\n    var a = {\n      cells: t\n    },\n        o = e.prototype.getConfig.call(this);\n    return Object.assign(a, o), a;\n  }, t.fromConfig = function (e, t, n) {\n    void 0 === n && (n = {});\n\n    for (var r = [], i = 0, a = t.cells; i < a.length; i++) {\n      var o = a[i];\n      r.push(deserialize(o, n));\n    }\n\n    return new e({\n      cells: r\n    });\n  }, Object.defineProperty(t.prototype, \"trainableWeights\", {\n    get: function () {\n      if (!this.trainable) return [];\n\n      for (var e = [], t = 0, n = this.cells; t < n.length; t++) {\n        var r = n[t];\n        e.push.apply(e, r.trainableWeights);\n      }\n\n      return e;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"nonTrainableWeights\", {\n    get: function () {\n      for (var e = [], t = 0, n = this.cells; t < n.length; t++) {\n        var r = n[t];\n        e.push.apply(e, r.nonTrainableWeights);\n      }\n\n      if (!this.trainable) {\n        for (var i = [], a = 0, o = this.cells; a < o.length; a++) {\n          r = o[a];\n          i.push.apply(i, r.trainableWeights);\n        }\n\n        return i.concat(e);\n      }\n\n      return e;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.getWeights = function () {\n    for (var e = [], t = 0, n = this.cells; t < n.length; t++) {\n      var r = n[t];\n      e.push.apply(e, r.weights);\n    }\n\n    return batchGetValue(e);\n  }, t.prototype.setWeights = function (e) {\n    for (var t = [], n = 0, r = this.cells; n < r.length; n++) for (var i = r[n], a = i.weights.length, o = e.splice(a), s = 0; s < i.weights.length; ++s) t.push([i.weights[s], o[s]]);\n\n    batchSetValue(t);\n  }, t.className = \"StackedRNNCells\", t;\n}(RNNCell);\n\nfunction generateDropoutMask(e, t, n, r) {\n  function i() {\n    return dropout(e(), getScalar(t));\n  }\n\n  if (void 0 === n && (n = null), void 0 === r && (r = 1), r > 1) {\n    for (var a = [], o = 0; o < r; o++) a.push(inTrainPhase(i, e, n));\n\n    return a.forEach(function (e) {\n      return keep(e);\n    }), a;\n  }\n\n  return keep(inTrainPhase(i, e, n));\n}\n\nserialization.registerClass(StackedRNNCells);\n\nvar Wrapper = function (e) {\n  function t(t) {\n    var n = e.call(this, t) || this;\n    return n.layer = t.layer, n;\n  }\n\n  return __extends(t, e), t.prototype.build = function (e) {\n    this.built = !0;\n  }, Object.defineProperty(t.prototype, \"trainable\", {\n    get: function () {\n      return null != this.layer && this.layer.trainable;\n    },\n    set: function (e) {\n      null != this.layer && (this.layer.trainable = e);\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"trainableWeights\", {\n    get: function () {\n      return this.layer.trainableWeights;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"nonTrainableWeights\", {\n    get: function () {\n      return this.layer.nonTrainableWeights;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"updates\", {\n    get: function () {\n      return this.layer._updates;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"losses\", {\n    get: function () {\n      return this.layer.losses;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.getWeights = function () {\n    return this.layer.getWeights();\n  }, t.prototype.setWeights = function (e) {\n    this.layer.setWeights(e);\n  }, t.prototype.getConfig = function () {\n    var t = {\n      layer: {\n        className: this.layer.getClassName(),\n        config: this.layer.getConfig()\n      }\n    },\n        n = e.prototype.getConfig.call(this);\n    return Object.assign(t, n), t;\n  }, t.prototype.setFastWeightInitDuringBuild = function (t) {\n    e.prototype.setFastWeightInitDuringBuild.call(this, t), null != this.layer && this.layer.setFastWeightInitDuringBuild(t);\n  }, t.fromConfig = function (e, t, n) {\n    void 0 === n && (n = {});\n    var r = deserialize(t.layer, n);\n    delete t.layer;\n    var i = {\n      layer: r\n    };\n    return Object.assign(i, t), new e(i);\n  }, t;\n}(Layer),\n    TimeDistributed = function (e) {\n  function t(t) {\n    var n = e.call(this, t) || this;\n    return n.supportsMasking = !0, n;\n  }\n\n  return __extends(t, e), t.prototype.build = function (t) {\n    if ((t = getExactlyOneShape(t)).length < 3) throw new ValueError(\"TimeDistributed layer expects an input shape >= 3D, but received input shape \" + JSON.stringify(t));\n    this.inputSpec = [{\n      shape: t\n    }];\n    var n = [t[0]].concat(t.slice(2));\n    this.layer.built || (this.layer.build(n), this.layer.built = !0), e.prototype.build.call(this, t);\n  }, t.prototype.computeOutputShape = function (e) {\n    var t = [(e = getExactlyOneShape(e))[0]].concat(e.slice(2)),\n        n = this.layer.computeOutputShape(t),\n        r = e[1];\n    return [n[0], r].concat(n.slice(1));\n  }, t.prototype.call = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      return rnn(function (e, r) {\n        return [getExactlyOneTensor(n.layer.call(e, t)), []];\n      }, e = getExactlyOneTensor(e), [], !1, null, null, !1, !0)[1];\n    });\n  }, t.className = \"TimeDistributed\", t;\n}(Wrapper);\n\nserialization.registerClass(TimeDistributed);\nvar VALID_BIDIRECTIONAL_MERGE_MODES = [\"sum\", \"mul\", \"concat\", \"ave\"];\n\nfunction checkBidirectionalMergeMode(e) {\n  checkStringTypeUnionValue(VALID_BIDIRECTIONAL_MERGE_MODES, \"BidirectionalMergeMode\", e);\n}\n\nvar Bidirectional = function (e) {\n  function t(t) {\n    var n = e.call(this, t) || this,\n        r = t.layer.getConfig();\n    if (n.forwardLayer = deserialize({\n      className: t.layer.getClassName(),\n      config: r\n    }), r.goBackwards = !0 !== r.goBackwards, n.backwardLayer = deserialize({\n      className: t.layer.getClassName(),\n      config: r\n    }), n.forwardLayer.name = \"forward_\" + n.forwardLayer.name, n.backwardLayer.name = \"backward_\" + n.backwardLayer.name, checkBidirectionalMergeMode(t.mergeMode), n.mergeMode = t.mergeMode, t.weights) throw new NotImplementedError(\"weights support is not implemented for Bidirectional layer yet.\");\n    return n._stateful = t.layer.stateful, n.returnSequences = t.layer.returnSequences, n.returnState = t.layer.returnState, n.supportsMasking = !0, n._trainable = !0, n.inputSpec = t.layer.inputSpec, n.numConstants = null, n;\n  }\n\n  return __extends(t, e), Object.defineProperty(t.prototype, \"trainable\", {\n    get: function () {\n      return this._trainable;\n    },\n    set: function (e) {\n      this._trainable = e, null != this.forwardLayer && (this.forwardLayer.trainable = e), null != this.backwardLayer && (this.backwardLayer.trainable = e);\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.getWeights = function () {\n    return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights());\n  }, t.prototype.setWeights = function (e) {\n    var t = e.length,\n        n = Math.floor(t / 2);\n    this.forwardLayer.setWeights(e.slice(0, n)), this.backwardLayer.setWeights(e.slice(n));\n  }, t.prototype.computeOutputShape = function (e) {\n    var t,\n        n,\n        r,\n        i = this.forwardLayer.computeOutputShape(e);\n    return Array.isArray(i) && Array.isArray(i[0]) || (i = [i]), i = i, this.returnState ? (r = i.slice(1), t = i[0]) : t = i[0], t = t, \"concat\" === this.mergeMode ? (t[t.length - 1] *= 2, n = [t]) : n = null == this.mergeMode ? [t, t.slice()] : [t], this.returnState ? null == this.mergeMode ? n.concat(r).concat(r.slice()) : [t].concat(r).concat(r.slice()) : singletonOrArray(n);\n  }, t.prototype.apply = function (t, n) {\n    var r = null == n ? null : n.initialState,\n        i = null == n ? null : n.constants;\n    null == n && (n = {});\n    var a = standardizeArgs(t, r, i, this.numConstants);\n    if (t = a.inputs, r = a.initialState, i = a.constants, Array.isArray(t) && (r = t.slice(1), t = t[0]), (null == r || 0 === r.length) && null == i) return e.prototype.apply.call(this, t, n);\n    var o = [],\n        s = [];\n\n    if (null != r) {\n      var l = r.length;\n      if (l % 2 > 0) throw new ValueError(\"When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.\");\n      n.initialState = r, o.push.apply(o, r);\n      var u = r.map(function (e) {\n        return new InputSpec({\n          shape: e.shape\n        });\n      });\n      this.forwardLayer.stateSpec = u.slice(0, l / 2), this.backwardLayer.stateSpec = u.slice(l / 2), s.push.apply(s, u);\n    }\n\n    if (null != i) throw new NotImplementedError(\"Support for constants in Bidirectional layers is not implemented yet.\");\n\n    for (var c = o[0] instanceof SymbolicTensor, h = 0, p = o; h < p.length; h++) {\n      if (p[h] instanceof SymbolicTensor !== c) throw new ValueError(\"The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors\");\n    }\n\n    if (c) {\n      var d = [t].concat(o),\n          g = this.inputSpec.concat(s),\n          f = this.inputSpec;\n      this.inputSpec = g;\n      var m = e.prototype.apply.call(this, d, n);\n      return this.inputSpec = f, m;\n    }\n\n    return e.prototype.apply.call(this, t, n);\n  }, t.prototype.call = function (e, t) {\n    var n = this;\n    return tidy(function () {\n      if (null != t.mask) throw new NotImplementedError(\"The support for masking is not implemented for Bidirectional layers yet.\");\n      var r,\n          i,\n          a,\n          o,\n          s = t.initialState;\n      if (null == s) r = n.forwardLayer.call(e, t), i = n.backwardLayer.call(e, t);else {\n        var l = s.slice(0, s.length / 2),\n            u = s.slice(s.length / 2);\n        r = n.forwardLayer.call(e, Object.assign(t, {\n          initialState: l\n        })), i = n.backwardLayer.call(e, Object.assign(t, {\n          initialState: u\n        }));\n      }\n      return n.returnState && (Array.isArray(r) && (a = r.slice(1).concat(i.slice(1))), r = r[0], i = i[0]), n.returnSequences && (i = reverse(i, 1)), \"concat\" === n.mergeMode ? o = concatenate([r, i]) : \"sum\" === n.mergeMode ? o = add(r, i) : \"ave\" === n.mergeMode ? o = mul(getScalar(.5), add(r, i)) : \"mul\" === n.mergeMode ? o = mul(r, i) : null == n.mergeMode && (o = [r, i]), n.returnState ? null == n.mergeMode ? o.concat(a) : [o].concat(a) : o;\n    });\n  }, t.prototype.resetStates = function (e) {\n    this.forwardLayer.resetStates(), this.backwardLayer.resetStates();\n  }, t.prototype.build = function (e) {\n    var t = this;\n    nameScope(this.forwardLayer.name, function () {\n      t.forwardLayer.build(e);\n    }), nameScope(this.backwardLayer.name, function () {\n      t.backwardLayer.build(e);\n    }), this.built = !0;\n  }, Object.defineProperty(t.prototype, \"trainableWeights\", {\n    get: function () {\n      return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights);\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"nonTrainableWeights\", {\n    get: function () {\n      return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights);\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.setFastWeightInitDuringBuild = function (t) {\n    e.prototype.setFastWeightInitDuringBuild.call(this, t), null != this.forwardLayer && this.forwardLayer.setFastWeightInitDuringBuild(t), null != this.backwardLayer && this.backwardLayer.setFastWeightInitDuringBuild(t);\n  }, t.prototype.getConfig = function () {\n    var t = {\n      mergeMode: this.mergeMode\n    },\n        n = e.prototype.getConfig.call(this);\n    return Object.assign(t, n), t;\n  }, t.fromConfig = function (e, t) {\n    var n = deserialize(t.layer);\n    if (delete t.layer, null != t.numConstants) throw new NotImplementedError(\"Deserialization of a Bidirectional layer with numConstants present is not supported yet.\");\n    var r = t;\n    return r.layer = n, new e(r);\n  }, t.className = \"Bidirectional\", t;\n}(Wrapper);\n\nfunction inputLayer(e) {\n  return new InputLayer(e);\n}\n\nfunction elu$2(e) {\n  return new ELU(e);\n}\n\nfunction reLU(e) {\n  return new ReLU(e);\n}\n\nfunction leakyReLU(e) {\n  return new LeakyReLU(e);\n}\n\nfunction prelu$1(e) {\n  return new PReLU(e);\n}\n\nfunction softmax$1(e) {\n  return new Softmax$1(e);\n}\n\nfunction thresholdedReLU(e) {\n  return new ThresholdedReLU(e);\n}\n\nfunction conv1d$2(e) {\n  return new Conv1D(e);\n}\n\nfunction conv2d$2(e) {\n  return new Conv2D(e);\n}\n\nfunction conv2dTranspose$1(e) {\n  return new Conv2DTranspose(e);\n}\n\nfunction separableConv2d$1(e) {\n  return new SeparableConv2D(e);\n}\n\nfunction cropping2D(e) {\n  return new Cropping2D(e);\n}\n\nfunction upSampling2d(e) {\n  return new UpSampling2D(e);\n}\n\nfunction depthwiseConv2d$2(e) {\n  return new DepthwiseConv2D(e);\n}\n\nfunction activation(e) {\n  return new Activation$1(e);\n}\n\nfunction dense(e) {\n  return new Dense(e);\n}\n\nfunction dropout$1(e) {\n  return new Dropout(e);\n}\n\nfunction flatten$1(e) {\n  return new Flatten(e);\n}\n\nfunction repeatVector(e) {\n  return new RepeatVector(e);\n}\n\nfunction reshape(e) {\n  return new Reshape(e);\n}\n\nfunction permute(e) {\n  return new Permute(e);\n}\n\nfunction embedding(e) {\n  return new Embedding(e);\n}\n\nfunction add$2(e) {\n  return new Add(e);\n}\n\nfunction average$1(e) {\n  return new Average(e);\n}\n\nfunction concatenate$2(e) {\n  return new Concatenate(e);\n}\n\nfunction maximum$2(e) {\n  return new Maximum(e);\n}\n\nfunction minimum$2(e) {\n  return new Minimum(e);\n}\n\nfunction multiply$1(e) {\n  return new Multiply(e);\n}\n\nfunction dot$1(e) {\n  return new Dot(e);\n}\n\nfunction batchNormalization$1(e) {\n  return new BatchNormalization(e);\n}\n\nfunction zeroPadding2d(e) {\n  return new ZeroPadding2D(e);\n}\n\nfunction averagePooling1d(e) {\n  return new AveragePooling1D(e);\n}\n\nfunction avgPool1d(e) {\n  return averagePooling1d(e);\n}\n\nfunction avgPooling1d(e) {\n  return averagePooling1d(e);\n}\n\nfunction averagePooling2d(e) {\n  return new AveragePooling2D(e);\n}\n\nfunction avgPool2d(e) {\n  return averagePooling2d(e);\n}\n\nfunction avgPooling2d(e) {\n  return averagePooling2d(e);\n}\n\nfunction globalAveragePooling1d(e) {\n  return new GlobalAveragePooling1D(e);\n}\n\nfunction globalAveragePooling2d(e) {\n  return new GlobalAveragePooling2D(e);\n}\n\nfunction globalMaxPooling1d(e) {\n  return new GlobalMaxPooling1D(e);\n}\n\nfunction globalMaxPooling2d(e) {\n  return new GlobalMaxPooling2D(e);\n}\n\nfunction maxPooling1d(e) {\n  return new MaxPooling1D(e);\n}\n\nfunction maxPooling2d(e) {\n  return new MaxPooling2D(e);\n}\n\nfunction gru(e) {\n  return new GRU(e);\n}\n\nfunction gruCell(e) {\n  return new GRUCell(e);\n}\n\nfunction lstm(e) {\n  return new LSTM(e);\n}\n\nfunction lstmCell(e) {\n  return new LSTMCell(e);\n}\n\nfunction simpleRNN(e) {\n  return new SimpleRNN(e);\n}\n\nfunction simpleRNNCell(e) {\n  return new SimpleRNNCell(e);\n}\n\nfunction rnn$1(e) {\n  return new RNN(e);\n}\n\nfunction stackedRNNCells(e) {\n  return new StackedRNNCells(e);\n}\n\nfunction bidirectional(e) {\n  return new Bidirectional(e);\n}\n\nfunction timeDistributed(e) {\n  return new TimeDistributed(e);\n}\n\nserialization.registerClass(Bidirectional);\nvar globalMaxPool1d = globalMaxPooling1d,\n    globalMaxPool2d = globalMaxPooling2d,\n    maxPool1d = maxPooling1d,\n    maxPool2d = maxPooling2d,\n    exports_layers = Object.freeze({\n  inputLayer: inputLayer,\n  elu: elu$2,\n  reLU: reLU,\n  leakyReLU: leakyReLU,\n  prelu: prelu$1,\n  softmax: softmax$1,\n  thresholdedReLU: thresholdedReLU,\n  conv1d: conv1d$2,\n  conv2d: conv2d$2,\n  conv2dTranspose: conv2dTranspose$1,\n  separableConv2d: separableConv2d$1,\n  cropping2D: cropping2D,\n  upSampling2d: upSampling2d,\n  depthwiseConv2d: depthwiseConv2d$2,\n  activation: activation,\n  dense: dense,\n  dropout: dropout$1,\n  flatten: flatten$1,\n  repeatVector: repeatVector,\n  reshape: reshape,\n  permute: permute,\n  embedding: embedding,\n  add: add$2,\n  average: average$1,\n  concatenate: concatenate$2,\n  maximum: maximum$2,\n  minimum: minimum$2,\n  multiply: multiply$1,\n  dot: dot$1,\n  batchNormalization: batchNormalization$1,\n  zeroPadding2d: zeroPadding2d,\n  averagePooling1d: averagePooling1d,\n  avgPool1d: avgPool1d,\n  avgPooling1d: avgPooling1d,\n  averagePooling2d: averagePooling2d,\n  avgPool2d: avgPool2d,\n  avgPooling2d: avgPooling2d,\n  globalAveragePooling1d: globalAveragePooling1d,\n  globalAveragePooling2d: globalAveragePooling2d,\n  globalMaxPooling1d: globalMaxPooling1d,\n  globalMaxPooling2d: globalMaxPooling2d,\n  maxPooling1d: maxPooling1d,\n  maxPooling2d: maxPooling2d,\n  gru: gru,\n  gruCell: gruCell,\n  lstm: lstm,\n  lstmCell: lstmCell,\n  simpleRNN: simpleRNN,\n  simpleRNNCell: simpleRNNCell,\n  rnn: rnn$1,\n  stackedRNNCells: stackedRNNCells,\n  bidirectional: bidirectional,\n  timeDistributed: timeDistributed,\n  globalMaxPool1d: globalMaxPool1d,\n  globalMaxPool2d: globalMaxPool2d,\n  maxPool1d: maxPool1d,\n  maxPool2d: maxPool2d,\n  Layer: Layer,\n  RNN: RNN,\n  RNNCell: RNNCell,\n  input: input\n});\n\nfunction binaryAccuracy$1(e, t) {\n  return binaryAccuracy(e, t);\n}\n\nfunction binaryCrossentropy$2(e, t) {\n  return binaryCrossentropy$1(e, t);\n}\n\nfunction sparseCategoricalAccuracy$1(e, t) {\n  return sparseCategoricalAccuracy(e, t);\n}\n\nfunction categoricalAccuracy$1(e, t) {\n  return categoricalAccuracy(e, t);\n}\n\nfunction categoricalCrossentropy$2(e, t) {\n  return categoricalCrossentropy$1(e, t);\n}\n\nfunction precision$1(e, t) {\n  return precision(e, t);\n}\n\nfunction recall$1(e, t) {\n  return recall(e, t);\n}\n\nfunction cosineProximity$1(e, t) {\n  return cosineProximity(e, t);\n}\n\nfunction meanAbsoluteError$1(e, t) {\n  return meanAbsoluteError(e, t);\n}\n\nfunction meanAbsolutePercentageError$1(e, t) {\n  return meanAbsolutePercentageError(e, t);\n}\n\nfunction MAPE$2(e, t) {\n  return meanAbsolutePercentageError(e, t);\n}\n\nfunction mape$2(e, t) {\n  return meanAbsolutePercentageError(e, t);\n}\n\nfunction meanSquaredError$1(e, t) {\n  return meanSquaredError(e, t);\n}\n\nfunction MSE$2(e, t) {\n  return meanSquaredError(e, t);\n}\n\nfunction mse$2(e, t) {\n  return meanSquaredError(e, t);\n}\n\nvar exports_metrics = Object.freeze({\n  binaryAccuracy: binaryAccuracy$1,\n  binaryCrossentropy: binaryCrossentropy$2,\n  sparseCategoricalAccuracy: sparseCategoricalAccuracy$1,\n  categoricalAccuracy: categoricalAccuracy$1,\n  categoricalCrossentropy: categoricalCrossentropy$2,\n  precision: precision$1,\n  recall: recall$1,\n  cosineProximity: cosineProximity$1,\n  meanAbsoluteError: meanAbsoluteError$1,\n  meanAbsolutePercentageError: meanAbsolutePercentageError$1,\n  MAPE: MAPE$2,\n  mape: mape$2,\n  meanSquaredError: meanSquaredError$1,\n  MSE: MSE$2,\n  mse: mse$2\n}),\n    exports_models = Object.freeze({\n  modelFromJSON: modelFromJSON\n});\n\nfunction l1l2(e) {\n  return new L1L2(e);\n}\n\nfunction l1$1(e) {\n  return l1(e);\n}\n\nfunction l2$1(e) {\n  return l2(e);\n}\n\nvar exports_regularizers = Object.freeze({\n  l1l2: l1l2,\n  l1: l1$1,\n  l2: l2$1\n}),\n    Callback = function (e) {\n  function t() {\n    var t = null !== e && e.apply(this, arguments) || this;\n    return t.model = null, t;\n  }\n\n  return __extends(t, e), t.prototype.setModel = function (e) {\n    if (!(e instanceof Model)) throw new Error(\"model must be a Model, not some other Container\");\n    this.model = e;\n  }, t;\n}(BaseCallback);\n\nexport { exports_constraints as constraints, exports_initializers as initializers, exports_layers as layers, exports_metrics as metrics, exports_models as models, exports_regularizers as regularizers, CallbackList, CustomCallback, History, Callback, InputSpec, SymbolicTensor, Model, input, loadModel, model, registerCallbackConstructor, sequential, RNN, Sequential, LayerVariable, version as version_layers };","map":{"version":3,"sources":["/Users/BobbyZheng/Desktop/INFO_253/Final_project/group-project-bmt/node_modules/@magenta/image/node_modules/@tensorflow/tfjs-layers/dist/tf-layers.esm.js"],"names":["ENV","keep","scalar","tidy","util","onesLike","tensor1d","where","zerosLike","train","cast","dispose","memory","serialization","nextFrame","add","mul","div","Tensor","Optimizer","mean","io","transpose","expandDims","reverse","unstack","stack","zeros","sum","split","neg","variable","ones","eye","randomUniform","truncatedNormal","randomNormal","sub","sqrt","mulStrict","clipByValue","relu","linalg","leakyRelu","prelu","elu","conv1d","conv2d","conv2dTranspose","separableConv2d","depthwiseConv2d","notEqual","logicalAnd","maximum","minimum","concat","all","batchNormalization2d","batchNormalization3d","batchNormalization4d","moments","pad","maxPool","avgPool","squeeze","max","abs","log","softplus","softmax","floor","oneHot","greater","equal","argMax","slice1d","slice2d","slice3d","slice4d","concat1d","concat2d","concat3d","concat4d","tile","matMul","gather","step","min","selu","sigmoid","tanh","extendStatics","e","t","Object","setPrototypeOf","__proto__","Array","n","hasOwnProperty","__extends","constructor","prototype","create","_epsilon","__assign","assign","r","arguments","length","i","call","apply","__awaiter","Promise","a","o","l","next","s","throw","done","value","then","__generator","label","sent","trys","ops","return","Symbol","iterator","TypeError","pop","push","epsilon","get","imageDataFormat","_nextUniqueTensorId","getNextUniqueTensorId","_uidPrefixes","getUid","toString","scalarCache","float32","int32","DEFAULT_DTYPE","getScalar","AttributeError","Error","RuntimeError","ValueError","NotImplementedError","AssertionError","IndexError","pyListRepeat","isArray","fill","assert","count","singletonOrArray","toList","toSnakeCase","replace","toLowerCase","toCamelCase","indexOf","toUpperCase","_GLOBAL_CUSTOM_OBJECTS","serializeKerasObject","className","getClassName","config","getConfig","deserializeKerasObject","JSON","stringify","u","c","I","A","_","h","p","d","keys","b","g","f","customObjects","m","y","v","w","z","S","numberCompare","reverseNumberCompare","stringToDType","unique","isObjectEmpty","checkStringTypeUnionValue","checkArrayTypeAndLength","every","calcL2Norms","Constraint","Serializable","MaxNorm","defaultMaxValue","defaultAxis","maxValue","axis","registerClass","UnitNorm","NonNeg","MinMaxNorm","defaultMinValue","defaultRate","minValue","rate","CONSTRAINT_IDENTIFIER_REGISTRY_SYMBOL_MAP","maxNorm","minMaxNorm","nonNeg","unitNorm","serializeConstraint","deserializeConstraint","SerializationMap","getMap","classNameMap","getConstraint","exports_constraints","freeze","nameMap","Map","VALID_DATA_FORMAT_VALUES","checkDataFormat","VALID_PADDING_MODE_VALUES","checkPaddingMode","VALID_POOL_MODE_VALUES","checkPoolMode","_nameScopeStack","_nameScopeDivider","nameScope","currentNameScopePrefix","join","getScopedTensorName","isValidTensorName","getUniqueTensorName","has","set","tensorNameRegex","RegExp","match","isInteger","parseInt","arrayProd","toArray1D","Float32Array","min$1","dataSync","max$1","range","cast$1","asType","expandDims$1","shape","slice","splice","reshape","repeat","tile$1","flatten","batchFlatten","rank","sliceAlongFirstAxis","sliceAlongLastAxis","sliceAlongAxis","concatenate","concatAlongFirstAxis","randomNormal$1","dot","from","gather$1","toInt","square","biasAdd","elu$1","softsign","dropout","arraysEqual","hardSigmoid","inTrainPhase","VALID_FAN_MODE_VALUES","checkFanMode","VALID_DISTRIBUTION_VALUES","checkDistribution","Initializer","fromConfigUsesCustomObjects","Zeros","Ones","Constant","RandomUniform","DEFAULT_MINVAL","DEFAULT_MAXVAL","minval","maxval","seed","RandomNormal","DEFAULT_MEAN","DEFAULT_STDDEV","stddev","TruncatedNormal","Identity","gain","computeFans","Math","VarianceScaling","scale","mode","distribution","GlorotUniform","GlorotNormal","HeNormal","LeCunNormal","Orthogonal","DEFAULT_GAIN","console","warn","gramSchmidt","INITIALIZER_IDENTIFIER_REGISTRY_SYMBOL_MAP","constant","glorotNormal","glorotUniform","heNormal","identity","leCunNormal","orthogonal","varianceScaling","deserializeInitializer","serializeInitializer","getInitializer","zeros$1","ones$1","randomUniform$1","randomNormal$2","truncatedNormal$1","exports_initializers","isArrayOfShapes","normalizeShapeList","getExactlyOneTensor","getExactlyOneShape","countParamsInWeights","reduce","DEFAULT_VARIABLE_NAME_PREFIX","LayerVariable","dtype","id","originalName","name","trainable","constraint","val","read","assertNotDisposed","write","checkShapesMatch","isDisposed","batchGetValue","map","batchSetValue","InputSpec","ndim","maxNDim","minNDim","axes","SymbolicTensor","sourceLayer","inputs","callArgs","outputTensorIndex","_nextNodeID","Node","outboundLayer","inboundLayers","nodeIndices","tensorIndices","inputTensors","outputTensors","inputMasks","outputMasks","inputShapes","outputShapes","outboundNodes","inboundNodes","_nextLayerID","Layer","_callHook","_addedWeightNames","_stateful","activityRegularizer","inputSpec","supportsMasking","_trainableWeights","_nonTrainableWeights","_losses","_updates","_built","updatable","inputShape","batchInputShape","batchSize","inputDType","weights","initialWeights","_refCount","fastWeightInitDuringBuild","nodeKey","getNodeAtIndex","getInputAt","getOutputAt","defineProperty","enumerable","configurable","calculateLosses","losses","trainableWeights","nonTrainableWeights","resetStates","stateful","assertInputCompatibility","Number","invokeCallHook","setCallHook","clearCallHook","built","build","setWeights","clone","collectInputShape","computeOutputShape","guessOutputDType","warnOnIncompatibleInputShape","addInboundNode","forEach","countParams","getWeights","addWeight","addLoss","setFastWeightInitDuringBuild","computeMask","nodeIndex","tensorIndex","disposeWeights","refCountAfterDispose","numDisposedVariables","getSourceInputs","ModelLoggingVerbosity","InputLayer","sparse","Input","batchShape","resolveScalarsInLogs","data","disposeTensorsInLogs","SILENT","VERBOSE","BaseCallback","validationData","setParams","params","onEpochBegin","onEpochEnd","onBatchBegin","onBatchEnd","onTrainBegin","onTrainEnd","setModel","CallbackList","callbacks","queueLength","append","ModelTrainingYielder","yieldEvery","batchCount","batchDurationsMillis","autoYieldEveryBatches","batchStartMillis","now","resolveOneTensorInLogs","maybeYieldOnBatch","SKIP_FIRST_BATCHES","DECISION_BATCH_COUNT","round","THRESHOLD_MILLIS","lastYieldBatchCount","maybeYieldOnEpoch","BaseLogger","autoYielder","seen","totals","size","metrics","History","epoch","history","syncData","CustomCallback","trainBegin","trainEnd","epochBegin","epochEnd","batchBegin","batchEnd","standardizeCallbacks","CallbackConstructorRegistry","registerCallbackConstructor","checkForDuplicate","constructors","clear","createCallbacks","configureCallbacks","epochs","initialEpoch","samples","steps","verbose","doValidation","callbackList","l2Normalize","meanSquaredError","meanAbsoluteError","meanAbsolutePercentageError","MAX_VALUE","meanSquaredLogarithmicError","squaredHinge","hinge","categoricalHinge","logcosh","categoricalCrossentropy","toFloat","sparseCategoricalCrossentropy","sigmoidCrossEntropyWithLogits","exp","log1p","binaryCrossentropy","kullbackLeiblerDivergence","poisson","cosineProximity","includes","binaryAccuracy","categoricalAccuracy","truePositives","falseNegatives","falsePositives","precision","recall","binaryCrossentropy$1","sparseCategoricalAccuracy","mse$1","MSE$1","mae$1","MAE$1","mape$1","MAPE$1","categoricalCrossentropy$1","cosine$1","sparseCategoricalCrossentropy$1","get$1","mse","MSE","mae","MAE","mape","MAPE","cosine","getOptimizer","Adagrad","adagrad","Adadelta","adadelta","Adam","adam","Adamax","adamax","RMSProp","rmsprop","SGD","sgd","printSummary","isModelSequentialLike","nodesByDepth","printRow","layers","printLayerSummary","printLayerSummaryWithConnections","checkTrainableWeightsConsistency","countTrainableParams","collectedTrainableWeights","outputShape","deserialize","isArrayItemInputOrOutputName","convertPythonicToTs","convertTsToPythonic","version","assertFeedCompatibility","FeedDict","id2Value","id2Mask","name2Id","key","addFeed","hasKey","names","getValue","getMask","disposeMasks","cachedSorted","cachedRecipientCounts","execute","training","maxNumTensors","minNumTensors","getTopologicalSortAndRecipientCounts","sorted","recipientCounts","numTensors","C","N","E","k","x","mask","L","T","D","getNodeOutputs","O","R","M","getTopologicalSortAndRecipientCountsForOneFetch","recipientMap","Set","recipientMap2Counts","output","preprocessWeightsForLoading","startsWith","loadTensor","make","values","loadWeightsFromJson","keras_version","backend","loadWeightsFromNamedTensorMap","Container","containerNodes","outputs","inputLayers","inputLayersNodeIndices","inputLayersTensorIndices","outputLayers","outputLayersNodeIndices","outputLayersTensorIndices","inputNames","outputNames","feedInputShapes","feedInputNames","feedOutputNames","internalInputShapes","internalOutputShapes","K","P","F","sort","V","B","U","j","W","layersByDepth","$","q","G","J","H","Z","Y","X","Q","ee","te","ne","filter","re","ie","loadWeights","updatedConfig","kerasVersion","toJSON","runInternalGraph","buildNodeConversionMap","getLayer","fromConfig","DEFAULT_VALIDATION_BATCH_SIZE","standardizeDataIteratorOutput","standardizeTensorValidationData","xs","ys","fitDataset","batchesPerEpoch","optimizer","validationSplit","isTraining","isDatasetObject","validationBatches","makeTrainFunction","getDedupedMetricsNames","stopTraining_","batch","evaluateDataset","batches","evaluate","validationBatchSize","metricsNames","isLazyIteratorObject","testFunction","checkBatchSize","sliceArrays","sliceArraysByIndices","makeBatches","fitLoop","checkNumSamples","shuffle","testLoop","fitTensors","standardizeUserData","validationSteps","makeTestFunction","disposeNewTensors","ensureTensorsRank2OrHigher","isDataTensor","isDataArray","isDataDict","standardizeInputData","checkArrayLengths","checkLossAndTargetCompatibility","checkInputData","collectMetrics","Model","summary","compile","loss","lossFunctions","feedOutputShapes","feedLossFns","metricsTensors","retrieveSymbolicTensors","predictLoop","predict","predictOnBatch","minimize","fit","trainOnBatch","getNamedWeights","trainableOnly","save","getSaveHandlers","encodeWeights","modelTopology","weightData","weightSpecs","specs","modelFromJSON","model_config","weightsManifest","pathPrefix","loadModelInternal","getLoadHandlers","browserHTTPRequest","loadModelFromIOHandler","load","decodeWeights","Sequential","_updatable","checkShape","some","model","stopTraining","sequential","loadModel","input","Activation","Elu","Selu","Relu","Relu6","Linear","Sigmoid","HardSigmoid","Softplus","Softsign","Tanh","Softmax","serializeActivation","deserializeActivation","getActivation","Regularizer","L1L2","l1","l2","hasL1","hasL2","asScalar","REGULARIZER_IDENTIFIER_REGISTRY_SYMBOL_MAP","l1l2","serializeRegularizer","deserializeRegularizer","getRegularizer","ReLU","LeakyReLU","DEFAULT_ALPHA","alpha","PReLU","DEFAULT_ALPHA_INITIALIZER","alphaInitializer","alphaRegularizer","alphaConstraint","sharedAxes","ELU","ThresholdedReLU","DEFAULT_THETA","theta","thetaTensor","Softmax$1","DEFAULT_AXIS","normalizeArray","convOutputLength","deconvLength","preprocessConv2DInput","conv1dWithBias","conv2dWithBias","BaseConv","bias","DEFAULT_KERNEL_INITIALIZER","DEFAULT_BIAS_INITIALIZER","verifyArgs","kernelSize","strides","padding","dataFormat","activation","useBias","biasInitializer","biasConstraint","biasRegularizer","dilationRate","Conv","kernel","filters","kernelInitializer","kernelConstraint","kernelRegularizer","Conv2D","Conv2DTranspose","SeparableConv","DEFAULT_DEPTHWISE_INITIALIZER","DEFAULT_POINTWISE_INITIALIZER","depthwiseKernel","pointwiseKernel","depthMultiplier","depthwiseInitializer","depthwiseRegularizer","depthwiseConstraint","pointwiseInitializer","pointwiseRegularizer","pointwiseConstraint","SeparableConv2D","Conv1D","Cropping2D","cropping","UpSampling2D","DEFAULT_SIZE","resizeNearestNeighbor","depthwiseConv2d$1","DepthwiseConv2D","Dropout","rateScalar","noiseShape","getNoiseShape","Dense","inputDim","units","Flatten","Activation$1","RepeatVector","Reshape","targetShape","isUnknown","fixUnknownDimension","Permute","dims","dimsIncludingBatch","Embedding","embeddings","DEFAULT_EMBEDDINGS_INITIALIZER","inputLength","outputDim","embeddingsInitializer","embeddingsRegularizer","embeddingsConstraint","maskZero","as1D","Merge","mergeFunction","computeElementwiseOpOutputShape","reshapeRequired","Add","Multiply","Average","Maximum","Minimum","Concatenate","interpretAxis","batchDot","Dot","normalize","interpretAxes","batchNormalization","regularNormalizeBatchInTraining","variance","broadcastNormalizeBatchInTraining","normalizeBatchInTraining","BatchNormalization","momentum","center","betaInitializer","gammaInitializer","movingMeanInitializer","movingVarianceInitializer","betaConstraint","gammaConstraint","betaRegularizer","gammaRegularizer","gamma","beta","movingMean","movingVariance","spatial2dPadding","ZeroPadding2D","pool2d","Pooling1D","poolSize","poolingFunction","MaxPooling1D","AveragePooling1D","Pooling2D","MaxPooling2D","AveragePooling2D","GlobalPooling1D","GlobalAveragePooling1D","GlobalMaxPooling1D","GlobalPooling2D","GlobalAveragePooling2D","GlobalMaxPooling2D","standardizeArgs","initialState","constants","rnn","addStrict","newStates","RNN","cell","StackedRNNCells","cells","stateSize","returnSequences","returnState","goBackwards","unroll","stateSpec","states_","numConstants","keptStates","getStates","setStates","states","getInitialState","RNNCell","SimpleRNNCell","DEFAULT_ACTIVATION","DEFAULT_RECURRENT_INITIALIZER","recurrentInitializer","recurrentRegularizer","recurrentConstraint","recurrentDropout","dropoutMask","recurrentDropoutMask","recurrentKernel","generateDropoutMask","SimpleRNN","GRUCell","DEFAULT_RECURRENT_ACTIVATION","recurrentActivation","implementation","GRU","implmentation","LSTMCell","unitForgetBias","LSTM","Wrapper","layer","TimeDistributed","VALID_BIDIRECTIONAL_MERGE_MODES","checkBidirectionalMergeMode","Bidirectional","forwardLayer","backwardLayer","mergeMode","_trainable","inputLayer","elu$2","reLU","leakyReLU","prelu$1","softmax$1","thresholdedReLU","conv1d$2","conv2d$2","conv2dTranspose$1","separableConv2d$1","cropping2D","upSampling2d","depthwiseConv2d$2","dense","dropout$1","flatten$1","repeatVector","permute","embedding","add$2","average$1","concatenate$2","maximum$2","minimum$2","multiply$1","dot$1","batchNormalization$1","zeroPadding2d","averagePooling1d","avgPool1d","avgPooling1d","averagePooling2d","avgPool2d","avgPooling2d","globalAveragePooling1d","globalAveragePooling2d","globalMaxPooling1d","globalMaxPooling2d","maxPooling1d","maxPooling2d","gru","gruCell","lstm","lstmCell","simpleRNN","simpleRNNCell","rnn$1","stackedRNNCells","bidirectional","timeDistributed","globalMaxPool1d","globalMaxPool2d","maxPool1d","maxPool2d","exports_layers","average","multiply","binaryAccuracy$1","binaryCrossentropy$2","sparseCategoricalAccuracy$1","categoricalAccuracy$1","categoricalCrossentropy$2","precision$1","recall$1","cosineProximity$1","meanAbsoluteError$1","meanAbsolutePercentageError$1","MAPE$2","mape$2","meanSquaredError$1","MSE$2","mse$2","exports_metrics","exports_models","l1$1","l2$1","exports_regularizers","Callback","constraints","initializers","models","regularizers","version_layers"],"mappings":"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","sourcesContent":["/**\n * @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\nimport{ENV,keep,scalar,tidy,util,onesLike,tensor1d,where,zerosLike,train,cast,dispose,memory,serialization,nextFrame,add,mul,div,Tensor,Optimizer,mean,io,transpose,expandDims,reverse,unstack,stack,zeros,sum,split,neg,variable,ones,eye,randomUniform,truncatedNormal,randomNormal,sub,sqrt,mulStrict,clipByValue,relu,linalg,leakyRelu,prelu,elu,conv1d,conv2d,conv2dTranspose,separableConv2d,depthwiseConv2d,notEqual,logicalAnd,maximum,minimum,concat,all,batchNormalization2d,batchNormalization3d,batchNormalization4d,moments,pad,maxPool,avgPool,squeeze,max,abs,log,softplus,softmax,floor,oneHot,greater,equal,argMax,slice1d,slice2d,slice3d,slice4d,concat1d,concat2d,concat3d,concat4d,tile,matMul,gather,step,min,selu,sigmoid,tanh}from\"@tensorflow/tfjs-core\";var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function __extends(e,t){function n(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var _epsilon,__assign=function(){return(__assign=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function __awaiter(e,t,n,r){return new(n||(n=Promise))(function(i,a){function o(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(o,s)}l((r=r.apply(e,t||[])).next())})}function __generator(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},\"function\"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError(\"Generator is already executing.\");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function epsilon(){return null==_epsilon&&(_epsilon=ENV.get(\"EPSILON\")),_epsilon}function imageDataFormat(){return\"channelsLast\"}var _nextUniqueTensorId=0;function getNextUniqueTensorId(){return _nextUniqueTensorId++}var _uidPrefixes={};function getUid(e){return void 0===e&&(e=\"\"),e in _uidPrefixes||(_uidPrefixes[e]=0),_uidPrefixes[e]+=1,e+_uidPrefixes[e].toString()}var scalarCache={float32:{},int32:{}},DEFAULT_DTYPE=\"float32\";function getScalar(e,t){return void 0===t&&(t=DEFAULT_DTYPE),null==scalarCache[t][e]&&(scalarCache[t][e]=scalar(e,t),keep(scalarCache[t][e])),scalarCache[t][e]}var AttributeError=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return __extends(t,e),t}(Error),RuntimeError=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return __extends(t,e),t}(Error),ValueError=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return __extends(t,e),t}(Error),NotImplementedError=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return __extends(t,e),t}(Error),AssertionError=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return __extends(t,e),t}(Error),IndexError=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return __extends(t,e),t}(Error);function pyListRepeat(e,t){if(Array.isArray(e)){for(var n=[],r=0;r<t;r++)n=n.concat(e);return n}return(n=new Array(t)).fill(e),n}function assert(e,t){if(!e)throw new AssertionError(t)}function count(e,t){for(var n=0,r=0,i=e;r<i.length;r++){i[r]===t&&n++}return n}function singletonOrArray(e){return 1===e.length?e[0]:e}function toList(e){return Array.isArray(e)?e:[e]}function toSnakeCase(e){var t=e.replace(/(.)([A-Z][a-z0-9]+)/g,\"$1_$2\").replace(/([a-z])([A-Z])/g,\"$1_$2\").toLowerCase();return\"_\"!==t[0]?t:\"private\"+t}function toCamelCase(e){return e.length<=1?e:-1===e.indexOf(\"_\")?e:e.replace(/[_]+(\\w|$)/g,function(e,t){return t.toUpperCase()})}var _GLOBAL_CUSTOM_OBJECTS={};function serializeKerasObject(e){return null===e||void 0===e?null:{className:e.getClassName(),config:e.getConfig()}}function deserializeKerasObject(e,t,n,r,i){if(void 0===t&&(t={}),void 0===n&&(n={}),void 0===r&&(r=\"object\"),void 0===i&&(i=!1),\"string\"==typeof e){var a=e,o=void 0;if(a in n)o=n[a];else if(a in _GLOBAL_CUSTOM_OBJECTS)o=_GLOBAL_CUSTOM_OBJECTS[a];else if(null==(o=t[a]))throw new ValueError(\"Unknown \"+r+\": \"+e+\". This may be due to one of the following reasons:\\n1. The \"+r+\" is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.\\n2. The custom \"+r+\" is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().\");return o}var s=e;if(null==s.className||null==s.config)throw new ValueError(r+\": Improper config format: \"+JSON.stringify(s)+\".\\n'className' and 'config' must set.\");var l=s.className,u=void 0,c=void 0;if(l in n?(u=(I=n.get(l))[0],c=I[1]):l in _GLOBAL_CUSTOM_OBJECTS?(u=(A=_GLOBAL_CUSTOM_OBJECTS.className)[0],c=A[1]):l in t&&(u=(_=t[l])[0],c=_[1]),null==u)throw new ValueError(\"Unknown \"+r+\": \"+l+\". This may be due to one of the following reasons:\\n1. The \"+r+\" is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.\\n2. The custom \"+r+\" is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().\");if(null!=c){for(var h={},p=0,d=Object.keys(_GLOBAL_CUSTOM_OBJECTS);p<d.length;p++){h[b=d[p]]=_GLOBAL_CUSTOM_OBJECTS[b]}for(var g=0,f=Object.keys(n);g<f.length;g++){h[b=f[g]]=n[b]}s.config.customObjects=h;for(var m=__assign({},_GLOBAL_CUSTOM_OBJECTS),y=0,v=Object.keys(n);y<v.length;y++){var b=v[y];_GLOBAL_CUSTOM_OBJECTS[b]=n[b]}var w=c(u,s.config,n,i);return _GLOBAL_CUSTOM_OBJECTS=__assign({},m),w}m=__assign({},_GLOBAL_CUSTOM_OBJECTS);for(var z=0,S=Object.keys(n);z<S.length;z++){b=S[z];_GLOBAL_CUSTOM_OBJECTS[b]=n[b]}var I,A,_;w=new u(s.config);return _GLOBAL_CUSTOM_OBJECTS=__assign({},m),w}function numberCompare(e,t){return e<t?-1:e>t?1:0}function reverseNumberCompare(e,t){return-1*numberCompare(e,t)}function stringToDType(e){switch(e){case\"float32\":return\"float32\";default:throw new ValueError(\"Invalid dtype: \"+e)}}function unique(e){if(null==e)return e;for(var t=[],n=0,r=e;n<r.length;n++){var i=r[n];-1===t.indexOf(i)&&t.push(i)}return t}function isObjectEmpty(e){if(null==e)throw new ValueError(\"Invalid value in obj: \"+JSON.stringify(e));for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function checkStringTypeUnionValue(e,t,n){if(null!=n&&e.indexOf(n)<0)throw new ValueError(n+\" is not a valid \"+t+\".  Valid values are \"+e+\" or null/undefined.\")}function checkArrayTypeAndLength(e,t,n,r){return void 0===n&&(n=0),void 0===r&&(r=1/0),assert(n>=0),assert(r>=n),Array.isArray(e)&&e.length>=n&&e.length<=r&&e.every(function(e){return typeof e===t})}function calcL2Norms(e,t){return tidy(function(){return sqrt(sum(mulStrict(e,e),t,!0))})}var Constraint=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getConfig=function(){return{}},t}(serialization.Serializable),MaxNorm=function(e){function t(t){var n=e.call(this)||this;return n.defaultMaxValue=2,n.defaultAxis=0,n.maxValue=null!=t.maxValue?t.maxValue:n.defaultMaxValue,n.axis=null!=t.axis?t.axis:n.defaultAxis,n}return __extends(t,e),t.prototype.apply=function(e){var t=this;return tidy(function(){var n=calcL2Norms(e,t.axis),r=clipByValue(n,0,t.maxValue);return mul(e,div(r,add(getScalar(epsilon()),n)))})},t.prototype.getConfig=function(){return{maxValue:this.maxValue,axis:this.axis}},t.className=\"MaxNorm\",t}(Constraint);serialization.registerClass(MaxNorm);var UnitNorm=function(e){function t(t){var n=e.call(this)||this;return n.defaultAxis=0,n.axis=null!=t.axis?t.axis:n.defaultAxis,n}return __extends(t,e),t.prototype.apply=function(e){var t=this;return tidy(function(){return div(e,add(getScalar(epsilon()),calcL2Norms(e,t.axis)))})},t.prototype.getConfig=function(){return{axis:this.axis}},t.className=\"UnitNorm\",t}(Constraint);serialization.registerClass(UnitNorm);var NonNeg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.apply=function(e){return relu(e)},t.className=\"NonNeg\",t}(Constraint);serialization.registerClass(NonNeg);var MinMaxNorm=function(e){function t(t){var n=e.call(this)||this;return n.defaultMinValue=0,n.defaultMaxValue=1,n.defaultRate=1,n.defaultAxis=0,n.minValue=null!=t.minValue?t.minValue:n.defaultMinValue,n.maxValue=null!=t.maxValue?t.maxValue:n.defaultMaxValue,n.rate=null!=t.rate?t.rate:n.defaultRate,n.axis=null!=t.axis?t.axis:n.defaultAxis,n}return __extends(t,e),t.prototype.apply=function(e){var t=this;return tidy(function(){var n=calcL2Norms(e,t.axis),r=add(mul(getScalar(t.rate),clipByValue(n,t.minValue,t.maxValue)),mul(getScalar(1-t.rate),n));return mul(e,div(r,add(getScalar(epsilon()),n)))})},t.prototype.getConfig=function(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}},t.className=\"MinMaxNorm\",t}(Constraint);serialization.registerClass(MinMaxNorm);var CONSTRAINT_IDENTIFIER_REGISTRY_SYMBOL_MAP={maxNorm:\"MaxNorm\",minMaxNorm:\"MinMaxNorm\",nonNeg:\"NonNeg\",unitNorm:\"UnitNorm\"};function serializeConstraint(e){return serializeKerasObject(e)}function deserializeConstraint(e,t){return void 0===t&&(t={}),deserializeKerasObject(e,serialization.SerializationMap.getMap().classNameMap,t,\"constraint\")}function getConstraint(e){return null==e?null:\"string\"==typeof e?deserializeConstraint({className:e in CONSTRAINT_IDENTIFIER_REGISTRY_SYMBOL_MAP?CONSTRAINT_IDENTIFIER_REGISTRY_SYMBOL_MAP[e]:e,config:{}}):e instanceof Constraint?e:deserializeConstraint(e)}function maxNorm(e){return new MaxNorm(e)}function unitNorm(e){return new UnitNorm(e)}function nonNeg(){return new NonNeg}function minMaxNorm(e){return new MinMaxNorm(e)}var exports_constraints=Object.freeze({maxNorm:maxNorm,unitNorm:unitNorm,nonNeg:nonNeg,minMaxNorm:minMaxNorm}),nameMap=new Map,VALID_DATA_FORMAT_VALUES=[\"channelsFirst\",\"channelsLast\"];function checkDataFormat(e){checkStringTypeUnionValue(VALID_DATA_FORMAT_VALUES,\"DataFormat\",e)}var VALID_PADDING_MODE_VALUES=[\"valid\",\"same\",\"causal\"];function checkPaddingMode(e){checkStringTypeUnionValue(VALID_PADDING_MODE_VALUES,\"PaddingMode\",e)}var VALID_POOL_MODE_VALUES=[\"max\",\"avg\"];function checkPoolMode(e){checkStringTypeUnionValue(VALID_POOL_MODE_VALUES,\"PoolMode\",e)}var _nameScopeStack=[],_nameScopeDivider=\"/\";function nameScope(e,t){_nameScopeStack.push(e);try{var n=t();return _nameScopeStack.pop(),n}catch(e){throw _nameScopeStack.pop(),e}}function currentNameScopePrefix(){return 0===_nameScopeStack.length?\"\":_nameScopeStack.join(_nameScopeDivider)+_nameScopeDivider}function getScopedTensorName(e){if(!isValidTensorName(e))throw new Error(\"Not a valid tensor name: '\"+e+\"'\");return currentNameScopePrefix()+e}function getUniqueTensorName(e){if(!isValidTensorName(e))throw new Error(\"Not a valid tensor name: '\"+e+\"'\");nameMap.has(e)||nameMap.set(e,0);var t=nameMap.get(e);if(nameMap.set(e,nameMap.get(e)+1),t>0){var n=e+\"_\"+t;return nameMap.set(n,1),n}return e}var tensorNameRegex=new RegExp(/^[A-Za-z][-A-Za-z0-9\\._\\/]*$/);function isValidTensorName(e){return!!e.match(tensorNameRegex)}function isInteger(e){return e===parseInt(e.toString(),10)}function arrayProd(e,t,n){null==t&&(t=0),null==n&&(n=e.length);for(var r=1,i=t;i<n;++i)r*=e[i];return r}function toArray1D(e){return e=Array.isArray(e)?new Float32Array(e):e,tensor1d(e)}function min$1(e){return min(toArray1D(e)).dataSync()[0]}function max$1(e){return max(toArray1D(e)).dataSync()[0]}function range(e,t){if(t<e)throw new ValueError(\"end (\"+t+\") < begin (\"+e+\") is forbidden.\");for(var n=[],r=e;r<t;++r)n.push(r);return n}function cast$1(e,t){return e.asType(t)}function expandDims$1(e,t){void 0===t&&(t=-1);var n=e.shape.slice();return t<0&&(t=n.length+t+1),n.splice(t,0,1),e.reshape(n)}function repeat(e,t){return tidy(function(){if(2!==e.shape.length)throw new ValueError(\"repeat() expects a rank-2 tensor, but received a rank-\"+e.shape.length+\" tensor.\");return tile$1(expandDims$1(e,1),[1,t,1])})}function flatten(e){var t=[arrayProd(e.shape)];return e.reshape(t)}function batchFlatten(e){if(e.rank<=1)throw new ValueError(\"batchFlatten requires a minimum rank of 2. Got rank: \"+e.rank+\".\");var t=[e.shape[0],arrayProd(e.shape,1)];return e.reshape(t)}function sliceAlongFirstAxis(e,t,n){return tidy(function(){switch(e.rank){case 1:return slice1d(e,t,n);case 2:return slice2d(e,[t,0],[n,e.shape[1]]);case 3:return slice3d(e,[t,0,0],[n,e.shape[1],e.shape[2]]);case 4:return slice4d(e,[t,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3]]);default:throw new ValueError(\"sliceAlongFirstAxis() received an unsupported tensor rank: \"+e.rank)}})}function sliceAlongLastAxis(e,t,n){return tidy(function(){switch(e.rank){case 1:return slice1d(e,t,n);case 2:return slice2d(e,[0,t],[e.shape[0],n]);case 3:return slice3d(e,[0,0,t],[e.shape[0],e.shape[1],n]);case 4:return slice4d(e,[0,0,0,t],[e.shape[0],e.shape[1],e.shape[2],n]);default:throw new ValueError(\"sliceAlongLastAxis() received an unsupported tensor rank: \"+e.rank)}})}function sliceAlongAxis(e,t,n,r){return tidy(function(){switch(e.rank){case 1:return slice1d(e,t,n);case 2:switch(r){case 1:return sliceAlongFirstAxis(e,t,n);case 2:return sliceAlongLastAxis(e,t,n);default:throw new ValueError(\"The axis is not within the rank of the tensor \"+r)}case 3:switch(r){case 1:return sliceAlongFirstAxis(e,t,n);case 2:return slice3d(e,[0,t,0],[e.shape[0],n,e.shape[2]]);case 3:return sliceAlongLastAxis(e,t,n);default:throw new ValueError(\"The axis is not within the rank of the tensor \"+r)}case 4:switch(r){case 1:return sliceAlongFirstAxis(e,t,n);case 2:return slice4d(e,[0,t,0,0],[e.shape[0],n,e.shape[2],e.shape[3]]);case 3:return slice4d(e,[0,0,t,0],[e.shape[0],e.shape[1],n,e.shape[3]]);case 4:return sliceAlongLastAxis(e,t,n);default:throw new ValueError(\"The axis is not within the rank of the tensor \"+r)}default:throw new ValueError(\"sliceAlongLastAxis() received an unsupported tensor rank: \"+e.rank)}})}function concatenate(e,t){var n;return void 0===t&&(t=-1),t<0&&(t=0!==(n=e[0].rank)?n:0),t===e[0].rank&&(t=-1),concat(e,t)}function concatAlongFirstAxis(e,t){switch(e.rank){case 1:return concat1d([e,t]);case 2:return concat2d([e,t],0);case 3:return concat3d([e,t],0);case 4:return concat4d([e,t],0);default:throw new ValueError(\"concatAlongFirstAxis() received an unsupported tensor rank: \"+e.rank)}}function tile$1(e,t){if(Array.isArray(t)||(t=[t]),e.rank!==t.length)throw new ValueError(\"The length of input n (\"+t.length+\") does not match the number of dimensions in input x (\"+e.rank+\")\");return tile(e,t)}function randomNormal$1(e,t,n,r,i){return void 0===t&&(t=0),void 0===n&&(n=1),randomNormal(e,t,n,r,i)}function dot(e,t){if(e.rank<2||t.rank<2)throw new NotImplementedError(\"dot requires both inputs to be rank >= 2 but got x shape = \"+e.shape+\" and y shape = \"+t.shape);if(t.rank>=3&&(r=e.shape.slice(-1)[0])!==(o=t.shape.slice(-2)[0]))throw new NotImplementedError(\"If rank y >= 3, then the second last dim of y must equal the last dim of x but got x shape = \"+e.shape+\" and  y shape = \"+t.shape);if(2===e.rank&&2===t.rank)return matMul(e,t);var n=e.shape.slice(),r=n.pop();e=e.reshape([-1,r]);var i=t.shape.slice(),a=i.pop(),o=i.pop(),s=i.concat([a]),l=Array.from({length:t.rank},function(e,n){return 0===n?t.rank-2:n<=t.rank-2?n-1:n});t=t.transpose(l).reshape([o,-1]);var u=n.concat(s);return matMul(e,t).reshape(u)}function gather$1(e,t,n){return tidy(function(){return t=Array.isArray(t)?tensor1d(t,\"int32\"):t.toInt(),gather(e,t,n)})}function square(e){return mulStrict(e,e)}function biasAdd(e,t,n){return tidy(function(){if(null==n&&(n=imageDataFormat()),checkDataFormat(n),1!==t.rank&&t.rank!==e.rank)throw new ValueError(\"Unexpected bias dimensions: \"+t.rank+\"; expected it to be 1 or \"+e.rank);var r,i=t.shape;if(5===e.rank)\"channelsFirst\"===n?r=1===i.length?e.add(t.reshape([1,i[0],1,1,1])):e.add(t.reshape([1,i[3],i[0],i[1],i[2]])):\"channelsLast\"===n&&(r=1===i.length?e.add(t.reshape([1,1,1,1,i[0]])):e.add(t.reshape([1].concat(i))));else if(4===e.rank)\"channelsFirst\"===n?r=1===i.length?e.add(t.reshape([1,i[0],1,1])):e.add(t.reshape([1,i[2],i[0],i[1]])):\"channelsLast\"===n&&(r=1===i.length?e.add(t.reshape([1,1,1,i[0]])):e.add(t.reshape([1].concat(i))));else if(3===e.rank)\"channelsFirst\"===n?r=1===i.length?e.add(t.reshape([1,i[0],1])):e.add(t.reshape([1,i[1],i[0]])):\"channelsLast\"===n&&(r=1===i.length?e.add(t.reshape([1,1,i[0]])):e.add(t.reshape([1].concat(i))));else{if(!(e.rank<3))throw new ValueError(\"Unsupported input rank by biasAdd: \"+e.rank);r=e.add(t)}return r})}function elu$1(e,t){if(void 0===t&&(t=1),1!==t)throw new NotImplementedError(\"Support for alpha values other than 1 (\"+t+\") is not implemented yet.\");return elu(e)}function softsign(e){return tidy(function(){return div(e,add(getScalar(1),abs(e)))})}function dropout(e,t,n,r){return tidy(function(){if(null!=n&&!util.arraysEqual(e.shape,n))throw new NotImplementedError(\"Non-default noise shape is not implemented yet: \"+JSON.stringify(n));if(null!=r)throw new NotImplementedError(\"seed is not implemented for dropout yet.\");var i=step(add(neg(t),randomUniform(e.shape,0,1,\"float32\")));return i=mul(div(getScalar(1),sub(getScalar(1),t)),i),mul(e,i)})}function hardSigmoid(e){return tidy(function(){var t=add(getScalar(.5),mul(getScalar(.2),e));return clipByValue(t,0,1)})}function inTrainPhase(e,t,n){return void 0===n&&(n=!1),n?e():t()}var VALID_FAN_MODE_VALUES=[\"fanIn\",\"fanOut\",\"fanAvg\"];function checkFanMode(e){checkStringTypeUnionValue(VALID_FAN_MODE_VALUES,\"FanMode\",e)}var VALID_DISTRIBUTION_VALUES=[\"normal\",\"uniform\"];function checkDistribution(e){checkStringTypeUnionValue(VALID_DISTRIBUTION_VALUES,\"Distribution\",e)}var Initializer=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.fromConfigUsesCustomObjects=function(){return!1},t.prototype.getConfig=function(){return{}},t}(serialization.Serializable),Zeros=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.apply=function(e,t){return zeros(e,t)},t.className=\"Zeros\",t}(Initializer);serialization.registerClass(Zeros);var Ones=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.apply=function(e,t){return ones(e,t)},t.className=\"Ones\",t}(Initializer);serialization.registerClass(Ones);var Constant=function(e){function t(t){var n=e.call(this)||this;if(\"object\"!=typeof t)throw new ValueError(\"Expected argument of type ConstantConfig but got \"+t);if(void 0===t.value)throw new ValueError(\"config must have value set but got \"+t);return n.value=t.value,n}return __extends(t,e),t.prototype.apply=function(e,t){var n=this;return tidy(function(){return mul(scalar(n.value),ones(e,t))})},t.prototype.getConfig=function(){return{value:this.value}},t.className=\"Constant\",t}(Initializer);serialization.registerClass(Constant);var RandomUniform=function(e){function t(t){var n=e.call(this)||this;return n.DEFAULT_MINVAL=-.05,n.DEFAULT_MAXVAL=.05,n.minval=t.minval||n.DEFAULT_MINVAL,n.maxval=t.maxval||n.DEFAULT_MAXVAL,n.seed=t.seed,n}return __extends(t,e),t.prototype.apply=function(e,t){return randomUniform(e,this.minval,this.maxval,t)},t.prototype.getConfig=function(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}},t.className=\"RandomUniform\",t}(Initializer);serialization.registerClass(RandomUniform);var RandomNormal=function(e){function t(t){var n=e.call(this)||this;return n.DEFAULT_MEAN=0,n.DEFAULT_STDDEV=.05,n.mean=t.mean||n.DEFAULT_MEAN,n.stddev=t.stddev||n.DEFAULT_STDDEV,n.seed=t.seed,n}return __extends(t,e),t.prototype.apply=function(e,t){if(\"float32\"!==(t=t||\"float32\")&&\"int32\"!==t)throw new NotImplementedError(\"randomNormal does not support dType \"+t+\".\");return randomNormal$1(e,this.mean,this.stddev,t,this.seed)},t.prototype.getConfig=function(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}},t.className=\"RandomNormal\",t}(Initializer);serialization.registerClass(RandomNormal);var TruncatedNormal=function(e){function t(t){var n=e.call(this)||this;return n.DEFAULT_MEAN=0,n.DEFAULT_STDDEV=.05,n.mean=t.mean||n.DEFAULT_MEAN,n.stddev=t.stddev||n.DEFAULT_STDDEV,n.seed=t.seed,n}return __extends(t,e),t.prototype.apply=function(e,t){if(\"float32\"!==(t=t||\"float32\")&&\"int32\"!==t)throw new NotImplementedError(\"truncatedNormal does not support dType \"+t+\".\");return truncatedNormal(e,this.mean,this.stddev,t,this.seed)},t.prototype.getConfig=function(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}},t.className=\"TruncatedNormal\",t}(Initializer);serialization.registerClass(TruncatedNormal);var Identity=function(e){function t(t){var n=e.call(this)||this;return n.gain=null!=t.gain?scalar(t.gain):getScalar(1),n}return __extends(t,e),t.prototype.apply=function(e,t){var n=this;return tidy(function(){if(2!==e.length||e[0]!==e[1])throw new ValueError(\"Identity matrix initializer can only be used for 2D square matrices.\");return mul(n.gain,eye(e[0]))})},t.prototype.getConfig=function(){return{gain:this.gain.get()}},t.className=\"Identity\",t}(Initializer);function computeFans(e,t){var n,r;if(void 0===t&&(t=\"channelsLast\"),checkDataFormat(t),2===e.length)n=e[0],r=e[1];else if(-1!==[3,4,5].indexOf(e.length)){if(\"channelsFirst\"===t){var i=arrayProd(e,2);n=e[1]*i,r=e[0]*i}else if(\"channelsLast\"===t){i=arrayProd(e,0,e.length-2);n=e[e.length-2]*i,r=e[e.length-1]*i}}else{var a=arrayProd(e);n=Math.sqrt(a),r=Math.sqrt(a)}return[n,r]}serialization.registerClass(Identity);var VarianceScaling=function(e){function t(t){var n=e.call(this)||this;if(t.scale<0)throw new ValueError(\"scale must be a positive float. Got: \"+t.scale);return n.scale=null==t.scale?1:t.scale,n.mode=t.mode,checkFanMode(n.mode),n.distribution=t.distribution,checkDistribution(n.distribution),n.seed=t.seed,n}return __extends(t,e),t.prototype.apply=function(e,t){var n=computeFans(e),r=n[0],i=n[1],a=this.scale;if(\"fanIn\"===this.mode?a/=Math.max(1,r):\"fanOut\"===this.mode?a/=Math.max(1,i):a/=Math.max(1,(r+i)/2),\"normal\"===this.distribution){var o=Math.sqrt(a);if(\"float32\"!==(t=t||\"float32\")&&\"int32\"!==t)throw new NotImplementedError(this.getClassName()+\" does not support dType \"+t+\".\");return truncatedNormal(e,0,o,t,this.seed)}var s=Math.sqrt(3*a);return randomUniform(e,-s,s,t)},t.prototype.getConfig=function(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}},t.className=\"VarianceScaling\",t}(Initializer);serialization.registerClass(VarianceScaling);var GlorotUniform=function(e){function t(t){return e.call(this,{scale:1,mode:\"fanAvg\",distribution:\"uniform\",seed:null==t?null:t.seed})||this}return __extends(t,e),t.prototype.getClassName=function(){return VarianceScaling.className},t.className=\"GlorotUniform\",t}(VarianceScaling);serialization.registerClass(GlorotUniform);var GlorotNormal=function(e){function t(t){return e.call(this,{scale:1,mode:\"fanAvg\",distribution:\"normal\",seed:null==t?null:t.seed})||this}return __extends(t,e),t.prototype.getClassName=function(){return VarianceScaling.className},t.className=\"GlorotNormal\",t}(VarianceScaling);serialization.registerClass(GlorotNormal);var HeNormal=function(e){function t(t){return e.call(this,{scale:2,mode:\"fanIn\",distribution:\"normal\",seed:null==t?null:t.seed})||this}return __extends(t,e),t.prototype.getClassName=function(){return VarianceScaling.className},t.className=\"HeNormal\",t}(VarianceScaling);serialization.registerClass(HeNormal);var LeCunNormal=function(e){function t(t){return e.call(this,{scale:1,mode:\"fanIn\",distribution:\"normal\",seed:null==t?null:t.seed})||this}return __extends(t,e),t.prototype.getClassName=function(){return VarianceScaling.className},t.className=\"LeCunNormal\",t}(VarianceScaling);serialization.registerClass(LeCunNormal);var Orthogonal=function(e){function t(t){var n=e.call(this)||this;if(n.DEFAULT_GAIN=1,n.gain=null==t.gain?n.DEFAULT_GAIN:t.gain,n.seed=t.seed,null!=n.seed)throw new NotImplementedError(\"Random seed is not implemented for Orthogonal Initializer yet.\");return n}return __extends(t,e),t.prototype.apply=function(e,t){var n=this;return tidy(function(){if(2!==e.length)throw new NotImplementedError(\"The Orthogonal Initializer does not support non-2D shapes yet.\");e[0]*e[1]>2e3&&console.warn(\"Orthogonal initializer is being called on a matrix with more than 2000 (\"+e[0]*e[1]+\") elements: Slowness may result.\");var t=randomNormal$1(e[0]>e[1]?[e[1],e[0]]:e,0,1,\"float32\"),r=linalg.gramSchmidt(t);return e[0]>e[1]&&(r=r.transpose()),mul(getScalar(n.gain),r)})},t.prototype.getConfig=function(){return{gain:this.gain,seed:this.seed}},t.className=\"Orthogonal\",t}(Initializer);serialization.registerClass(Orthogonal);var INITIALIZER_IDENTIFIER_REGISTRY_SYMBOL_MAP={constant:\"Constant\",glorotNormal:\"GlorotNormal\",glorotUniform:\"GlorotUniform\",heNormal:\"HeNormal\",identity:\"Identity\",leCunNormal:\"LeCunNormal\",ones:\"Ones\",orthogonal:\"Orthogonal\",randomNormal:\"RandomNormal\",randomUniform:\"RandomUniform\",truncatedNormal:\"TruncatedNormal\",varianceScaling:\"VarianceScaling\",zeros:\"Zeros\"};function deserializeInitializer(e,t){return void 0===t&&(t={}),deserializeKerasObject(e,serialization.SerializationMap.getMap().classNameMap,t,\"initializer\")}function serializeInitializer(e){return serializeKerasObject(e)}function getInitializer(e){if(\"string\"==typeof e){var t=e in INITIALIZER_IDENTIFIER_REGISTRY_SYMBOL_MAP?INITIALIZER_IDENTIFIER_REGISTRY_SYMBOL_MAP[e]:e;return\"GlorotUniform\"===t?new GlorotUniform:\"GlorotNormal\"===t?new GlorotNormal:\"HeNormal\"===t?new HeNormal:\"LeCunNormal\"===t?new LeCunNormal:deserializeInitializer({className:t,config:{}})}return e instanceof Initializer?e:deserializeInitializer(e)}function zeros$1(){return new Zeros}function ones$1(){return new Ones}function constant(e){return new Constant(e)}function randomUniform$1(e){return new RandomUniform(e)}function randomNormal$2(e){return new RandomNormal(e)}function truncatedNormal$1(e){return new TruncatedNormal(e)}function identity(e){return new Identity(e)}function varianceScaling(e){return new VarianceScaling(e)}function glorotUniform(e){return new GlorotUniform(e)}function glorotNormal(e){return new GlorotNormal(e)}function heNormal(e){return new HeNormal(e)}function leCunNormal(e){return new LeCunNormal(e)}function orthogonal(e){return new Orthogonal(e)}var exports_initializers=Object.freeze({zeros:zeros$1,ones:ones$1,constant:constant,randomUniform:randomUniform$1,randomNormal:randomNormal$2,truncatedNormal:truncatedNormal$1,identity:identity,varianceScaling:varianceScaling,glorotUniform:glorotUniform,glorotNormal:glorotNormal,heNormal:heNormal,leCunNormal:leCunNormal,orthogonal:orthogonal});function isArrayOfShapes(e){return Array.isArray(e)&&Array.isArray(e[0])}function normalizeShapeList(e){return 0===e.length?[]:Array.isArray(e[0])?e:[e]}function getExactlyOneTensor(e){var t;if(Array.isArray(e)){if(1!==e.length)throw new ValueError(\"Expected Tensor length to be 1; got \"+e.length);t=e[0]}else t=e;return t}function getExactlyOneShape(e){if(Array.isArray(e)&&Array.isArray(e[0])){if(1===e.length)return(e=e)[0];throw new ValueError(\"Expected exactly 1 Shape; got \"+e.length)}return e}function countParamsInWeights(e){for(var t=0,n=0,r=e;n<r.length;n++){var i=r[n];0===i.shape.length?t+=1:t+=i.shape.reduce(function(e,t){return e*t})}return t}var DEFAULT_VARIABLE_NAME_PREFIX=\"Variable\",LayerVariable=function(){function e(e,t,n,r,i){void 0===t&&(t=\"float32\"),void 0===n&&(n=DEFAULT_VARIABLE_NAME_PREFIX),void 0===r&&(r=!0),void 0===i&&(i=null),this.dtype=null==t?\"float32\":t,this.shape=e.shape,this.id=getNextUniqueTensorId(),n=null==n?DEFAULT_VARIABLE_NAME_PREFIX:n,this.originalName=getScopedTensorName(n),this.name=getUniqueTensorName(this.originalName),this.trainable=r,this.constraint=i,this.val=variable(e,this.trainable,this.name,this.dtype)}return e.prototype.read=function(){return this.assertNotDisposed(),this.val},e.prototype.write=function(e){return this.assertNotDisposed(),checkShapesMatch(this.val,e),this.val.id!==e.id&&(this.val.assign(e),null!=this.constraint&&this.val.assign(this.constraint.apply(this.val))),this},e.prototype.dispose=function(){this.assertNotDisposed(),this.val.dispose()},e.prototype.assertNotDisposed=function(){if(this.val.isDisposed)throw new Error(\"LayersVariable \"+this.name+\" is already disposed.\")},e}();function checkShapesMatch(e,t){if(e.shape.toString()!==t.shape.toString())throw new Error(\"Shape mismatch: \"+JSON.stringify(e.shape)+\" vs. \"+JSON.stringify(t.shape))}function batchGetValue(e){return e.map(function(e){return e.read()})}function batchSetValue(e){e.map(function(e){e[0].write(e[1])})}var InputSpec=function(){return function(e){this.dtype=e.dtype,this.shape=e.shape,null!=e.shape?this.ndim=e.shape.length:this.ndim=e.ndim,this.maxNDim=e.maxNDim,this.minNDim=e.minNDim,this.axes=e.axes||{}}}(),SymbolicTensor=function(){return function(e,t,n,r,i,a,o){this.dtype=e,this.shape=t,this.sourceLayer=n,this.inputs=r,this.callArgs=i,this.outputTensorIndex=o,this.id=getNextUniqueTensorId(),null!=a&&(this.originalName=getScopedTensorName(a),this.name=getUniqueTensorName(this.originalName)),this.rank=t.length}}(),_nextNodeID=0,Node=function(){function e(e,t){this.callArgs=t,this.id=_nextNodeID++,this.outboundLayer=e.outboundLayer,this.inboundLayers=e.inboundLayers,this.nodeIndices=e.nodeIndices,this.tensorIndices=e.tensorIndices,this.inputTensors=e.inputTensors,this.outputTensors=e.outputTensors,this.inputMasks=e.inputMasks,this.outputMasks=e.outputMasks,this.inputShapes=e.inputShapes,this.outputShapes=e.outputShapes;for(var n=0,r=e.inboundLayers;n<r.length;n++){var i=r[n];null!=i&&i.outboundNodes.push(this)}e.outboundLayer.inboundNodes.push(this)}return e.prototype.getConfig=function(){for(var e=[],t=0,n=this.inboundLayers;t<n.length;t++){var r=n[t];null!=r?e.push(r.name):e.push(null)}return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:e,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}},e}(),_nextLayerID=0,Layer=function(e){function t(t){var n=e.call(this)||this;n._callHook=null,n._addedWeightNames=[],n._stateful=!1,n.id=_nextLayerID++,n.activityRegularizer=null,n.inputSpec=null,n.supportsMasking=!1,n._trainableWeights=[],n._nonTrainableWeights=[],n._losses=[],n._updates=[],n._built=!1,n.inboundNodes=[],n.outboundNodes=[];var r=t.name;if(!r){var i=n.getClassName();r=toSnakeCase(i)+\"_\"+getUid(i)}if(n.name=r,n.trainable=null==t.trainable||t.trainable,n.updatable=null==t.updatable||t.updatable,null!=t.inputShape||null!=t.batchInputShape){var a=void 0;if(null!=t.batchInputShape)a=t.batchInputShape;else if(null!=t.inputShape){var o=null;null!=t.batchSize&&(o=t.batchSize),a=[o].concat(t.inputShape)}n.batchInputShape=a;var s=t.dtype;null==s&&(s=t.inputDType),null==s&&(s=\"float32\"),n.dtype=s}return null!=t.weights?n.initialWeights=t.weights:n.initialWeights=null,n._refCount=null,n.fastWeightInitDuringBuild=!1,n}return __extends(t,e),t.nodeKey=function(e,t){return e.name+\"_ib-\"+t.toString()},t.prototype.getNodeAtIndex=function(e,t){if(0===this.inboundNodes.length)throw new RuntimeError(\"The layer has never been called and thus has no defined \"+t+\".\");if(this.inboundNodes.length<=e)throw new ValueError(\"Asked to get \"+t+\" at node \"+e+\", but the layer has only \"+this.inboundNodes.length+\" inbound nodes.\");return this.inboundNodes[e]},t.prototype.getInputAt=function(e){return singletonOrArray(this.getNodeAtIndex(e,\"input\").inputTensors)},t.prototype.getOutputAt=function(e){return singletonOrArray(this.getNodeAtIndex(e,\"output\").outputTensors)},Object.defineProperty(t.prototype,\"input\",{get:function(){if(this.inboundNodes.length>1)throw new AttributeError(\"Layer \"+this.name+' has multiple inbound nodes, hence the notion of \"layer input\" is ill-defined. Use `getInputAt(nodeIndex)` instead.');if(0===this.inboundNodes.length)throw new AttributeError(\"Layer \"+this.name+\" is not connected, no input to return.\");return singletonOrArray(this.getNodeAtIndex(0,\"input\").inputTensors)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"output\",{get:function(){if(0===this.inboundNodes.length)throw new AttributeError(\"Layer \"+this.name+\" has no inbound nodes.\");if(this.inboundNodes.length>1)throw new AttributeError(\"Layer \"+this.name+' has multiple inbound nodes, hence the notion of \"layer output\" is ill-defined. Use `getOutputAt(nodeIndex)` instead.');return singletonOrArray(this.getNodeAtIndex(0,\"output\").outputTensors)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"losses\",{get:function(){return this._losses},enumerable:!0,configurable:!0}),t.prototype.calculateLosses=function(){return this.losses.map(function(e){return e()})},Object.defineProperty(t.prototype,\"updates\",{get:function(){return this._updates},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"built\",{get:function(){return this._built},set:function(e){this._built=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"trainableWeights\",{get:function(){return this.trainable?this._trainableWeights:[]},set:function(e){this._trainableWeights=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"nonTrainableWeights\",{get:function(){return this.trainable?this._nonTrainableWeights:this._trainableWeights.concat(this._nonTrainableWeights)},set:function(e){this._nonTrainableWeights=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"weights\",{get:function(){return this.trainableWeights.concat(this.nonTrainableWeights)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"stateful\",{get:function(){return this._stateful},enumerable:!0,configurable:!0}),t.prototype.resetStates=function(){if(!this.stateful)throw new Error(\"Cannot call the resetStates() method of a non-stateful Layer object.\")},t.prototype.assertInputCompatibility=function(e){if(e=toList(e),null!=this.inputSpec&&0!==this.inputSpec.length){var t=toList(this.inputSpec);if(e.length!==t.length)throw new ValueError(\"Layer \"+this.name+\" expects \"+t.length+\" inputs, but it received \"+e.length+\" input tensors. Input received: \"+e);for(var n=0;n<e.length;n++){var r=e[n],i=t[n];if(null!=i){var a=r.rank;if(null!=i.ndim&&a!==i.ndim)throw new ValueError(\"Input \"+n+\" is incompatible with layer \"+this.name+\": expected ndim=\"+i.ndim+\", found ndim=\"+a);if(null!=i.maxNDim&&a>i.maxNDim)throw new ValueError(\"Input \"+n+\" is incompatible with layer \"+this.name+\": expected max_ndim=\"+i.maxNDim+\", found ndim=\"+a);if(null!=i.minNDim&&a<i.minNDim)throw new ValueError(\"Input \"+n+\" is incompatible with layer \"+this.name+\": expected min_ndim=\"+i.minNDim+\", found ndim=\"+a+\".\");if(null!=i.dtype&&r.dtype!==i.dtype)throw new ValueError(\"Input \"+n+\" is incompatible with layer \"+this.name+\" : expected dtype=\"+i.dtype+\", found dtype=\"+r.dtype+\".\");if(i.axes){var o=r.shape;for(var s in i.axes){var l=Number(s),u=i.axes[s],c=l>=0?o[l]:o[o.length+l];if(null!=u&&-1===[u,null].indexOf(c))throw new ValueError(\"Input \"+n+\" is incompatible with layer \"+this.name+\": expected axis \"+l+\" of input shape to have value \"+u+\" but got shape \"+o+\".\")}}if(null!=i.shape)for(var h=0;h<i.shape.length;++h){var p=i.shape[h],d=r.shape[h];if(null!=p&&null!=d&&p!==d)throw new ValueError(\"Input \"+n+\" is incompatible with layer \"+this.name+\": expected shape=\"+i.shape+\", found shape=${xShape}.\")}}}}},t.prototype.call=function(e,t){return e},t.prototype.invokeCallHook=function(e,t){null!=this._callHook&&this._callHook(e,t)},t.prototype.setCallHook=function(e){this._callHook=e},t.prototype.clearCallHook=function(){this._callHook=null},t.prototype.apply=function(e,t){var n=this;t=t||{},this.assertNotDisposed();for(var r=toList(e),i=!0,a=0,o=r;a<o.length;a++){if(!(o[a]instanceof SymbolicTensor)){i=!1;break}}for(var s=!0,l=0,u=r;l<u.length;l++){if(u[l]instanceof SymbolicTensor){s=!1;break}}if(i===s)throw new ValueError(\"Arguments to apply() must be all SymbolicTensors or all Tensors\");return nameScope(this.name,function(){if(!n.built){n.assertInputCompatibility(e);for(var i=[],a=0,o=toList(e);a<o.length;a++){var l=o[a];i.push(l.shape)}n.build(singletonOrArray(i)),n.built=!0,n.initialWeights&&n.setWeights(n.initialWeights),null===n._refCount&&s&&(n._refCount=1)}if(n.assertInputCompatibility(e),s){for(var u=[],c=0,h=toList(f=n.call(e,t));c<h.length;c++){var p=h[c];-1!==r.indexOf(p)&&(p=p.clone()),u.push(p)}if(f=singletonOrArray(u),null!=n.activityRegularizer)throw new NotImplementedError(\"Layer invocation in the presence of activity regularizer(s) is not supported yet.\");return f}var d=collectInputShape(e),g=n.computeOutputShape(d),f=void 0,m=guessOutputDType(e);if(n.warnOnIncompatibleInputShape(Array.isArray(e)?d[0]:d),f=null!=g&&g.length>0&&Array.isArray(g[0])?g.map(function(r,i){return new SymbolicTensor(m,r,n,toList(e),t,n.name,i)}):new SymbolicTensor(m,g,n,toList(e),t,n.name),n.addInboundNode(e,f,null,null,d,g,t),n._refCount++,null!=n.activityRegularizer)throw new NotImplementedError(\"Layer invocation in the presence of activity regularizer(s) is not supported yet.\");return f})},t.prototype.warnOnIncompatibleInputShape=function(e){if(null!=this.batchInputShape)if(e.length!==this.batchInputShape.length)console.warn(\"The rank of the input tensor provided (shape: \"+JSON.stringify(e)+\") does not match that of the batchInputShape (\"+JSON.stringify(this.batchInputShape)+\") of the layer \"+this.name);else{var t=!1;this.batchInputShape.forEach(function(n,r){null!=n&&null!=e[r]&&e[r]!==n&&(t=!0)}),t&&console.warn(\"The shape of the input tensor (\"+JSON.stringify(e)+\") does not match the expectation of layer \"+this.name+\": \"+JSON.stringify(this.batchInputShape))}},Object.defineProperty(t.prototype,\"outputShape\",{get:function(){if(null==this.inboundNodes||0===this.inboundNodes.length)throw new AttributeError(\"The layer \"+this.name+\" has never been called and thus has no defined output shape.\");for(var e=[],t=0,n=this.inboundNodes;t<n.length;t++){var r=n[t],i=JSON.stringify(r.outputShapes);-1===e.indexOf(i)&&e.push(i)}if(1===e.length){var a=this.inboundNodes[0].outputShapes;return Array.isArray(a)&&Array.isArray(a[0])&&1===a.length?a[0]:a}throw new AttributeError(\"The layer \"+this.name+' has multiple inbound nodes with different output shapes. Hence the notion of \"outut shape\" is ill-defined for the layer.')},enumerable:!0,configurable:!0}),t.prototype.countParams=function(){if(!this.built)throw new RuntimeError(\"You tried to call countParams() on \"+this.name+\", but the layer is not built yet. Build it first by calling build(batchInputShape).\");return countParamsInWeights(this.weights)},t.prototype.build=function(e){this.built=!0},t.prototype.getWeights=function(e){return void 0===e&&(e=!1),batchGetValue(e?this.trainableWeights:this.weights)},t.prototype.setWeights=function(e){var t=this;tidy(function(){var n=t.weights;if(n.length!==e.length)throw new ValueError('You called setWeights(weights) on layer \"'+t.name+'\" with a weight list of length '+e.length+\", but the layer was expecting \"+n.length+\" weights. Provided weights: \"+e+\"...\");if(0!==n.length){for(var r=[],i=batchGetValue(n),a=0;a<i.length;++a){var o=i[a],s=n[a],l=e[a];if(!util.arraysEqual(o.shape,l.shape))throw new ValueError(\"Layer weight shape \"+o.shape+\" not compatible with provided weight shape \"+l.shape);r.push([s,l])}batchSetValue(r)}})},t.prototype.addWeight=function(e,t,n,r,i,a,o){if(-1!==this._addedWeightNames.indexOf(e))throw new ValueError(\"Duplicate weight name \"+e+\" for layer \"+this.name);this._addedWeightNames.push(e),null==n&&(n=\"float32\"),this.fastWeightInitDuringBuild&&(r=getInitializer(\"zeros\"));var s=r.apply(t,n),l=new LayerVariable(s,n,e,a,o);return s.dispose(),null!=i&&this.addLoss(function(){return i.apply(l.read())}),null==a&&(a=!0),a?this._trainableWeights.push(l):this._nonTrainableWeights.push(l),l},t.prototype.setFastWeightInitDuringBuild=function(e){this.fastWeightInitDuringBuild=e},t.prototype.addLoss=function(e){var t;null==e||Array.isArray(e)&&0===e.length||(e=toList(e),void 0!==this._losses&&null!==this._losses&&(t=this.losses).push.apply(t,e))},t.prototype.computeOutputShape=function(e){return e},t.prototype.computeMask=function(e,t){var n=this;if(!this.supportsMasking){if(null!=t){if(!Array.isArray(t))throw new TypeError(\"Layer \"+this.name+\" does not support masking, but was passed an inputMask.\");t.forEach(function(e){if(null!=e)throw new TypeError(\"Layer \"+n.name+\" does not support masking, but was passed an inputMask.\")})}return null}return t},t.prototype.addInboundNode=function(e,t,n,r,i,a,o){void 0===o&&(o=null);var s=toList(e);t=toList(t),n=toList(n),r=toList(r),i=normalizeShapeList(i),a=normalizeShapeList(a);for(var l=[],u=[],c=[],h=0,p=s;h<p.length;h++){var d=p[h];l.push(d.sourceLayer),u.push(d.nodeIndex),c.push(d.tensorIndex)}new Node({outboundLayer:this,inboundLayers:l,nodeIndices:u,tensorIndices:c,inputTensors:s,outputTensors:t,inputMasks:n,outputMasks:r,inputShapes:i,outputShapes:a},o);for(var g=0;g<t.length;g++)t[g].sourceLayer=this,t[g].nodeIndex=this.inboundNodes.length-1,t[g].tensorIndex=g},t.prototype.getConfig=function(){var e={name:this.name,trainable:this.trainable};return null!=this.batchInputShape&&(e.batchInputShape=this.batchInputShape),null!=this.dtype&&(e.dtype=this.dtype),e},t.prototype.disposeWeights=function(){return this.weights.forEach(function(e){return e.dispose()}),this.weights.length},t.prototype.assertNotDisposed=function(){if(0===this._refCount)throw new Error(\"Layer '\"+this.name+\"' is already disposed.\")},t.prototype.dispose=function(){if(!this.built)throw new Error(\"Cannot dispose Layer \"+this.name+\" because it has not been built yet.\");if(null===this._refCount)throw new Error(\"Cannot dispose Layer \"+this.name+\" because it has not been used yet.\");this.assertNotDisposed();var e=0;return 0==--this._refCount&&(e=this.disposeWeights()),{refCountAfterDispose:this._refCount,numDisposedVariables:e}},t}(serialization.Serializable);function collectInputShape(e){for(var t=[],n=0,r=e=toList(e);n<r.length;n++){var i=r[n];t.push(i.shape)}return singletonOrArray(t)}function guessOutputDType(e){return\"float32\"}function getSourceInputs(e,t,n){if((null==t||null!=n&&n>0)&&(t=e.sourceLayer,n=e.nodeIndex),0===t.inboundNodes.length)return[e];var r=t.inboundNodes[n];if(0===r.inboundLayers.length)return r.inputTensors;for(var i=[],a=0;a<r.inboundLayers.length;a++)for(var o=0,s=getSourceInputs(r.inputTensors[a],r.inboundLayers[a],r.nodeIndices[a]);o<s.length;o++){var l=s[o];-1===i.indexOf(l)&&i.push(l)}return i}var ModelLoggingVerbosity,InputLayer=function(e){function t(t){var n=e.call(this,{dtype:t.dtype,name:null!=t.name?t.name:getUid(\"input\").toString()})||this;if(null==t.batchSize&&(t.batchSize=null),null==t.sparse&&(t.sparse=!1),n.trainable=!1,n.built=!0,n.sparse=t.sparse,null!=t.inputShape&&null!=t.batchInputShape)throw new ValueError(\"Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.\");var r=t.batchInputShape;if(null==r){if(null==t.inputShape)throw new ValueError(\"An InputLayer should be passed either a `batchInputShape` or an `inputShape`.\");r=[t.batchSize].concat(t.inputShape)}else if(null!=t.batchSize)throw new ValueError(\"Cannot specify batchSize if batchInputShape isspecified when creating an InputLayer.\");var i=t.dtype||\"float32\";n.batchInputShape=r,n.dtype=i,n.inputSpec=[{shape:r}];var a=new SymbolicTensor(n.dtype,n.batchInputShape,n,[],{},n.name);return a.nodeIndex=0,a.tensorIndex=0,new Node({outboundLayer:n,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[a],outputTensors:[a],inputMasks:[null],outputMasks:[null],inputShapes:[r],outputShapes:[r]}),n}return __extends(t,e),t.prototype.apply=function(e,t){throw new ValueError(\"Cannot pass any input to an InputLayer's apply() method. InputLayer name: \"+this.name)},t.prototype.dispose=function(){return{refCountAfterDispose:this._refCount,numDisposedVariables:0}},t.prototype.getConfig=function(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}},t.className=\"InputLayer\",t}(Layer);function Input(e){if(null==e.batchShape&&null==e.shape)throw new Error(\"Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.\");if(null!=e.batchShape&&null!=e.shape)throw new ValueError(\"Please provide either a `shape` or `batchShape` argument to Input, but not both.\");var t=e.batchShape;null!=e.shape&&null==t&&(t=[null].concat(e.shape));var n=e.dtype;return null==n&&(n=\"float32\"),new InputLayer({batchInputShape:t,name:e.name,dtype:n,sparse:e.sparse}).inboundNodes[0].outputTensors[0]}function resolveScalarsInLogs(e){return __awaiter(this,void 0,void 0,function(){var t,n,r,i,a,o,s,l;return __generator(this,function(u){switch(u.label){case 0:if(null==e)return[2];for(i in t=[],n=[],r=[],e)\"number\"!=typeof(a=e[i])&&(o=a,t.push(o.data()),n.push(i),r.push(o));return[4,Promise.all(t)];case 1:for(s=u.sent(),l=0;l<s.length;++l)e[n[l]]=s[l][0];return dispose(r),[2]}})})}function disposeTensorsInLogs(e){if(null!=e)for(var t in e){var n=e[t];\"number\"!=typeof n&&n.dispose()}}serialization.registerClass(InputLayer),function(e){e[e.SILENT=0]=\"SILENT\",e[e.VERBOSE=1]=\"VERBOSE\"}(ModelLoggingVerbosity||(ModelLoggingVerbosity={}));var BaseCallback=function(){function e(){this.validationData=null}return e.prototype.setParams=function(e){this.params=e},e.prototype.onEpochBegin=function(e,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},e.prototype.onEpochEnd=function(e,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},e.prototype.onBatchBegin=function(e,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},e.prototype.onBatchEnd=function(e,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},e.prototype.onTrainBegin=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},e.prototype.onTrainEnd=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},e.prototype.setModel=function(e){},e}(),CallbackList=function(){function e(e,t){void 0===t&&(t=10),null==e&&(e=[]),this.callbacks=e,this.queueLength=t}return e.prototype.append=function(e){this.callbacks.push(e)},e.prototype.setParams=function(e){for(var t=0,n=this.callbacks;t<n.length;t++){n[t].setParams(e)}},e.prototype.setModel=function(e){for(var t=0,n=this.callbacks;t<n.length;t++){n[t].setModel(e)}},e.prototype.onEpochBegin=function(e,t){return __awaiter(this,void 0,void 0,function(){var n,r;return __generator(this,function(i){switch(i.label){case 0:null==t&&(t={}),n=0,r=this.callbacks,i.label=1;case 1:return n<r.length?[4,r[n].onEpochBegin(e,t)]:[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},e.prototype.onEpochEnd=function(e,t){return __awaiter(this,void 0,void 0,function(){var n,r;return __generator(this,function(i){switch(i.label){case 0:null==t&&(t={}),n=0,r=this.callbacks,i.label=1;case 1:return n<r.length?[4,r[n].onEpochEnd(e,t)]:[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},e.prototype.onBatchBegin=function(e,t){return __awaiter(this,void 0,void 0,function(){var n,r;return __generator(this,function(i){switch(i.label){case 0:null==t&&(t={}),n=0,r=this.callbacks,i.label=1;case 1:return n<r.length?[4,r[n].onBatchBegin(e,t)]:[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},e.prototype.onBatchEnd=function(e,t){return __awaiter(this,void 0,void 0,function(){var n,r;return __generator(this,function(i){switch(i.label){case 0:null==t&&(t={}),n=0,r=this.callbacks,i.label=1;case 1:return n<r.length?[4,r[n].onBatchEnd(e,t)]:[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},e.prototype.onTrainBegin=function(e){return __awaiter(this,void 0,void 0,function(){var t,n;return __generator(this,function(r){switch(r.label){case 0:null==e&&(e={}),t=0,n=this.callbacks,r.label=1;case 1:return t<n.length?[4,n[t].onTrainBegin(e)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})},e.prototype.onTrainEnd=function(e){return __awaiter(this,void 0,void 0,function(){var t,n;return __generator(this,function(r){switch(r.label){case 0:null==e&&(e={}),t=0,n=this.callbacks,r.label=1;case 1:return t<n.length?[4,n[t].onTrainEnd(e)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})},e}(),ModelTrainingYielder=function(){function e(e){this.yieldEvery=e,this.batchCount=0,this.batchDurationsMillis=[],this.autoYieldEveryBatches=null,this.batchStartMillis=util.now()}return e.prototype.resolveOneTensorInLogs=function(e){return __awaiter(this,void 0,void 0,function(){var t,n,r,i,a;return __generator(this,function(o){switch(o.label){case 0:for(n in t=[],e)t.push(n);r=0,o.label=1;case 1:return r<t.length?(i=t[r],\"number\"==typeof(a=e[i])?[3,3]:[4,a.data()]):[3,4];case 2:return o.sent(),[3,4];case 3:return r++,[3,1];case 4:return[2]}})})},e.prototype.maybeYieldOnBatch=function(t){return __awaiter(this,void 0,void 0,function(){var n,r;return __generator(this,function(i){switch(i.label){case 0:return\"auto\"!==this.yieldEvery?[3,7]:(this.batchCount++,null!=this.autoYieldEveryBatches?[3,3]:[4,this.resolveOneTensorInLogs(t)]);case 1:return i.sent(),n=util.now(),[4,nextFrame()];case 2:return i.sent(),this.batchCount>e.SKIP_FIRST_BATCHES&&(this.batchDurationsMillis.push(n-this.batchStartMillis),this.batchDurationsMillis.length>=e.DECISION_BATCH_COUNT&&(r=this.batchDurationsMillis.reduce(function(e,t){return e+t})/this.batchDurationsMillis.length,this.autoYieldEveryBatches=Math.round(e.THRESHOLD_MILLIS/r),this.autoYieldEveryBatches<1&&(this.autoYieldEveryBatches=1))),this.batchStartMillis=util.now(),this.lastYieldBatchCount=this.batchCount,[3,6];case 3:return this.batchCount-this.lastYieldBatchCount>=this.autoYieldEveryBatches?[4,nextFrame()]:[3,6];case 4:return i.sent(),[4,this.resolveOneTensorInLogs(t)];case 5:i.sent(),this.lastYieldBatchCount=this.batchCount,i.label=6;case 6:return[3,9];case 7:return\"batch\"!==this.yieldEvery?[3,9]:[4,nextFrame()];case 8:i.sent(),i.label=9;case 9:return[2]}})})},e.prototype.maybeYieldOnEpoch=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return\"epoch\"!==this.yieldEvery?[3,2]:[4,nextFrame()];case 1:e.sent(),e.label=2;case 2:return[2]}})})},e.SKIP_FIRST_BATCHES=1,e.DECISION_BATCH_COUNT=2,e.THRESHOLD_MILLIS=16,e}(),BaseLogger=function(e){function t(t){var n=e.call(this)||this;return n.yieldEvery=t||\"auto\",n}return __extends(t,e),t.prototype.onTrainBegin=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return this.autoYielder=new ModelTrainingYielder(this.yieldEvery),[2]})})},t.prototype.onEpochBegin=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return this.seen=0,this.totals={},[2]})})},t.prototype.onBatchEnd=function(e,t){return __awaiter(this,void 0,void 0,function(){var e,n,r,i,a=this;return __generator(this,function(o){switch(o.label){case 0:return[4,this.autoYielder.maybeYieldOnBatch(t)];case 1:for(i in o.sent(),null==t&&(t={}),e=null==t.size?0:t.size,this.seen+=e,n=function(n){var i=t[n];if(\"number\"==typeof i)r.totals.hasOwnProperty(n)||(r.totals[n]=0),r.totals[n]=r.totals[n]+i*e;else{var o=void 0;n in r.totals?o=r.totals[n]:r.totals[n]=getScalar(0),r.totals[n]=tidy(function(){return add(a.totals[n],mul(i,getScalar(e)))}),null!=o&&o.dispose()}},r=this,t)n(i);return[2]}})})},t.prototype.onEpochEnd=function(e,t){return __awaiter(this,void 0,void 0,function(){var e,n,r,i,a,o=this;return __generator(this,function(s){switch(s.label){case 0:return[4,this.autoYielder.maybeYieldOnEpoch()];case 1:if(s.sent(),null!=t)for(e=function(e){if(null==n.totals[e])return\"continue\";\"number\"==typeof n.totals[e]?t[e]=n.totals[e]/n.seen:tidy(function(){t[e]=mul(div(getScalar(1),getScalar(o.seen)),o.totals[e]),o.totals[e].dispose(),keep(t[e])})},n=this,r=0,i=this.params.metrics;r<i.length;r++)a=i[r],e(a);return[2]}})})},t}(BaseCallback),History=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onTrainBegin=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return this.epoch=[],this.history={},[2]})})},t.prototype.onEpochEnd=function(e,t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(r){for(n in null==t&&(t={}),this.epoch.push(e),t)null==this.history[n]&&(this.history[n]=[]),this.history[n].push(t[n]);return[2]})})},t.prototype.syncData=function(){return __awaiter(this,void 0,void 0,function(){var e,t,n,r,i,a,o,s,l;return __generator(this,function(u){switch(u.label){case 0:for(r in e=[],t=[],n=[],this.history)for(i=this.history[r],a=0;a<i.length;++a)\"number\"!=typeof i[a]&&(o=i[a],e.push(o.data()),t.push(r),n.push(a));return[4,Promise.all(e)];case 1:for(s=u.sent(),l=0;l<s.length;++l)this.history[t[l]][n[l]].dispose(),this.history[t[l]][n[l]]=s[l][0];return[2]}})})},t}(BaseCallback),CustomCallback=function(e){function t(t){var n=e.call(this)||this;return n.trainBegin=t.onTrainBegin,n.trainEnd=t.onTrainEnd,n.epochBegin=t.onEpochBegin,n.epochEnd=t.onEpochEnd,n.batchBegin=t.onBatchBegin,n.batchEnd=t.onBatchEnd,n}return __extends(t,e),t.prototype.onEpochBegin=function(e,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return null==this.epochBegin?[3,3]:[4,resolveScalarsInLogs(t)];case 1:return n.sent(),[4,this.epochBegin(e,t)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.onEpochEnd=function(e,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return null==this.epochEnd?[3,3]:[4,resolveScalarsInLogs(t)];case 1:return n.sent(),[4,this.epochEnd(e,t)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.onBatchBegin=function(e,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return null==this.batchBegin?[3,3]:[4,resolveScalarsInLogs(t)];case 1:return n.sent(),[4,this.batchBegin(e,t)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.onBatchEnd=function(e,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return null==this.batchEnd?[3,3]:[4,resolveScalarsInLogs(t)];case 1:return n.sent(),[4,this.batchEnd(e,t)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.onTrainBegin=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return null==this.trainBegin?[3,3]:[4,resolveScalarsInLogs(e)];case 1:return t.sent(),[4,this.trainBegin(e)];case 2:t.sent(),t.label=3;case 3:return[2]}})})},t.prototype.onTrainEnd=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return null==this.trainEnd?[3,3]:[4,resolveScalarsInLogs(e)];case 1:return t.sent(),[4,this.trainEnd(e)];case 2:t.sent(),t.label=3;case 3:return[2]}})})},t}(BaseCallback);function standardizeCallbacks(e){return null==e?null:e instanceof BaseCallback?[e]:Array.isArray(e)&&e[0]instanceof BaseCallback?e:toList(e).map(function(e){return new CustomCallback(e)})}var CallbackConstructorRegistry=function(){function e(){}return e.registerCallbackConstructor=function(t,n){util.assert(t>=0&&Number.isInteger(t),\"Verbosity level is expected to be an integer >= 0, but got \"+t),e.checkForDuplicate(n),null==e.constructors[t]&&(e.constructors[t]=[]),e.constructors[t].push(n)},e.checkForDuplicate=function(t){for(var n in e.constructors){e.constructors[+n].forEach(function(e){if(e===t)throw new ValueError(\"Duplicate callback constructor.\")})}},e.clear=function(){e.constructors={}},e.createCallbacks=function(t){var n=[];for(var r in e.constructors){var i=+r;t>=i&&n.push.apply(n,e.constructors[i])}return n.map(function(e){return new e})},e.constructors={},e}();function configureCallbacks(e,t,n,r,i,a,o,s,l,u){var c=new History,h=[new BaseLogger(t)].concat(CallbackConstructorRegistry.createCallbacks(n));null!=e&&h.push.apply(h,e),h.push(c);var p=new CallbackList(h);return p.setParams({epochs:r,initialEpoch:i,samples:a,steps:o,batchSize:s,verbose:n,doValidation:l,metrics:u}),{callbackList:p,history:c}}function l2Normalize(e,t){return tidy(function(){var n=sum(square(e),t,!0),r=mul(scalar(epsilon()),onesLike(e)),i=sqrt(maximum(n,r));return div(e,i)})}function meanSquaredError(e,t){return tidy(function(){return mean(square(sub(t,e)),-1)})}function meanAbsoluteError(e,t){return tidy(function(){return mean(abs(sub(t,e)),-1)})}function meanAbsolutePercentageError(e,t){return tidy(function(){var n=sub(e,t),r=clipByValue(abs(e),epsilon(),Number.MAX_VALUE),i=abs(div(n,r));return mul(getScalar(100),mean(i,-1))})}function meanSquaredLogarithmicError(e,t){return tidy(function(){var n=getScalar(1),r=clipByValue(t,epsilon(),Number.MAX_VALUE),i=log(add(n,r)),a=clipByValue(e,epsilon(),Number.MAX_VALUE),o=log(add(n,a));return mean(square(sub(i,o)),-1)})}function squaredHinge(e,t){return tidy(function(){var n=getScalar(0),r=getScalar(1),i=maximum(n,sub(r,mul(e,t)));return mean(square(i),-1)})}function hinge(e,t){return tidy(function(){var n=getScalar(0),r=getScalar(1),i=maximum(n,sub(r,mul(e,t)));return mean(i,-1)})}function categoricalHinge(e,t){return tidy(function(){var n=getScalar(0),r=getScalar(1),i=sum(mul(e,t),-1),a=max(mul(sub(r,e),t),-1);return maximum(n,add(r,sub(a,i)))})}function logcosh(e,t){return tidy(function(){var n=getScalar(Math.log(2)),r=sub(t,e),i=sub(add(r,softplus(mul(getScalar(-2),r))),n);return mean(i,-1)})}function categoricalCrossentropy(e,t,n){return void 0===n&&(n=!1),tidy(function(){if(n)t=softmax(t);else{var r=sum(t,t.shape.length-1,!0);t=div(t,r)}return t=clipByValue(t,epsilon(),1-epsilon()),neg(sum(mul(e.toFloat(),log(t)),t.shape.length-1))})}function sparseCategoricalCrossentropy(e,t){return tidy(function(){var n=floor(flatten(e)).toInt(),r=(t=clipByValue(t,epsilon(),1-epsilon())).shape;return categoricalCrossentropy(oneHot(n,r[r.length-1]).reshape(r),t,!1)})}function sigmoidCrossEntropyWithLogits(e,t){if(!util.arraysEqual(e.shape,t.shape))throw new ValueError(\"logits and labels must have the same shape, but got shapes \"+JSON.stringify(e.shape)+\" and \"+JSON.stringify(t.shape));return tidy(function(){var n=t.relu(),r=t.abs().neg();return n.sub(t.mul(e)).add(r.exp().log1p())})}function binaryCrossentropy(e,t){return tidy(function(){var n;return n=clipByValue(t,epsilon(),1-epsilon()),n=log(div(n,sub(getScalar(1),n))),mean(sigmoidCrossEntropyWithLogits(e,n),-1)})}function kullbackLeiblerDivergence(e,t){return tidy(function(){var n=clipByValue(e,epsilon(),1),r=clipByValue(t,epsilon(),1);return sum(mul(e,log(div(n,r))),-1)})}function poisson(e,t){return tidy(function(){var n=log(add(getScalar(epsilon()),t));return mean(sub(t,mul(e,n)),-1)})}function cosineProximity(e,t){return tidy(function(){var n=l2Normalize(e,-1),r=l2Normalize(t,-1),i=mul(n,r);return neg(sum(i,-1))})}function get(e){var t={meanSquaredError:meanSquaredError,meanAbsoluteError:meanAbsoluteError,meanAbsolutePercentageError:meanAbsolutePercentageError,meanSquaredLogarithmicError:meanSquaredLogarithmicError,squaredHinge:squaredHinge,hinge:hinge,categoricalHinge:categoricalHinge,logcosh:logcosh,categoricalCrossentropy:categoricalCrossentropy,sparseCategoricalCrossentropy:sparseCategoricalCrossentropy,binaryCrossentropy:binaryCrossentropy,kullbackLeiblerDivergence:kullbackLeiblerDivergence,poisson:poisson,cosineProximity:cosineProximity};if(\"string\"==typeof e){if(e in t)return t[e];var n=\"Unknown loss \"+e;throw e.toLowerCase().includes(\"softmaxcrossentropy\")&&(n=\"Unknown loss \"+e+'. Use \"categoricalCrossentropy\" as the string name for tf.losses.softmaxCrossEntropy'),new ValueError(n)}return e}function binaryAccuracy(e,t){return tidy(function(){var n=mul(getScalar(.5),onesLike(t)),r=cast$1(greater(t,n),e.dtype);return mean(equal(e,r),-1)})}function categoricalAccuracy(e,t){return tidy(function(){return cast$1(equal(argMax(e,-1),argMax(t,-1)),\"float32\")})}function truePositives(e,t){return tidy(function(){var n=getScalar(1);return logicalAnd(e.equal(n),t.equal(n)).sum().cast(\"float32\")})}function falseNegatives(e,t){return tidy(function(){var n=getScalar(1),r=getScalar(0);return logicalAnd(e.equal(n),t.equal(r)).sum().cast(\"float32\")})}function falsePositives(e,t){return tidy(function(){var n=getScalar(1),r=getScalar(0);return logicalAnd(e.equal(r),t.equal(n)).sum().cast(\"float32\")})}function precision(e,t){return tidy(function(){var n=getScalar(0),r=truePositives(e,t),i=falsePositives(e,t),a=r.add(i);return where(greater(a,n),r.div(a),n).cast(\"float32\")})}function recall(e,t){return tidy(function(){var n=getScalar(0),r=truePositives(e,t),i=falseNegatives(e,t),a=r.add(i);return where(greater(a,n),r.div(a),n).cast(\"float32\")})}function binaryCrossentropy$1(e,t){return binaryCrossentropy(e,t)}function sparseCategoricalAccuracy(e,t){return e.rank===t.rank&&(e=e.squeeze([e.rank-1])),(t=t.argMax(-1)).dtype!==e.dtype&&(t=t.asType(e.dtype)),equal(e,t).asType(\"float32\")}var mse$1=meanSquaredError,MSE$1=meanSquaredError,mae$1=meanAbsoluteError,MAE$1=meanAbsoluteError,mape$1=meanAbsolutePercentageError,MAPE$1=meanAbsolutePercentageError,categoricalCrossentropy$1=categoricalCrossentropy,cosine$1=cosineProximity,sparseCategoricalCrossentropy$1=sparseCategoricalCrossentropy;function get$1(e){var t={binaryAccuracy:binaryAccuracy,categoricalAccuracy:categoricalAccuracy,precision:precision,categoricalCrossentropy:categoricalCrossentropy$1,sparseCategoricalCrossentropy:sparseCategoricalCrossentropy$1,mse:mse$1,MSE:MSE$1,mae:mae$1,MAE:MAE$1,mape:mape$1,MAPE:MAPE$1,cosine:cosine$1};if(\"string\"==typeof e&&e in t)return t[e];if(\"string\"!=typeof e&&null!=e)return e;throw new ValueError(\"Unknown metric \"+e)}function getOptimizer(e){var t={Adagrad:function(){return train.adagrad(.01)},Adadelta:function(){return train.adadelta(1,.95,epsilon())},Adam:function(){return train.adam(.001,.9,.999,epsilon())},Adamax:function(){return train.adamax(.002,.9,.999,epsilon(),0)},RMSProp:function(){return train.rmsprop(.001,.9,0,epsilon())},SGD:function(){return train.sgd(.01)}};if(t.adagrad=t.Adagrad,t.adadelta=t.Adadelta,t.adam=t.Adam,t.adamax=t.Adamax,t.rmsprop=t.RMSProp,t.sgd=t.SGD,e in t)return t[e]();throw new ValueError(\"Unknown Optimizer \"+e)}function printSummary(e,t,n,r){void 0===r&&(r=console.log);var i,a=isModelSequentialLike(e),o=[\"Layer (type)\",\"Output shape\",\"Param #\"];if(a?(t=t||65,n=n||[.45,.85,1]):(t=t||98,n=n||[.33,.55,.67,1]),n[n.length-1]<=1&&(n=n.map(function(e){return Math.floor(t*e)})),!a)for(var s in o.push(\"Receives inputs\"),i=[],e.nodesByDepth)i.push.apply(i,e.nodesByDepth[s]);r(\"_\".repeat(t)),printRow(o,n,r),r(\"=\".repeat(t));for(var l=e.layers,u=0;u<l.length;++u)a?printLayerSummary(l[u],n,r):printLayerSummaryWithConnections(l[u],n,i,r),r((u===l.length-1?\"=\":\"_\").repeat(t));e.checkTrainableWeightsConsistency();var c=countTrainableParams(e),h=countParamsInWeights(e.nonTrainableWeights);r(\"Total params: \"+(c+h)),r(\"Trainable params: \"+c),r(\"Non-trainable params: \"+h),r(\"_\".repeat(t))}function countTrainableParams(e){return null!=e.collectedTrainableWeights?countParamsInWeights(e.collectedTrainableWeights):countParamsInWeights(e.trainableWeights)}function isModelSequentialLike(e){var t=!0,n=[],r=[];for(var i in e.nodesByDepth)n.push(e.nodesByDepth[i]);for(var a=0,o=n;a<o.length;a++){var s=o[a];if(s.length>1||1===s.length&&s[0].inboundLayers.length>1){t=!1;break}r.push.apply(r,s)}if(t)for(var l=0,u=e.layers;l<u.length;l++){for(var c=!1,h=0,p=u[l].inboundNodes;h<p.length;h++){var d=p[h];if(-1!==r.indexOf(d)){if(c){t=!1;break}c=!0}}if(!t)break}return t}function printRow(e,t,n){void 0===n&&(n=console.log);for(var r=\"\",i=0;i<e.length;++i)i>0&&(r=r.slice(0,r.length-1)+\" \"),r=(r+=e[i]).slice(0,t[i]),r+=\" \".repeat(t[i]-r.length);n(r)}function printLayerSummary(e,t,n){var r;try{r=JSON.stringify(e.outputShape)}catch(e){r=\"multiple\"}printRow([e.name+\" (\"+e.getClassName()+\")\",r,e.countParams().toString()],t,n)}function printLayerSummaryWithConnections(e,t,n,r){var i;try{i=JSON.stringify(e.outputShape)}catch(e){i=\"multiple\"}for(var a=[],o=0,s=e.inboundNodes;o<s.length;o++){var l=s[o];if(!(null!=n&&n.length>0&&-1===n.indexOf(l)))for(var u=0;u<l.inboundLayers.length;++u){var c=l.inboundLayers[u].name,h=l.nodeIndices[u],p=l.tensorIndices[u];a.push(c+\"[\"+h+\"][\"+p+\"]\")}}var d=e.name,g=e.getClassName(),f=0===a.length?\"\":a[0];printRow([d+\" (\"+g+\")\",i,e.countParams().toString(),f],t,r);for(u=1;u<a.length;++u)printRow([\"\",\"\",\"\",a[u]],t,r)}function deserialize(e,t,n){return void 0===t&&(t={}),void 0===n&&(n=!1),deserializeKerasObject(e,serialization.SerializationMap.getMap().classNameMap,t,\"layer\",n)}function isArrayItemInputOrOutputName(e,t,n){return(\"inboundNodes\"===e||\"outputLayers\"===e||\"inputLayers\"===e)&&0===t&&\"string\"==typeof n}function convertPythonicToTs(e,t){if(null===e)return null;if(\"string\"==typeof e)return toCamelCase(e);if(\"number\"==typeof e||\"boolean\"==typeof e)return e;if(e instanceof Array){for(var n=[],r=e.length,i=0;i<r;++i){var a=e[i];isArrayItemInputOrOutputName(t,i,a)?n.push(a):n.push(convertPythonicToTs(a,t))}return n}for(var o={},s=0,l=Object.keys(e);s<l.length;s++){var u=l[s],c=e[u];if(\"name\"===u&&\"string\"==typeof c)o[u]=c;else{var h=toCamelCase(u);o[h]=convertPythonicToTs(c,h)}}return o}function convertTsToPythonic(e,t){if(null===e||void 0===e)return null;if(\"string\"==typeof e)return toSnakeCase(e);if(\"number\"==typeof e||\"boolean\"==typeof e)return e;if(e instanceof Array){for(var n=[],r=e.length,i=0;i<r;++i){var a=e[i];isArrayItemInputOrOutputName(t,i,a)?n.push(a):n.push(convertTsToPythonic(a,t))}return n}for(var o={},s=0,l=Object.keys(e);s<l.length;s++){var u=l[s],c=e[u],h=toSnakeCase(u);o[h]=\"name\"!==u&&\"className\"!==u||\"string\"!=typeof c?convertTsToPythonic(c,u):c}return o}var version=\"0.9.2\";function assertFeedCompatibility(e,t){if(null==e.dtype||e.dtype===t.dtype)return t;try{return cast(t,e.dtype)}catch(n){throw new ValueError(\"The dtype of the feed (\"+t.dtype+\") can not be cast to the dtype of the key '\"+e.name+\"' (\"+e.dtype+\").\")}}var FeedDict=function(){function e(t){if(this.id2Value={},this.id2Mask={},this.name2Id={},t instanceof e)for(var n in t.id2Value)this.id2Value[n]=t.id2Value[n],n in t.id2Mask&&(this.id2Mask[n]=t.id2Mask[n]);else{if(null==t)return;for(var r=0,i=t;r<i.length;r++){var a=i[r];this.add(a.key,a.value)}}}return e.prototype.add=function(e,t,n){if(null!=this.id2Value[e.id])throw new ValueError(\"Duplicate key: name=\"+e.name+\", id=\"+e.id);return this.id2Value[e.id]=assertFeedCompatibility(e,t),this.name2Id[e.name]=e.id,null!=n&&(this.id2Mask[e.id]=n),this},e.prototype.addFeed=function(e){this.add(e.key,e.value)},e.prototype.hasKey=function(e){return null!=this.id2Value[e.id]},e.prototype.names=function(){return Object.keys(this.name2Id)},e.prototype.getValue=function(e){if(e instanceof SymbolicTensor){if(null==this.id2Value[e.id])throw new ValueError(\"Nonexistent key: \"+e.name);return this.id2Value[e.id]}var t=this.name2Id[e];if(null==t)throw new ValueError(\"Feed dict has no SymbolicTensor name: \"+e);return this.id2Value[t]},e.prototype.getMask=function(e){if(e instanceof SymbolicTensor){if(null==this.id2Value[e.id])throw new ValueError(\"Nonexistent key: \"+e.name);return this.id2Mask[e.id]}var t=this.name2Id[e];if(null==t)throw new ValueError(\"Feed dict has no SymbolicTensor name: \"+e);return this.id2Mask[t]},e.prototype.disposeMasks=function(){null!=this.id2Mask&&dispose(this.id2Mask)},e}(),cachedSorted={},cachedRecipientCounts={};function execute(e,t,n,r){for(var i=null!=n&&n.training,a=Array.isArray(e),o=a?e:[e],s=o.map(function(e){return e.name}),l=[],u=t.names(),c=0,h=s;c<h.length;c++){var p=h[c];-1!==u.indexOf(p)?l.push(t.getValue(p)):l.push(null)}null!=r&&(r.maxNumTensors=-1/0,r.minNumTensors=1/0);var d,g,f=s.join(\",\")+\"|\"+t.names().join(\",\");if(null==cachedSorted[f]){var m=getTopologicalSortAndRecipientCounts(o,t);d=m.sorted,g=m.recipientCounts,cachedSorted[f]=d,cachedRecipientCounts[f]=g}d=cachedSorted[f],g={},i||Object.assign(g,cachedRecipientCounts[f]);for(var y=new FeedDict(t),v=0;v<d.length;++v){if(null!=r){var b=memory().numTensors;b>r.maxNumTensors&&(r.maxNumTensors=b),b<r.minNumTensors&&(r.minNumTensors=b)}var w=d[v],z=w.sourceLayer;if(!(z instanceof InputLayer)){for(var S=[],I=[],A=[],_=!1,C=0,N=w.inputs;C<N.length;C++){var E=N[C],k=y.getValue(E),x=y.getMask(E);S.push(k),I.push(x),null!=x&&(_=!0),i||(g[E.name]--,0!==g[E.name]||t.hasKey(E)||-1!==s.indexOf(E.name)||k.isDisposed||A.push(k))}_&&((n=n||{}).mask=I[0]);var L=toList(z.apply(S,n)),T=null;z.supportsMasking&&(T=z.computeMask(S,I));for(var D=getNodeOutputs(w),O=Array.isArray(D)?D:[D],R=0;R<O.length;++R){y.hasKey(O[R])||y.add(O[R],L[R],Array.isArray(T)?T[0]:T);var M=s.indexOf(O[R].name);-1!==M&&(l[M]=L[R])}i||dispose(A)}}return y.disposeMasks(),a?l:l[0]}function getTopologicalSortAndRecipientCounts(e,t){util.assert(null!=e&&e.length>0,\"Exepcted at least one fetch, got none\");var n=[],r={};if(1===e.length){var i=getTopologicalSortAndRecipientCountsForOneFetch(e[0],t);n=i.sorted,r=i.recipientMap}else for(var a=new Set,o=0,s=e;o<s.length;o++){for(var l=getTopologicalSortAndRecipientCountsForOneFetch(s[o],t),u=l.sorted,c=l.recipientMap,h=0,p=u;h<p.length;h++){var d=p[h];a.has(d.name)||(n.push(d),a.add(d.name))}var g=function(e){null==r[e]&&(r[e]=new Set),c[e].forEach(function(t){return r[e].add(t)})};for(var f in c)g(f)}return{sorted:n,recipientCounts:recipientMap2Counts(r)}}function recipientMap2Counts(e){var t={};for(var n in e)t[n]=e[n].size;return t}function getTopologicalSortAndRecipientCountsForOneFetch(e,t){for(var n=new Set,r=[],i={},a=0,o=t.names();a<o.length;a++){var s=o[a];n.add(s)}var l=[],u=[];for(l.push(e);l.length>0;){var c=l[l.length-1];if(n.has(c.name))l.pop();else{var h=u[u.length-1]===l.length-1;if(0===c.inputs.length||h)l.pop(),r.push(c),n.add(c.name),h&&u.pop();else{u.push(l.length-1);for(var p=0,d=c.inputs;p<d.length;p++){var g=d[p];null==i[g.name]&&(i[g.name]=new Set),i[g.name].add(c.name),n.has(g.name)||l.push(g)}}}}return{sorted:r,recipientMap:i}}function getNodeOutputs(e){var t;if(1===e.sourceLayer.inboundNodes.length)t=e.sourceLayer.output;else{for(var n=null,r=0;r<e.sourceLayer.inboundNodes.length;++r)for(var i=0,a=e.sourceLayer.inboundNodes[r].outputTensors;i<a.length;i++){if(a[i].id===e.id){n=r;break}}t=e.sourceLayer.getOutputAt(n)}return t}function preprocessWeightsForLoading(e,t,n,r){if(!n.startsWith(\"2.\"))throw new ValueError(\"Unsupported Keras version in weights being loaded: \"+n);return t}function loadTensor(e,t,n){var r=stringToDType(e);return Tensor.make(t,{values:0===t.length?n:util.flatten(n)},r)}function loadWeightsFromJson(e,t,n){void 0===n&&(n=!1);for(var r=e.keras_version,i=e.backend,a=t.map(function(e){return e.name}),o={},s=0,l=t;s<l.length;s++){null!=(b=l[s]).name&&(null==o[b.name]&&(o[b.name]=[]),o[b.name].push(b))}for(var u=e.weights,c=[],h=0;h<a.length;++h){var p=a[h],d=u[p];null==d&&(d=[]);for(var g=[],f=0;f<d.length;++f){var m=d[f];g.push(new LayerVariable(loadTensor(m.dtype,m.shape,m.value)))}for(var y=0,v=o[p];y<v.length;y++){var b,w=(b=v[y]).weights;if((g=preprocessWeightsForLoading(b,g,r,i)).length!==w.length){if(!n)throw new ValueError(\"Layer #\"+h+' (named \"'+b.name+'\") expects '+w.length+\" weight(s), but the saved weights have \"+g.length+\" element(s).\");console.warn(\"Skipping loading of weights of layer \"+b.name+\" due to mismatch in number of weights: (\"+g.length+\" vs \"+w.length+\").\")}for(var z=0;z<g.length;++z)!n||util.arraysEqual(w[z].shape,g[z].shape)?c.push([w[z],g[z].read()]):console.warn(\"Skipping loading of weights for layer \"+b.name+\" due to mismatch in shape (\"+w[z].shape+\" vs \"+g[z].shape+\")\")}}batchSetValue(c)}function loadWeightsFromNamedTensorMap(e,t,n){void 0===n&&(n=!0);for(var r={},i=0,a=0,o=t;a<o.length;a++)for(var s=0,l=o[a].weights;s<l.length;s++){var u=l[s];if(null!=r[u.originalName])throw new ValueError(\"Duplicate weight name: \"+u.originalName);r[u.originalName]=u,i++}var c=[];for(var h in e){if(null!=r[h])c.push([r[h],e[h]]);else if(n)throw new ValueError(\"Provided weight data has no target variable: \"+h);delete r[h]}if(n){var p=[];for(var d in r)p.push(d);if(p.length>0)throw new ValueError(p.length+\" of \"+i+\" weights are not set: \"+p)}batchSetValue(c)}var Container=function(e){function t(n){var r=e.call(this,{})||this;if(r.containerNodes=new Set,r.name=n.name,null==r.name){var i=r.getClassName().toLowerCase();r.name=getUid(i)}if(r.supportsMasking=!1,r.trainable=!0,r.updatable=!0,Array.isArray(n.inputs)?r.inputs=n.inputs.slice():r.inputs=[n.inputs],Array.isArray(n.outputs)?r.outputs=n.outputs.slice():r.outputs=[n.outputs],unique(r.inputs).length!==r.inputs.length)throw new ValueError(\"The list of inputs passed to the model is redundant. All inputs should only appear once. Found: \"+r.inputs.map(function(e){return e.name}));unique(r.outputs).length!==r.outputs.length&&console.warn(\"The list of outputs passed to the model is redundant. All outputs should only appear once. Found: \"+r.outputs.map(function(e){return e.name})),r.inputLayers=[],r.inputLayersNodeIndices=[],r.inputLayersTensorIndices=[],r.outputLayers=[],r.outputLayersNodeIndices=[],r.outputLayersTensorIndices=[],r.layers=[];for(var a=0,o=r.outputs;a<o.length;a++){var s=(C=o[a]).sourceLayer,l=C.nodeIndex,u=C.tensorIndex;r.outputLayers.push(s),r.outputLayersNodeIndices.push(l),r.outputLayersTensorIndices.push(u)}for(var c=0,h=r.inputs;c<h.length;c++){s=(C=h[c]).sourceLayer,l=C.nodeIndex,u=C.tensorIndex;assert(0===l,\"input layer has >1 nodes\"),assert(0===u,\"input layer has >1 tensors\"),r.inputLayers.push(s),r.inputLayersNodeIndices.push(l),r.inputLayersTensorIndices.push(u)}r.inputNames=[],r.outputNames=[],r.feedInputShapes=[],r.feedInputNames=[],r.feedOutputNames=[];for(var p=0;p<r.inputLayers.length;p++){if(!((s=r.inputLayers[p])instanceof InputLayer))throw new TypeError(\"Input layers to a Model must be InputLayer objects. Received inputs: \"+n.inputs+\". Input \"+p+\" (0-based) originates from layer type \"+s.getClassName()+\".\");r.inputNames.push(s.name),r.feedInputShapes.push(s.batchInputShape),r.feedInputNames.push(s.name)}for(var d=0,g=r.outputLayers;d<g.length;d++){s=g[d];r.outputNames.push(s.name)}r.internalInputShapes=r.inputs.map(function(e){return e.shape}),r.internalOutputShapes=r.outputs.map(function(e){return e.shape});for(var f={},m={},y={},v={},b={},w=[],z=function(e,n,i,a,o,s){null!=a&&null!=o&&null!=s||(a=e.sourceLayer,o=e.nodeIndex,s=e.tensorIndex);var l=a.inboundNodes[o];if(-1!==i.indexOf(l))throw new RuntimeError(\"The tensor \"+e.name+' at layer \"'+a.name+'\" is part of a cycle.');if(-1===n.indexOf(l)){r.containerNodes.add(t.nodeKey(a,o)),a.id in b||(b[a.id]=Object.keys(b).length),-1===i.indexOf(l)&&i.push(l);for(var u=l.inboundLayers.length,c=0;c<u;c++){var h=l.inputTensors[c],p=l.inboundLayers[c],d=l.nodeIndices[c],g=l.tensorIndices[c];z(h,n,i,p,d,g)}for(n.push(l);i.indexOf(l)>=0;)i.splice(i.indexOf(l),1);w.push(l)}},S=[],I=[],A=0,_=r.outputs;A<_.length;A++){var C=_[A];z(C,S,I)}for(var N=0,E=w.slice().reverse();N<E.length;N++){m[(K=E[N]).id]=K,K.id in f||(f[K.id]=0);var k=f[K.id],x=null==y[K.outboundLayer.id]?0:y[K.outboundLayer.id];k=Math.max(k,x),y[K.outboundLayer.id]=k,v[K.outboundLayer.id]=K.outboundLayer,f[K.id]=k;for(p=0;p<K.inboundLayers.length;p++){var L=K.inboundLayers[p],T=(l=K.nodeIndices[p],L.inboundNodes[l]),D=null==f[T.id]?0:f[T.id];f[T.id]=Math.max(k+1,D),m[T.id]=T}}var O={};for(var R in f){(k=f[R])in O||(O[k]=[]),O[k].push(m[R])}var M={};for(var P in y){(k=y[P])in M||(M[k]=[]),M[k].push(v[P])}var F=Object.keys(M).map(function(e){return parseInt(e,10)}).sort(reverseNumberCompare);r.layers=[];for(var V=0,B=F;V<B.length;V++){var U=M[k=B[V]];U.sort(function(e,t){var n=b[e.id],r=b[t.id];return n<r?-1:n>r?1:0});for(var j=0,W=U;j<W.length;j++){s=W[j];r.layers.push(s)}}r.layersByDepth=M,F=Object.keys(O).map(function(e){return parseInt(e,10)}).sort(reverseNumberCompare);for(var $=r.inputs.slice(),q=[],G=0,J=F;G<J.length;G++)for(var H=0,Z=O[k=J[G]];H<Z.length;H++){var K;if(null!=(s=(K=Z[H]).outboundLayer)){for(var Y=0,X=K.inputTensors;Y<X.length;Y++){C=X[Y];if(-1===$.indexOf(C))throw new RuntimeError(\"Graph disconnected: cannot obtain value for tensor \"+C+' at layer \"'+s.name+'\". The following previous layers were accessed without issue: '+q)}for(var Q=0,ee=K.outputTensors;Q<ee.length;Q++){C=ee[Q];$.push(C)}q.push(s.name)}}r.nodesByDepth=O;for(var te=r.layers.map(function(e){return e.name}),ne=function(e){var t=te.filter(function(t){return t===e}).length;if(1!==t)throw new RuntimeError('The name \"'+e+'\" is used '+t+\" times in the model. All layer names should be unique. Layer names: \"+JSON.stringify(te))},re=0,ie=te;re<ie.length;re++){ne(ie[re])}return r.outboundNodes=[],r.inboundNodes=[],new Node({outboundLayer:r,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:r.inputs,outputTensors:r.outputs,inputMasks:r.inputs.map(function(e){return null}),outputMasks:r.outputs.map(function(e){return null}),inputShapes:r.inputs.map(function(e){return e.shape}),outputShapes:r.outputs.map(function(e){return e.shape})}),r.built=!0,r._refCount=1,r}return __extends(t,e),t.prototype.assertNotDisposed=function(){if(0===this._refCount)throw new Error(\"Container '\"+this.name+\"' is already disposed.\")},t.prototype.dispose=function(){this.assertNotDisposed();var e={refCountAfterDispose:null,numDisposedVariables:0};if(0==--this._refCount)for(var t=0,n=this.layers;t<n.length;t++){var r=n[t];e.numDisposedVariables+=r.dispose().numDisposedVariables}return e.refCountAfterDispose=this._refCount,e},Object.defineProperty(t.prototype,\"trainableWeights\",{get:function(){if(this._trainableWeights.length>0)throw new ValueError(\"Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.\");if(!this.trainable)return[];for(var e=[],t=0,n=this.layers;t<n.length;t++){var r=n[t];e=e.concat(r.trainableWeights)}return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"nonTrainableWeights\",{get:function(){for(var e=[],t=0,n=this.layers;t<n.length;t++){var r=n[t];e.push.apply(e,r.nonTrainableWeights)}if(!this.trainable){for(var i=[],a=0,o=this.layers;a<o.length;a++){r=o[a];i.push.apply(i,r.trainableWeights)}return i.concat(e)}return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"weights\",{get:function(){return this.trainableWeights.concat(this.nonTrainableWeights)},enumerable:!0,configurable:!0}),t.prototype.loadWeights=function(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1),void 0===r&&(r=!0),n?loadWeightsFromNamedTensorMap(e,this.layers,r):loadWeightsFromJson(e,this.layers,t)},t.prototype.updatedConfig=function(){var e=this.getConfig();return{className:this.getClassName(),config:e,kerasVersion:\"tfjs-layers \"+version,backend:\"TensorFlow.js\"}},t.prototype.toJSON=function(e,t){void 0===t&&(t=!0);var n=convertTsToPythonic(this.updatedConfig());return t?JSON.stringify(n):n},t.prototype.call=function(e,t){var n=this;return tidy(function(){e=toList(e);for(var r=new FeedDict,i=0;i<n.inputs.length;++i)r.add(n.inputs[i],e[i]);return execute(n.outputs,r,t)})},t.prototype.computeMask=function(e,t){var n=this;return tidy(function(){var r;return e=toList(e),r=null==t?pyListRepeat(null,e.length):toList(t),n.runInternalGraph(e,r)[1]})},t.prototype.computeOutputShape=function(e){var t=normalizeShapeList(e);if(t.length!==this.inputLayers.length)throw new ValueError(\"Invalid inputShape argument \"+e+\": model has \"+this.inputLayers.length+\" tensor inputs.\");for(var n={},r=0;r<t.length;r++){var i=this.inputLayers[r],a=t[r];n[I=i.name+\"_0_0\"]=a}var o=Object.keys(this.nodesByDepth).map(function(e){return parseInt(e,10)}).sort(reverseNumberCompare);if(o.length>1)for(var s=0,l=o;s<l.length;s++)for(var u=l[s],c=0,h=this.nodesByDepth[u];c<h.length;c++){var p=h[c];i=p.outboundLayer;if(-1===this.inputLayers.map(function(e){return e.id}).indexOf(i.id)){for(var d=[],g=0;g<p.inboundLayers.length;g++){var f=p.inboundLayers[g],m=p.nodeIndices[g],y=p.tensorIndices[g],v=n[I=f.name+\"_\"+m+\"_\"+y];d.push(v)}var b=normalizeShapeList(i.computeOutputShape(singletonOrArray(d))),w=i.inboundNodes.indexOf(p);for(g=0;g<b.length;g++){n[I=i.name+\"_\"+w+\"_\"+g]=b[g]}}}var z=[],S=[];for(r=0;r<this.outputLayers.length;r++){i=this.outputLayers[r],w=this.outputLayersNodeIndices[r],y=this.outputLayersTensorIndices[r];var I=i.name+\"_\"+w+\"_\"+y;S.push(I)}for(r=0;r<S.length;r++){var A=S[r];assert(A in n),z.push(n[A])}return singletonOrArray(z)},t.prototype.runInternalGraph=function(e,t){null==t&&(t=pyListRepeat(null,e.length));for(var n={},r=0;r<this.inputs.length;++r){var i=this.inputs[r],a=e[r],o=t[r];n[i.id]=[a,o]}for(var s=0,l=Object.keys(this.nodesByDepth).map(function(e){return parseInt(e,10)}).sort(reverseNumberCompare);s<l.length;s++)for(var u=l[s],c=0,h=this.nodesByDepth[u];c<h.length;c++){for(var p=h[c],d=p.outboundLayer,g=p.inputTensors,f=p.outputTensors,m=new Array,y=0,v=g;y<v.length;y++){(i=v[y]).id in n&&m.push(n[i.id])}if(m.length===g.length){var b={},w=void 0,z=void 0,S=void 0,I=void 0;if(null!=p.callArgs&&(b=p.callArgs),1===m.length){var A=m[0],_=A[0],C=A[1];null==b.mask&&(b.mask=C),S=toList(d.call(_,b)),I=toList(d.computeMask(_,C)),w=[_],z=[C]}else w=m.map(function(e){return e[0]}),z=m.map(function(e){return e[1]}),null==b.mask&&(b.mask=z),S=toList(d.call(w,b)),I=toList(d.computeMask(w,z));if(d.activityRegularizer)throw new NotImplementedError(\"Model invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.\");for(r=0;r<f.length;++r){i=f[r],a=S[r],o=I[r];n[i.id]=[a,o]}}}for(var N=[],E=[],k=[],x=0,L=this.outputs;x<L.length;x++){assert((i=L[x]).id in n,\"Could not compute output \"+i.name+\" : \"+i.id);var T=n[i.id],D=T[0];o=T[1];k.push(D.shape),N.push(D),E.push(o)}return[N,E,k]},t.prototype.buildNodeConversionMap=function(e){for(var n,r={},i=0,a=this.layers;i<a.length;i++){var o=a[i];n=o instanceof t?1:0;for(var s=0;s<o.inboundNodes.length;s++){var l=t.nodeKey(o,s);this.containerNodes.has(l)&&(r[l]=n,n+=1)}}return r},t.prototype.getLayer=function(e,t){if(null!=t){if(this.layers.length<=t)throw new ValueError(\"Was asked to retrieve layer at index \"+t+\", but model only has \"+this.layers.length+\" layer(s).\");return this.layers[t]}if(null==e)throw new ValueError(\"Provide either a layer name or layer index\");for(var n=0,r=this.layers;n<r.length;n++){var i=r[n];if(i.name===e)return i}throw new ValueError(\"No such layer: \"+e)},t.prototype.calculateLosses=function(){var e=this;return tidy(function(){for(var n=[],r=0,i=e.layers;r<i.length;r++)for(var a=i[r],o=0;o<a.inboundNodes.length;++o){var s=t.nodeKey(a,o);e.containerNodes.has(s)&&n.push.apply(n,a.calculateLosses())}return n})},t.prototype.getConfig=function(){for(var e={name:this.name},n=this.buildNodeConversionMap(this.layers),r=[],i=0,a=this.layers;i<a.length;i++){for(var o=(b=a[i]).getClassName(),s=b.getConfig(),l=[],u=0;u<b.inboundNodes.length;u++){var c=b.inboundNodes[u],h=t.nodeKey(b,u),p={};if(this.containerNodes.has(h)){if(c.callArgs)try{JSON.stringify(c.callArgs),p=c.callArgs}catch(e){console.warn(\"Layer \"+b.name+\" was passed non-serializable keyword arguments: \"+c.callArgs+\". They will not be included in the serialized model (and thus will be missing at deserialization time).\"),p={}}if(c.inboundLayers.length>0){for(var d=[],g=0;g<c.inboundLayers.length;g++){var f=c.inboundLayers[g],m=c.nodeIndices[g],y=c.tensorIndices[g];null==(z=n[t.nodeKey(f,m)])&&(z=0),d.push([f.name,z,y,p])}l.push(d)}}}r.push({name:b.name,className:o,config:s,inboundNodes:l})}e.layers=r;var v=[];for(g=0;g<this.inputLayers.length;g++){var b=this.inputLayers[g];m=this.inputLayersNodeIndices[g],h=t.nodeKey(b,m);if(this.containerNodes.has(h)){null!==(z=n[h])&&void 0!==z||(z=0);y=this.inputLayersTensorIndices[g];v.push([b.name,z,y])}}e.inputLayers=v;var w=[];for(g=0;g<this.outputLayers.length;g++){b=this.outputLayers[g],m=this.outputLayersNodeIndices[g],h=t.nodeKey(b,m);if(this.containerNodes.has(h)){var z;null!==(z=n[h])&&void 0!==z||(z=0);y=this.outputLayersTensorIndices[g];w.push([b.name,z,y])}}return e.outputLayers=w,e},t.fromConfig=function(e,t,n,r){void 0===n&&(n={}),void 0===r&&(r=!1);var i={},a={};function o(e,t){e.name in a?a[e.name].push(t):a[e.name]=[t]}function s(e,t){for(var n,r=[],a=0,s=t;a<s.length;a++){var l=s[a],u=l[0],c=l[1],h=l[2];if(3===l.length)n={};else{if(4!==l.length)throw new ValueError(\"Improperly formatted model config for layer \"+JSON.stringify(e)+\": \"+JSON.stringify(l));n=l[3]}if(!(u in i))return void o(e,t);var p=i[u];if(p.inboundNodes.length<=c)return void o(e,t);var d=p.inboundNodes[c];r.push(d.outputTensors[h])}r.length>0&&e.apply(singletonOrArray(r),n)}function l(e){var n=e.name,a=deserialize(e,null!=t.customObjects?t.customObjects:{});a.setFastWeightInitDuringBuild(r),i[n]=a;for(var s=0,l=e.inboundNodes;s<l.length;s++){var u=l[s];if(!(u instanceof Array))throw new ValueError(\"Corrupted configuration, expected array for nodeData: \"+u);o(a,u)}}for(var u=t.name,c=t.layers,h=0,p=c;h<p.length;h++){l(f=p[h])}for(;!isObjectEmpty(a);)for(var d=0,g=c;d<g.length;d++){var f=g[d];if((k=i[f.name]).name in a){var m=a[k.name];delete a[k.name];for(var y=0,v=m;y<v.length;y++){s(k,v[y])}}}for(var b=[],w=[],z=0,S=t.inputLayers;z<S.length;z++){var I=(f=S[z])[0],A=f[1],_=f[2];assert(I in i);var C=(k=i[I]).inboundNodes[A].outputTensors;b.push(C[_])}for(var N=0,E=t.outputLayers;N<E.length;N++){I=(f=E[N])[0],A=f[1],_=f[2];assert(I in i);var k;C=(k=i[I]).inboundNodes[A].outputTensors;w.push(C[_])}return new e({inputs:b,outputs:w,name:u})},Object.defineProperty(t.prototype,\"stateful\",{get:function(){if(this._stateful)throw new ValueError(\"Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.\");for(var e=0,t=this.layers;e<t.length;e++){if(t[e].stateful)return!0}return!1},enumerable:!0,configurable:!0}),t.prototype.resetStates=function(){var e=this;tidy(function(){e.layers.forEach(function(e){e.stateful&&e.resetStates()})})},t}(Layer),DEFAULT_VALIDATION_BATCH_SIZE=32;function standardizeDataIteratorOutput(e,t){if(e.outputs.length>1)throw new NotImplementedError(\"Support for training a model with multiple output tensors with a dataset object is not implemented yet.\");util.assert(Array.isArray(t)&&2===t.length,\"Dataset iterator for fitDataset() is expected to generate an Array of length 2: `[xs, ys]`, but instead generates \"+t);var n=(t=t)[1],r=t[0];if(r instanceof Tensor)return util.assert(1===e.inputs.length,\"Model has multiple \"+e.inputs.length+\" inputs, hence it expects the input dataset to generate a dictionary of tensors  (with keys \"+JSON.stringify(e.inputNames)+\", but received a single tensor.\"),util.assert(r.shape[0]===n.shape[0],\"Mismatch in batch size between x and y tensors (\"+r.shape[0]+\" vs. \"+n.shape[0]+\")\"),[r,n];var i=void 0;r=r;for(var a=[],o=0,s=e.inputNames;o<s.length;o++){var l=s[o];if(null==r[l])throw new ValueError(\"The feature data generated by the dataset lacks the required input key '\"+l+\"'.\");a.push(r[l]),null==i?i=r[l].shape[0]:util.assert(r[l].shape[0]===i,\"Mismatch in batch size between x and y tensors (\"+r[l].shape[0]+\" vs. \"+n.shape[0]+\")\")}return a.concat(n)}function standardizeTensorValidationData(e){if(3===e.length)throw new NotImplementedError(\"Validation with sample weights is not implemented yet.\");return{xs:e[0],ys:e[1]}}function fitDataset(e,t,n){return __awaiter(this,void 0,void 0,function(){var r,i,a,o,s,l,u,c,h,p,d,g,f,m,y,v,b,w,z,S,I,A,_,C,N,E;return __generator(this,function(k){switch(k.label){case 0:if(r=null!=n.batchesPerEpoch,util.assert(null!=e.optimizer,\"You must compile a model before training/testing. Use Model.compile(modelCompileConfig).\"),util.assert(null!=n,\"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call.\"),util.assert(null!=n.epochs&&n.epochs>0&&Number.isInteger(n.epochs),\"For fitDataset(), config.epochs is expected to be a positive integer, but got \"+n.epochs),util.assert(!r||n.batchesPerEpoch>0&&Number.isInteger(n.batchesPerEpoch),\"For fitDataset(), config.batchesPerEpoch is expected to be a positive integer if specified, but got \"+n.batchesPerEpoch),util.assert(null==n.validationSplit,\"`validationSplit` is not supported by `fitDataset()`. Use validationData instead.\"),e.isTraining)throw new Error(\"Cannot start training because another fit() call is ongoing.\");e.isTraining=!0,k.label=1;case 1:return k.trys.push([1,,22,23]),i=null!=n.validationData,a=void 0,o=void 0,i&&(isDatasetObject(n.validationData)?util.assert(null==n.validationBatches||n.validationBatches>0&&Number.isInteger(n.validationBatches),\"For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, but got \"+n.validationBatches):(s=standardizeTensorValidationData(n.validationData),a=s.xs,o=s.ys)),l=e.makeTrainFunction(),u=e.getDedupedMetricsNames(),c=void 0,c=i?u.slice().concat(u.map(function(e){return\"val_\"+e})):u.slice(),h=standardizeCallbacks(n.callbacks),p=configureCallbacks(h,n.yieldEvery,n.verbose,n.epochs,null,null,n.batchesPerEpoch,null,i,c),d=p.callbackList,g=p.history,d.setModel(e),e.history=g,[4,d.onTrainBegin()];case 2:return k.sent(),e.stopTraining_=!1,f=null==n.initialEpoch?0:n.initialEpoch,[4,t.iterator()];case 3:m=k.sent(),k.label=4;case 4:return f<n.epochs?(y={},[4,d.onEpochBegin(f)]):[3,19];case 5:return k.sent(),v=0,b=0,r?[3,7]:[4,t.iterator()];case 6:m=k.sent(),k.label=7;case 7:return!r||v<n.batchesPerEpoch?[4,m.next()]:[3,17];case 8:return w=k.sent(),r&&w.done?(console.warn(\"You provided `batchesPerEpoch` as \"+n.batchesPerEpoch+\", but your dataset iterator ran out of data after \"+v+\" batches; interrupting training. Make sure that your dataset can generate at least `batchesPerEpoch * epochs` batches (in this case, \"+n.batchesPerEpoch*n.epochs+\" batches). You may need to use the repeat() function when building your dataset.\"),[3,17]):null==w.value?[3,11]:(z=standardizeDataIteratorOutput(e,w.value),(S={}).batch=b,S.size=z[0].shape[0],[4,d.onBatchBegin(b,S)]);case 9:for(k.sent(),I=l(z),dispose(z),E=0;E<u.length;++E)A=u[E],_=I[E],S[A]=_,keep(_);return[4,d.onBatchEnd(b,S)];case 10:k.sent(),disposeTensorsInLogs(S),b++,v++,k.label=11;case 11:return(r?v>=n.batchesPerEpoch:w.done)?i?(C=void 0,isDatasetObject(n.validationData)?(N=toList,[4,e.evaluateDataset(n.validationData,{batches:n.validationBatches})]):[3,13]):[3,15]:[3,16];case 12:return C=N.apply(void 0,[k.sent()]),[3,14];case 13:C=toList(e.evaluate(a,o,{batchSize:null==n.validationBatchSize?DEFAULT_VALIDATION_BATCH_SIZE:n.validationBatchSize,verbose:0})),k.label=14;case 14:for(E=0;E<e.metricsNames.length;++E)y[\"val_\"+e.metricsNames[E]]=C[E];k.label=15;case 15:return[3,17];case 16:return e.stopTraining_?[3,17]:[3,7];case 17:return[4,d.onEpochEnd(f,y)];case 18:return k.sent(),f++,e.stopTraining_?[3,19]:[3,4];case 19:return[4,d.onTrainEnd()];case 20:return k.sent(),[4,e.history.syncData()];case 21:return k.sent(),[2,e.history];case 22:return e.isTraining=!1,[7];case 23:return[2]}})})}function isDatasetObject(e){return\"function\"==typeof e.iterator}function isLazyIteratorObject(e){return\"function\"==typeof e.next}function evaluateDataset(e,t,n){return __awaiter(this,void 0,void 0,function(){var r,i,a,o,s,l,u,c,h,p;return __generator(this,function(d){switch(d.label){case 0:if(r=null!=n.batches,i=e.testFunction,a=[],n.verbose>0)throw new NotImplementedError(\"Verbose mode is not implemented yet.\");return util.assert(!r||n.batches>0&&Number.isInteger(n.batches),\"Test loop expects `batches` to be a positive integer, but received \"+JSON.stringify(n.batches)),isLazyIteratorObject(t)?(s=t,[3,3]):[3,1];case 1:return[4,t.iterator()];case 2:s=d.sent(),d.label=3;case 3:o=s,l=0,u=0,c=function(){var t,s,c,h,p,d;return __generator(this,function(g){switch(g.label){case 0:return[4,o.next()];case 1:if((t=g.sent()).value){if(s=standardizeDataIteratorOutput(e,t.value),c=tidy(function(){return i(s)}),dispose(s),0===u)for(d=0;d<c.length;++d)a.push(getScalar(0));for(h=s[0].shape[0],p=function(e){var t=c[e],n=a[e];a[e]=tidy(function(){return add(a[e],mul(getScalar(h),t))}),u>0&&dispose(n)},d=0;d<c.length;++d)p(d);dispose(c),l+=h,++u}return t.done?(r&&console.warn(\"Your dataset iterator ran out of data during evaluateDataset(). Interrupting evalution. Make sure that your dataset can generate at least `batches` batches (in this case, \"+n.batches+\" batches). You may need to use the repeat() function when building your dataset.\"),[2,\"break\"]):[2]}})},d.label=4;case 4:return!r||u<n.batches?[5,c()]:[3,6];case 5:return\"break\"===d.sent()?[3,6]:[3,4];case 6:for(h=function(e){var t=a[e];a[e]=tidy(function(){return div(a[e],getScalar(l))}),dispose(t)},p=0;p<a.length;++p)h(p);return[2,singletonOrArray(a)]}})})}function checkBatchSize(e){util.assert(e>0&&Number.isInteger(e),\"batchSize is required to be a positive integer, but got \"+e)}function sliceArrays(e,t,n){return null==e?[null]:Array.isArray(e)?e.map(function(e){return sliceAlongFirstAxis(e,t,n-t)}):sliceAlongFirstAxis(e,t,n-t)}function sliceArraysByIndices(e,t){return tidy(function(){return null==e?null:Array.isArray(e)?e.map(function(e){return sliceArraysByIndices(e,t)}):gather$1(e,\"int32\"===t.dtype?t:t.toInt())})}function makeBatches(e,t){for(var n=[],r=0,i=null;r<e;)(i=r+t)>=e&&(i=e),n.push([r,i]),r=i;return n}function fitLoop(e,t,n,r,i,a,o,s,l,u,c,h,p,d,g,f){return __awaiter(this,void 0,void 0,function(){var m,y,v,b,w,z,S,I;return __generator(this,function(A){switch(A.label){case 0:if(null==i&&(i=32),null==a&&(a=1),null==c&&(c=!0),null==p&&(p=0),m=!1,null!=l&&null!=u&&(m=!0),null!=g&&(m=!0,null==d))throw new ValueError(\"Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.\");return null!=(y=e.checkNumSamples(n,i,d,\"steps_per_epoch\"))&&(v=range(0,y)),null==o&&(o=1),b=configureCallbacks(s,f,o,a,p,y,d,i,m,h),w=b.callbackList,z=b.history,w.setModel(e),e.history=z,[4,w.onTrainBegin()];case 1:A.sent(),e.stopTraining_=!1,S=function(a){var o,s,h,p,g;return __generator(this,function(f){switch(f.label){case 0:return[4,w.onEpochBegin(a)];case 1:if(f.sent(),o={},null==d)return[3,2];throw new NotImplementedError(\"stepsPerEpoch mode is not implemented yet.\");case 2:if(\"batch\"===c)throw new NotImplementedError(\"batch shuffling is not implemneted yet\");c&&util.shuffle(v),s=tensor1d(v),h=makeBatches(y,i),p=function(a){var c;return __generator(this,function(p){switch(p.label){case 0:return c={},[4,w.onBatchBegin(a,c)];case 1:return p.sent(),tidy(function(){var p=h[a][0],d=h[a][1],g=sliceAlongFirstAxis(s,p,d-p);c.batch=a,c.size=d-p;for(var f=sliceArraysByIndices(n,g),y=t(f),v=0;v<r.length;++v){var b=r[v],w=y[v];c[b]=w,keep(w)}if(a===h.length-1&&m){var z=e.testLoop(l,u,i);for(v=0;v<r.length;++v){b=r[v],w=z[v];keep(w),o[\"val_\"+b]=w}}}),[4,w.onBatchEnd(a,c)];case 2:return p.sent(),disposeTensorsInLogs(c),e.stopTraining_?[2,\"break\"]:[2]}})},g=0,f.label=3;case 3:return g<h.length?[5,p(g)]:[3,6];case 4:if(\"break\"===f.sent())return[3,6];f.label=5;case 5:return++g,[3,3];case 6:s.dispose(),f.label=7;case 7:return[4,w.onEpochEnd(a,o)];case 8:return f.sent(),e.stopTraining_?[2,\"break\"]:[2]}})},I=p,A.label=2;case 2:return I<a?[5,S(I)]:[3,5];case 3:if(\"break\"===A.sent())return[3,5];A.label=4;case 4:return++I,[3,2];case 5:return[4,w.onTrainEnd()];case 6:return A.sent(),[4,e.history.syncData()];case 7:return A.sent(),[2,e.history]}})})}function fitTensors(e,t,n,r){return void 0===r&&(r={}),__awaiter(this,void 0,void 0,function(){var i,a,o,s,l,u,c,h,p,d,g,f,m,y,v,b,w,z,S;return __generator(this,function(I){switch(I.label){case 0:if(e.isTraining)throw new Error(\"Cannot start training because another fit() call is ongoing.\");e.isTraining=!0,I.label=1;case 1:if(I.trys.push([1,,3,4]),checkBatchSize(c=null==r.batchSize?32:r.batchSize),h=e.standardizeUserData(t,n,!1,c),i=h[0],a=h[1],p=!1,d=void 0,null!=r.validationData&&r.validationData.length>0){if(p=!0,2!==r.validationData.length)throw 3===r.validationData.length?new NotImplementedError(\"validationData including sample weights is not supported yet.\"):new ValueError(\"When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; \"+r.validationData+\" is invalid.\");o=r.validationData[0],s=r.validationData[1],g=e.standardizeUserData(o,s,!0,c),l=g[0],u=g[1],d=l.concat(u)}else null!=r.validationSplit&&r.validationSplit>0&&r.validationSplit<1?(p=!0,f=Math.floor(i[0].shape[0]*(1-r.validationSplit)),m=i[0].shape[0],l=sliceArrays(i,f,m),i=sliceArrays(i,0,f),u=sliceArrays(a,f,m),a=sliceArrays(a,0,f),d=l.concat(u)):null!=r.validationSteps&&(p=!0);return y=i.concat(a),e.checkTrainableWeightsConsistency(),v=e.makeTrainFunction(),b=e.getDedupedMetricsNames(),w=void 0,z=void 0,p?(e.makeTestFunction(),w=e.testFunction,z=b.slice().concat(b.map(function(e){return\"val_\"+e}))):(w=null,d=[],z=b.slice()),S=standardizeCallbacks(r.callbacks),[4,fitLoop(e,v,y,b,c,r.epochs,r.verbose,S,w,d,r.shuffle,z,r.initialEpoch,null,null,r.yieldEvery)];case 2:return[2,I.sent()];case 3:return e.isTraining=!1,disposeNewTensors(i,t),disposeNewTensors(a,n),disposeNewTensors(l,o),disposeNewTensors(u,s),[7];case 4:return[2]}})})}function ensureTensorsRank2OrHigher(e){var t=[];e instanceof Tensor&&(e=[e]);for(var n=0;n<e.length;++n){var r=e[n];if(1===r.rank)t.push(expandDims$1(r,1));else{if(0===r.rank)throw new Error(\"Expected tensor to be at least 1D, but received a 0D tensor (scalar).\");t.push(r)}}return t}function disposeNewTensors(e,t){if(null!=e){var n=[];if(t instanceof Tensor)n.push(t.id);else if(Array.isArray(t))t.forEach(function(e){return n.push(e.id)});else if(null!=t)for(var r in t){var i=t[r];n.push(i.id)}var a=[];if(e instanceof Tensor)-1===n.indexOf(e.id)&&a.push(e);else if(Array.isArray(e))e.forEach(function(e){-1===n.indexOf(e.id)&&a.push(e)});else if(null!=e)for(var o in e){var s=e[o];-1===n.indexOf(s.id)&&a.push(s)}a.forEach(function(e){e.isDisposed||e.dispose()})}}function isDataTensor(e){return e instanceof Tensor}function isDataArray(e){return Array.isArray(e)}function isDataDict(e){return!isDataTensor(e)&&!isDataArray(e)}function standardizeInputData(e,t,n,r,i){if(void 0===r&&(r=!0),void 0===i&&(i=\"\"),null==t||0===t.length){if(null!=e){var a=!1;if(isDataArray(e)&&e.length>0)a=!0;else if(isDataDict(e)){for(var o in e)if(e.hasOwnProperty(o)){a=!0;break}}else a=!0;if(a)throw new ValueError(\"Error when checking model \"+i+\" expected no data, but got \"+e)}return[]}if(null==e)return t.map(function(e){return null});var s;if(isDataDict(e)){e=e,s=[];for(var l=0,u=t;l<u.length;l++){var c=u[l];if(null==e[c])throw new ValueError('No data provided for \"'+c+'\". Need data for each key in: '+t);s.push(e[c])}}else if(isDataArray(e)){if((e=e).length!==t.length)throw new ValueError(\"Error when checking model \"+i+\": the Array of Tensors that you are passing to your model is not the size the model expected. Expected to see \"+t.length+\" Tensor(s), but instead got the following list of Tensor(s): \"+e);s=e}else{if(e=e,t.length>1)throw new ValueError(\"The model \"+i+\" expects \"+t.length+\" Tensor(s), but only received one Tensor. Found: Tensor with shape \"+e.shape);s=[e]}if(s=ensureTensorsRank2OrHigher(s),null!=n)for(var h=0;h<t.length;++h)if(null!=n[h]){var p=s[h];if(p.shape.length!==n[h].length)throw new ValueError(\"Error when checking \"+i+\": expected \"+t[h]+\" to have \"+n[h].length+\" dimension(s). but got array with shape \"+p.shape);for(var d=0;d<n[h].length;++d)if(0!==d||r){var g=p.shape[d],f=n[h][d];if(null!=f&&f>=0&&g!==f)throw new ValueError(\"Error when checking \"+i+\": expected \"+t[h]+\" to have shape [\"+n[h]+\"], but got array with shape [\"+p.shape+\"].\")}}return s}function checkArrayLengths(e,t,n){var r=unique(e.map(function(e){return e.shape[0]}));r.sort();var i=unique(t.map(function(e){return e.shape[0]}));if(i.sort(),r.length>1)throw new ValueError(\"All input Tensors (x) should have the same number of samples. Got array shapes: \"+JSON.stringify(e.map(function(e){return e.shape})));if(i.length>1)throw new ValueError(\"All target Tensors (y) should have the same number of samples. Got array shapes: \"+JSON.stringify(t.map(function(e){return e.shape})));if(r.length>0&&i.length>0&&!util.arraysEqual(r,i))throw new ValueError(\"Input Tensors should have the same number of samples as target Tensors. Found \"+r[0]+\" input sample(s) and \"+i[0]+\" target sample(s).\")}function checkLossAndTargetCompatibility(e,t,n){for(var r=[meanSquaredError,binaryCrossentropy,categoricalCrossentropy],i=0;i<e.length;++i){var a=e[i],o=t[i],s=n[i];if(null!=o){if(o===categoricalCrossentropy&&1===a.shape[a.shape.length-1])throw new ValueError(\"You are passing a target array of shape \"+a.shape+\" while using a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].\");if(-1!==r.indexOf(o))for(var l=a.shape.slice(1),u=s.slice(1),c=0;c<l.length;++c){var h=l[c],p=u[c];if(null!=p&&h!==p)throw new ValueError(\"A target Tensor with shape \"+a.shape+\" was passed for an output of shape \"+s+\", while using a loss function that expects targets to have the same shape as the output.\")}}}}function checkInputData(e,t,n,r,i){var a;if(void 0===r&&(r=!0),void 0===i&&(i=\"\"),Array.isArray(e)){if(e.length!==t.length)throw new ValueError(\"Error when checking model \"+i+\": the Array of Tensors that you are passing to your model is not the size the the model expected. Expected to see \"+t.length+\" Tensor(s), but instead got \"+e.length+\" Tensors(s).\");a=e}else{if(t.length>1)throw new ValueError(\"The model expects \"+t.length+\" \"+i+\" Tensors, but only received one Tensor. Found: array with shape \"+JSON.stringify(e.shape)+\".\");a=[e]}if(null!=n)for(var o=0;o<t.length;++o)if(null!=n[o]){var s=a[o];if(s.shape.length!==n[o].length)throw new ValueError(\"Error when checking \"+i+\": expected \"+t[o]+\" to have \"+n[o].length+\" dimension(s), but got array with shape \"+JSON.stringify(s.shape));for(var l=0;l<n[o].length;++l)if(0!==l||r){var u=s.shape[l],c=n[o][l];if(null!=c&&c!==u)throw new ValueError(\"Error when checking \"+i+\": expected \"+t[o]+\" to have shape \"+JSON.stringify(n[o])+\" but got array with shape \"+JSON.stringify(s.shape)+\".\")}}}function collectMetrics(e,t){if(null==e||Array.isArray(e)&&0===e.length)return t.map(function(e){return[]});if(Array.isArray(e))return t.map(function(t){return e});if(null!=e){for(var n=[],r=0,i=t;r<i.length;r++){var a=i[r],o=e.hasOwnProperty(a)?e[a]:[];Array.isArray(o)||(o=[o]),n.push(o)}return n}throw new TypeError(\"Type of metrics argument not understood. Expected an Array or Object, found: \"+e)}var Model=function(e){function t(t){var n=e.call(this,t)||this;return n.isTraining=!1,n}return __extends(t,e),t.prototype.summary=function(e,t,n){if(void 0===n&&(n=console.log),!this.built)throw new ValueError(\"This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).\");printSummary(this,e,t,n)},t.prototype.compile=function(e){var t=this;if(null==e.loss&&(e.loss=[]),this.loss=e.loss,\"string\"==typeof e.optimizer)this.optimizer=getOptimizer(e.optimizer);else{if(!(e.optimizer instanceof Optimizer))throw new ValueError(\"User-defined optimizer must be an instance of tf.Optimizer.\");this.optimizer=e.optimizer}var n=[];if(Array.isArray(e.loss)||\"string\"==typeof e.loss||\"function\"==typeof e.loss)if(Array.isArray(e.loss)){if(e.loss.length!==this.outputs.length)throw new ValueError(\"When passing an Array as loss, it should have one entry per model output. The model has \"+this.outputs.length+\" output(s), but you passed loss=\"+e.loss+\".\");var r=e.loss;n=r.map(function(e){return get(e)})}else{var i=get(e.loss);this.outputs.map(function(e){n.push(i)})}else{for(var a in e.loss=e.loss,e.loss)if(-1===this.outputNames.indexOf(a))throw new ValueError('Unknown entry in loss dictionary: \"'+a+'\". Only expected the following keys: '+this.outputNames);for(var o=0,s=this.outputNames;o<s.length;o++){var l=s[o];null==e.loss[l]&&console.warn('Output \"'+l+'\" is missing from loss dictionary. We assume this was done on purpose, and we will not be expecting data to be passed to '+l+\" during training\"),n.push(get(e.loss[l]))}}this.lossFunctions=n,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(var u=0;u<this.outputs.length;++u){var c=this.internalOutputShapes[u],h=this.outputNames[u];this.feedOutputNames.push(h),this.feedOutputShapes.push(c),this.feedLossFns.push(this.lossFunctions[u])}var p=[];this.metrics=e.metrics,this.metricsNames=[\"loss\"],this.metricsTensors=[],nameScope(\"loss\",function(){for(var e=0;e<t.outputs.length;++e)if(-1===p.indexOf(e)){var n=t.lossFunctions[e];t.outputs.length>1&&(t.metricsTensors.push([n,e]),t.metricsNames.push(t.outputNames[e]+\"_loss\"))}});var d=collectMetrics(e.metrics,this.outputNames);nameScope(\"metric\",function(){for(var e=function(e){if(-1!==p.indexOf(e))return\"continue\";!function(n){for(var r,i,a,o=function(n){if(-1!==[\"accuracy\",\"acc\",\"crossentropy\",\"ce\"].indexOf(n)){var o=t.internalOutputShapes[e];1===o[o.length-1]||t.lossFunctions[e]===binaryCrossentropy?-1!==[\"accuracy\",\"acc\"].indexOf(n)?i=binaryAccuracy:-1!==[\"crossentropy\",\"ce\"].indexOf(n)&&(i=binaryCrossentropy$1):t.lossFunctions[e]===sparseCategoricalCrossentropy?-1!==[\"accuracy\",\"acc\"].indexOf(n)?i=sparseCategoricalAccuracy:-1!==[\"crossentropy\",\"ce\"].indexOf(n)&&(i=sparseCategoricalCrossentropy$1):-1!==[\"accuracy\",\"acc\"].indexOf(n)?i=categoricalAccuracy:-1!==[\"crossentropy\",\"ce\"].indexOf(n)&&(i=categoricalCrossentropy$1);var s=void 0;-1!==[\"accuracy\",\"acc\"].indexOf(n)?s=\"acc\":-1!==[\"crossentropy\",\"ce\"].indexOf(n)&&(s=\"ce\"),a=i,r=\"\"+s}else{var l=get$1(n);a=l,r=\"\"+n}var u;nameScope(r,function(){u=a}),function(e,n,r){t.outputNames.length>1&&(n=t.outputNames[e]+\"_\"+n),t.metricsNames.push(n),t.metricsTensors.push([r,e])}(e,r,u)},s=0,l=n;s<l.length;s++)o(l[s])}(d[e])},n=0;n<t.outputs.length;++n)e(n)}),this.collectedTrainableWeights=this.trainableWeights},t.prototype.checkTrainableWeightsConsistency=function(){null!=this.collectedTrainableWeights&&this.trainableWeights.length!==this.collectedTrainableWeights.length&&console.warn(\"Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?\")},t.prototype.evaluate=function(e,t,n){void 0===n&&(n={});var r=null==n.batchSize?32:n.batchSize;checkBatchSize(r);var i=this.standardizeUserData(e,t,!0,r);try{var a=i[0].concat(i[1]);this.makeTestFunction();var o=this.testFunction;return singletonOrArray(this.testLoop(o,a,r,n.verbose,n.steps))}finally{disposeNewTensors(i[0],e),disposeNewTensors(i[1],t)}},t.prototype.evaluateDataset=function(e,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){return this.makeTestFunction(),[2,evaluateDataset(this,e,t)]})})},t.prototype.checkNumSamples=function(e,t,n,r){var i;if(void 0===r&&(r=\"steps\"),null!=n){if(i=null,null!=t)throw new ValueError(\"If \"+r+\" is set, batchSize must be null or undefined.Got batchSize = \"+t)}else{if(null==e)throw new ValueError(\"Either the input data should have a defined shape, or \"+r+\" shoud be specified.\");i=Array.isArray(e)?e[0].shape[0]:e.shape[0]}return i},t.prototype.execute=function(e,t){if(Array.isArray(t)&&0===t.length)throw new ValueError(\"`outputs` is an empty Array, which is not allowed.\");var n=Array.isArray(t),r=n?t:[t],i=this.retrieveSymbolicTensors(r),a=new FeedDict;if(e instanceof Tensor&&(e=[e]),Array.isArray(e)){if(e.length!==this.inputs.length)throw new ValueError(\"The number of inputs provided (\"+e.length+\") does not match the number of inputs of this model (\"+this.inputs.length+\").\");for(var o=0;o<this.inputs.length;++o)a.add(this.inputs[o],e[o])}else for(var s=0,l=this.inputs;s<l.length;s++){var u=l[s],c=e[u.name];if(null==c)throw new ValueError(\"No value is provided for the model's input \"+u.name);a.add(u,c)}var h=execute(i,a);return n?h:h[0]},t.prototype.retrieveSymbolicTensors=function(e){for(var t=pyListRepeat(null,e.length),n=e.length,r=0,i=this.layers;r<i.length;r++){for(var a=i[r],o=Array.isArray(a.output)?a.output:[a.output],s=o.map(function(e){return e.name}),l=0;l<e.length;++l){var u=s.indexOf(e[l]);if(-1!==u&&(t[l]=o[u],n--),0===n)break}if(0===n)break}if(n>0){var c=[];throw t.forEach(function(t,n){null==t&&c.push(e[n])}),new ValueError(\"Cannot find SymbolicTensors for output name(s): \"+JSON.stringify(c))}return t},t.prototype.predictLoop=function(e,t,n){var r=this;return void 0===t&&(t=32),void 0===n&&(n=!1),tidy(function(){var i=r.checkNumSamples(e);if(n)throw new NotImplementedError(\"Verbose predictLoop() is not implemented yet.\");for(var a=makeBatches(i,t),o=[],s=function(t){var n=tidy(function(){var n=a[t][0],i=a[t][1],o=sliceArrays(e,n,i),s=[];if(Array.isArray(o))for(var l=0;l<o.length;++l)s.push({key:r.inputs[l],value:o[l]});else s.push({key:r.inputs[0],value:o});var u=new FeedDict(s);return execute(r.outputs,u)});if(0===t)for(var i=0,s=n;i<s.length;i++){var l=s[i];o.push(l)}else for(var u=0;u<n.length;++u)o[u]=concatAlongFirstAxis(o[u],n[u])},l=0;l<a.length;++l)s(l);return singletonOrArray(o)})},t.prototype.predict=function(e,t){void 0===t&&(t={});var n=ensureTensorsRank2OrHigher(e);checkInputData(n,this.inputNames,this.feedInputShapes,!1);try{var r=null==t.batchSize?32:t.batchSize;return checkBatchSize(r),this.predictLoop(n,r)}finally{disposeNewTensors(n,e)}},t.prototype.predictOnBatch=function(e){return checkInputData(e,this.inputNames,this.feedInputShapes,!0),this.predictLoop(e,e.shape[0])},t.prototype.standardizeUserData=function(e,t,n,r){if(void 0===n&&(n=!0),null==this.optimizer)throw new RuntimeError(\"You must compile a model before training/testing. Use Model.compile(modelCompileArgs).\");for(var i=[],a=0;a<this.feedOutputShapes.length;++a){var o=this.feedOutputShapes[a];this.feedLossFns[a]===sparseCategoricalCrossentropy?i.push(o.slice(0,o.length-1).concat([1])):i.push(o)}if(checkArrayLengths(e=standardizeInputData(e,this.feedInputNames,this.feedInputShapes,!1,\"input\"),t=standardizeInputData(t,this.feedOutputNames,i,!1,\"target\"),null),checkLossAndTargetCompatibility(t,this.feedLossFns,this.feedOutputShapes),this.stateful&&null!=r&&r>0&&e[0].shape[0]%r!=0)throw new ValueError(\"In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size \"+r+\". Found: \"+e[0].shape[0]+\" sample(s).\");return[e,t,null]},t.prototype.testLoop=function(e,t,n,r,i){var a=this;return void 0===r&&(r=0),tidy(function(){var o=a.checkNumSamples(t,n,i,\"steps\"),s=[];if(r>0)throw new NotImplementedError(\"Verbose mode is not implemented yet.\");if(null!=i)throw new NotImplementedError(\"steps mode in testLoop() is not implemented yet\");for(var l=makeBatches(o,n),u=tensor1d(range(0,o)),c=0;c<l.length;++c){var h=l[c][0],p=l[c][1],d=sliceAlongFirstAxis(u,h,p-h),g=sliceArraysByIndices(t,d),f=e(g);if(0===c)for(var m=0;m<f.length;++m)s.push(getScalar(0));for(m=0;m<f.length;++m){var y=f[m];s[m]=add(s[m],mul(getScalar(p-h),y))}}for(m=0;m<s.length;++m)s[m]=div(s[m],getScalar(o));return s})},t.prototype.getDedupedMetricsNames=function(){for(var e=this.metricsNames,t=[],n=0;n<e.length;++n){var r=e[n],i=r;if(count(e,r)>1)i+=\"_\"+count(e.slice(0,n),r);t.push(i)}return t},t.prototype.makeTrainFunction=function(){var e=this;return function(t){var n=t.slice(0,e.inputs.length),r=t.slice(e.inputs.length,e.inputs.length+e.outputs.length),i=[],a=e.collectedTrainableWeights.map(function(e){return e.read()});return[e.optimizer.minimize(function(){for(var t=[],a=0;a<e.inputs.length;++a)t.push({key:e.inputs[a],value:n[a]});var o,s=new FeedDict(t),l=execute(e.outputs,s,{training:!0});for(a=0;a<e.lossFunctions.length;++a){var u=(0,e.lossFunctions[a])(r[a],l[a]);mean(u),o=0===a?u:add(o,u)}for(a=0;a<e.metricsTensors.length;++a){var c=e.metricsTensors[a][0],h=e.metricsTensors[a][1],p=mean(c(r[h],l[h]));keep(p),i.push(p)}return o=mean(o),e.calculateLosses().forEach(function(e){o=add(o,e)}),o},!0,a)].concat(i)}},t.prototype.makeTestFunction=function(){var e=this;this.testFunction=function(t){return tidy(function(){for(var n,r=[],i=t.slice(0,e.inputs.length),a=t.slice(e.inputs.length,e.inputs.length+e.outputs.length),o=[],s=0;s<e.inputs.length;++s)o.push({key:e.inputs[s],value:i[s]});var l=new FeedDict(o),u=execute(e.outputs,l);for(s=0;s<e.lossFunctions.length;++s){var c=e.lossFunctions[s],h=mean(c(a[s],u[s]));n=0===s?h:add(n,h),r.push(n)}for(s=0;s<e.metricsTensors.length;++s){var p=e.metricsTensors[s][0],d=e.metricsTensors[s][1],g=mean(p(a[d],u[d]));r.push(g)}return r})}},t.prototype.fit=function(e,t,n){return void 0===n&&(n={}),__awaiter(this,void 0,void 0,function(){return __generator(this,function(r){return[2,fitTensors(this,e,t,n)]})})},t.prototype.fitDataset=function(e,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){return[2,fitDataset(this,e,t)]})})},t.prototype.trainOnBatch=function(e,t){return __awaiter(this,void 0,void 0,function(){var n,r,i,a,o,s,l,u,c,h,p;return __generator(this,function(d){switch(d.label){case 0:n=this.standardizeUserData(e,t),r=n[0],i=n[1],a=this.makeTrainFunction(),o=a(r.concat(i)),s=[],l=0,u=o,d.label=1;case 1:return l<u.length?(c=u[l],p=(h=s).push,[4,c.data()]):[3,4];case 2:p.apply(h,[d.sent()[0]]),d.label=3;case 3:return l++,[3,1];case 4:return dispose(o),[2,singletonOrArray(s)]}})})},t.prototype.getNamedWeights=function(e){for(var t={},n=null!=e&&e.trainableOnly,r=n?this.trainableWeights:this.weights,i=this.getWeights(n),a=0;a<r.length;++a)n&&!r[a].trainable||(t[r[a].originalName]=i[a]);return t},Object.defineProperty(t.prototype,\"stopTraining\",{set:function(e){this.stopTraining_=e},enumerable:!0,configurable:!0}),t.prototype.save=function(e,t){return __awaiter(this,void 0,void 0,function(){var n,r,i,a,o;return __generator(this,function(s){switch(s.label){case 0:if(\"string\"==typeof e){if(0===(n=io.getSaveHandlers(e)).length)throw new ValueError(\"Cannot find any save handlers for URL '\"+e+\"'\");if(n.length>1)throw new ValueError(\"Found more than one (\"+n.length+\") save handlers for URL '\"+e+\"'\");e=n[0]}if(null==e.save)throw new ValueError(\"Model.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.\");return[4,io.encodeWeights(this.getNamedWeights(t))];case 1:return r=s.sent(),i=!1,a=null,o=this.toJSON(a,i),[2,e.save({modelTopology:o,weightData:r.data,weightSpecs:r.specs})]}})})},t.className=\"Model\",t}(Container);function modelFromJSON(e,t){return __awaiter(this,void 0,void 0,function(){var n,r,i,a,o,s,l,u,c,h;return __generator(this,function(p){switch(p.label){case 0:return\"modelTopology\"in e||(e={modelTopology:e}),null!=(n=(e=e).modelTopology).model_config&&(n=n.model_config),r=convertPythonicToTs(n),i=deserialize(r,t),null==e.weightsManifest?[3,2]:[4,io.loadWeights(e.weightsManifest,e.pathPrefix,i.weights.map(function(e){return e.originalName}))];case 1:for(a=p.sent(),o={},s=0,l=i.weights;s<l.length;s++)u=l[s],o[u.originalName]=a[u.originalName];c=null,h=!0,i.loadWeights(o,c,h),p.label=2;case 2:return[2,i]}})})}function loadModelInternal(e,t){return void 0===t&&(t=!0),__awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(r){if(\"string\"==typeof e){if(0===(n=io.getLoadHandlers(e)).length)n.push(io.browserHTTPRequest(e));else if(n.length>1)throw new ValueError(\"Found more than one (\"+n.length+\") load handlers for URL '\"+e+\"'\");e=n[0]}return[2,loadModelFromIOHandler(e,void 0,t)]})})}function loadModelFromIOHandler(e,t,n){return void 0===n&&(n=!0),__awaiter(this,void 0,void 0,function(){var r,i,a,o,s,l;return __generator(this,function(u){switch(u.label){case 0:if(null==e.load)throw new ValueError(\"Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.\");return[4,e.load()];case 1:if(r=u.sent(),null!=(i=r.modelTopology).model_config&&(i=i.model_config),a=null!=r.weightData&&null!=r.weightSpecs&&n,o=deserialize(convertPythonicToTs(i),t,a),null!=r.weightData){if(null==r.weightSpecs)throw new ValueError(\"Model artifacts contains weight data, but not weight specs. Therefore loading of weights cannot proceed.\");s=!1,l=!0,o.loadWeights(io.decodeWeights(r.weightData,r.weightSpecs),s,l,n)}return[2,o]}})})}serialization.registerClass(Model);var Sequential=function(e){function t(t){var n=e.call(this,{inputs:[],outputs:[]})||this;if(t=t||{},n.trainable=!0,n._updatable=!0,n.built=!1,n.name=null!=t.name?t.name:getUid(\"sequential_\"),null!=t.layers)for(var r=0,i=t.layers;r<i.length;r++){var a=i[r];n.add(a)}return n}return __extends(t,e),t.prototype.checkShape=function(e){if(e.inboundNodes[0].outputTensors[0].shape.some(function(e){return e<0}))throw new ValueError(\"Negative dimension size caused by adding layer \"+e.name+\" with input shape [\"+e.inboundNodes[0].inputTensors[0].shape+\"]\")},t.prototype.add=function(e){var n,r=e instanceof t||e instanceof Model;if(r){if(1!==(n=e).outputs.length)throw new ValueError(\"All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.\");if(1!==n.inputs.length)throw new ValueError(\"All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.\")}if(0===this.outputs.length){if(0===e.inboundNodes.length){if(null==e.batchInputShape)throw new ValueError(\"The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.\");var i=Input({batchShape:e.batchInputShape,dtype:e.dtype,name:e.name+\"_input\"});e.apply(i)}if(r)this.outputs=n.outputs,this.inputs=n.inputs;else{if(1!==e.inboundNodes.length)throw new ValueError(\"A layer added to a Sequential model must not already be connected somewhere else. Model received layer \"+e.name+\" which has \"+e.inboundNodes.length+\" pre-existing inbound connections.\");if(1!==e.inboundNodes[0].outputTensors.length)throw new ValueError(\"All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.\");this.checkShape(e),this.outputs=[e.inboundNodes[0].outputTensors[0]],this.inputs=getSourceInputs(this.outputs[0])}this.inboundNodes=[],new Node({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:pyListRepeat(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map(function(e){return e.shape}),outputShapes:this.outputs[0].shape})}else{var a=e.apply(this.outputs[0]);if(Array.isArray(a))throw new TypeError(\"All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.\");this.checkShape(e),this.outputs=[a],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(e),this.built=!1},t.prototype.pop=function(){if(0===this.layers.length)throw new TypeError(\"There are no layers in the model.\");if(this.layers.pop(),0===this.layers.length)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{var e=this.layers.length-1;this.layers[e].outboundNodes=[],this.outputs=[this.layers[e].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}},t.prototype.call=function(e,t){return null==this.model&&this.build(),this.model.call(e,t)},t.prototype.build=function(e){if(getExactlyOneShape(e),0===this.inputs.length||0===this.outputs.length)throw new TypeError(\"Sequential model cannot be built: model is empty. Add some layers first.\");this.model=new Model({inputs:this.inputs,outputs:this.outputs[0],name:this.name+\"_model\"}),this.model.trainable=this.trainable,this.model.updatable=this.updatable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0},t.prototype.countParams=function(){return this.built||this.build(),e.prototype.countParams.call(this)},t.prototype.summary=function(t,n,r){void 0===r&&(r=console.log),this.built||this.build(),e.prototype.summary.call(this,t,n,r)},t.prototype.setWeights=function(e){null==this.model&&this.build(),this.model.setWeights(e)},Object.defineProperty(t.prototype,\"updatable\",{get:function(){return this._updatable},set:function(e){this.built&&(this.model.updatable=e),this._updatable=e},enumerable:!0,configurable:!0}),t.prototype.evaluate=function(e,t,n){if(void 0===n&&(n={}),!this.built)throw new RuntimeError(\"The model needs to be compiled before being used.\");return this.model.evaluate(e,t,n)},t.prototype.evaluateDataset=function(e,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){if(!this.built)throw new RuntimeError(\"The model needs to be compiled before being used.\");return[2,this.model.evaluateDataset(e,t)]})})},t.prototype.predict=function(e,t){return void 0===t&&(t={}),null==this.model&&this.build(),this.model.predict(e,t)},t.prototype.predictOnBatch=function(e){return null==this.model&&this.build(),this.model.predictOnBatch(e)},t.prototype.compile=function(e){this.build(),this.model.compile(e),this.optimizer=this.model.optimizer,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames},t.prototype.fit=function(e,t,n){return void 0===n&&(n={}),__awaiter(this,void 0,void 0,function(){return __generator(this,function(r){if(!this.built)throw new RuntimeError(\"The model needs to be compiled before being used.\");return[2,this.model.fit(e,t,n)]})})},t.prototype.fitDataset=function(e,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){if(!this.built)throw new RuntimeError(\"The model needs to be compiled before being used.\");return[2,this.model.fitDataset(e,t)]})})},t.prototype.trainOnBatch=function(e,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){return[2,this.model.trainOnBatch(e,t)]})})},t.fromConfig=function(e,n,r,i){var a;void 0===r&&(r={}),void 0===i&&(i=!1);var o={};if(n instanceof Array){if(null==n[0].className||\"Merge\"===n[0].className)throw new ValueError(\"Legacy serialization format not supported yet.\");a=n}else util.assert(null!=n.layers,\"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field.\"),a=n.layers,delete n.layers,o=n;var s=new e(o);if(!(s instanceof t))throw new NotImplementedError(\"Sequential.fromConfig called on non-Sequential input: \"+s);for(var l=0,u=a;l<u.length;l++){var c=deserialize(u[l],void 0,i);i&&c.setFastWeightInitDuringBuild(!0),s.add(c)}return s},Object.defineProperty(t.prototype,\"stopTraining\",{set:function(e){this.model.stopTraining=e},enumerable:!0,configurable:!0}),t.prototype.getConfig=function(){for(var e=[],t=0,n=this.layers;t<n.length;t++){var r=n[t];e.push({className:r.getClassName(),config:r.getConfig()})}return e},t.className=\"Sequential\",t}(Model);function model(e){return new Model(e)}function sequential(e){return new Sequential(e)}function loadModel(e,t){return void 0===t&&(t=!0),loadModelInternal(e,t)}function input(e){return Input(e)}function registerCallbackConstructor(e,t){CallbackConstructorRegistry.registerCallbackConstructor(e,t)}serialization.registerClass(Sequential);var Activation=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getConfig=function(){return{}},t}(serialization.Serializable),Elu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.apply=function(e,t){return void 0===t&&(t=1),elu$1(e,t)},t.className=\"elu\",t}(Activation);serialization.registerClass(Elu);var Selu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.apply=function(e){return selu(e)},t.className=\"selu\",t}(Activation);serialization.registerClass(Selu);var Relu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.apply=function(e){return relu(e)},t.className=\"relu\",t}(Activation);serialization.registerClass(Relu);var Relu6=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.apply=function(e){return tidy(function(){return minimum(getScalar(6),relu(e))})},t.className=\"relu6\",t}(Activation);serialization.registerClass(Relu6);var Linear=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.apply=function(e){return e},t.className=\"linear\",t}(Activation);serialization.registerClass(Linear);var Sigmoid=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.apply=function(e){return sigmoid(e)},t.className=\"sigmoid\",t}(Activation);serialization.registerClass(Sigmoid);var HardSigmoid=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.apply=function(e){return hardSigmoid(e)},t.className=\"hardSigmoid\",t}(Activation);serialization.registerClass(HardSigmoid);var Softplus=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.apply=function(e){return softplus(e)},t.className=\"softplus\",t}(Activation);serialization.registerClass(Softplus);var Softsign=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.apply=function(e){return softsign(e)},t.className=\"softsign\",t}(Activation);serialization.registerClass(Softsign);var Tanh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.apply=function(e){return tanh(e)},t.className=\"tanh\",t}(Activation);serialization.registerClass(Tanh);var Softmax=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.apply=function(e,t){return void 0===t&&(t=-1),softmax(e,t)},t.className=\"softmax\",t}(Activation);function serializeActivation(e){return e.getClassName()}function deserializeActivation(e,t){return void 0===t&&(t={}),deserializeKerasObject(e,serialization.SerializationMap.getMap().classNameMap,t,\"activation\")}function getActivation(e){return null==e?deserializeActivation({className:\"linear\",config:{}}):\"string\"==typeof e?deserializeActivation({className:e,config:{}}):e instanceof Activation?e:deserializeActivation(e)}serialization.registerClass(Softmax);var Regularizer=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(serialization.Serializable),L1L2=function(e){function t(t){var n=e.call(this)||this,r=null==t||null==t.l1?.01:t.l1,i=null==t||null==t.l2?.01:t.l2;return n.hasL1=0!==r,n.hasL2=0!==i,n.l1=getScalar(r),n.l2=getScalar(i),n}return __extends(t,e),t.prototype.apply=function(e){var t=this;return tidy(function(){var n=zeros([1]);return t.hasL1&&(n=add(n,sum(mul(t.l1,abs(e))))),t.hasL2&&(n=add(n,sum(mul(t.l2,square(e))))),n.asScalar()})},t.prototype.getConfig=function(){return{l1:this.l1.dataSync()[0],l2:this.l2.dataSync()[0]}},t.fromConfig=function(e,t){return new e({l1:t.l1,l2:t.l2})},t.className=\"L1L2\",t}(Regularizer);function l1(e){return new L1L2({l1:null!=e?e.l1:null,l2:0})}function l2(e){return new L1L2({l2:null!=e?e.l2:null,l1:0})}serialization.registerClass(L1L2);var REGULARIZER_IDENTIFIER_REGISTRY_SYMBOL_MAP={l1l2:\"L1L2\"};function serializeRegularizer(e){return serializeKerasObject(e)}function deserializeRegularizer(e,t){return void 0===t&&(t={}),deserializeKerasObject(e,serialization.SerializationMap.getMap().classNameMap,t,\"regularizer\")}function getRegularizer(e){return null==e?null:\"string\"==typeof e?deserializeRegularizer({className:e in REGULARIZER_IDENTIFIER_REGISTRY_SYMBOL_MAP?REGULARIZER_IDENTIFIER_REGISTRY_SYMBOL_MAP[e]:e,config:{}}):e instanceof Regularizer?e:deserializeRegularizer(e)}var ReLU=function(e){function t(t){var n=e.call(this,null==t?{}:t)||this;return n.supportsMasking=!0,null!=t&&(n.maxValue=t.maxValue),n}return __extends(t,e),t.prototype.call=function(e,t){e=getExactlyOneTensor(e);var n=relu(e);return null!=this.maxValue&&(n=clipByValue(n,0,this.maxValue)),n},t.prototype.computeOutputShape=function(e){return e},t.prototype.getConfig=function(){var t={maxValue:this.maxValue},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className=\"ReLU\",t}(Layer);serialization.registerClass(ReLU);var LeakyReLU=function(e){function t(t){var n=e.call(this,null==t?{}:t)||this;return n.DEFAULT_ALPHA=.3,null==t&&(t={}),n.alpha=null==t.alpha?n.DEFAULT_ALPHA:t.alpha,n}return __extends(t,e),t.prototype.call=function(e,t){var n=getExactlyOneTensor(e);return leakyRelu(n,this.alpha)},t.prototype.computeOutputShape=function(e){return e},t.prototype.getConfig=function(){var t={alpha:this.alpha},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className=\"LeakyReLU\",t}(Layer);serialization.registerClass(LeakyReLU);var PReLU=function(e){function t(t){var n=e.call(this,null==t?{}:t)||this;if(n.DEFAULT_ALPHA_INITIALIZER=\"zeros\",null==t&&(t={}),n.supportsMasking=!0,n.alphaInitializer=getInitializer(t.alphaInitializer||n.DEFAULT_ALPHA_INITIALIZER),n.alphaRegularizer=getRegularizer(t.alphaRegularizer),n.alphaConstraint=getConstraint(t.alphaConstraint),null==t.sharedAxes)n.sharedAxes=null;else if(Array.isArray(t.sharedAxes))n.sharedAxes=t.sharedAxes;else{if(\"number\"!=typeof t.sharedAxes)throw new ValueError(\"Expected sharedAxes to be a number or an array of numbers, but got \"+t.sharedAxes);n.sharedAxes=[t.sharedAxes]}return n}return __extends(t,e),t.prototype.build=function(e){var t=(e=getExactlyOneShape(e)).slice(1);if(null!=this.sharedAxes)for(var n=0,r=this.sharedAxes;n<r.length;n++){t[(a=r[n])-1]=1}this.alpha=this.addWeight(\"alpha\",t,\"float32\",this.alphaInitializer,this.alphaRegularizer,!0,this.alphaConstraint);var i={};if(null!=this.sharedAxes)for(var a=1;a<e.length;++a)i[a]=e[a];this.inputSpec=[new InputSpec({ndim:e.length,axes:i})],this.built=!0},t.prototype.call=function(e,t){return e=getExactlyOneTensor(e),prelu(e,this.alpha.read())},t.prototype.getConfig=function(){var t={alphaInitializer:serializeInitializer(this.alphaInitializer),alphaRegularizer:serializeRegularizer(this.alphaRegularizer),alphaConstraint:serializeConstraint(this.alphaConstraint),sharedAxes:this.sharedAxes},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className=\"PReLU\",t}(Layer);serialization.registerClass(PReLU);var ELU=function(e){function t(t){var n=e.call(this,null==t?{}:t)||this;if(n.DEFAULT_ALPHA=1,null==t&&(t={}),null!=t.alpha&&t.alpha!==n.DEFAULT_ALPHA)throw new NotImplementedError(\"Non-default alpha value (\"+t.alpha+\") is not supported by the ELU layer yet.\");return n.alpha=null==t.alpha?n.DEFAULT_ALPHA:t.alpha,n}return __extends(t,e),t.prototype.call=function(e,t){var n=getExactlyOneTensor(e);return elu(n)},t.prototype.computeOutputShape=function(e){return e},t.prototype.getConfig=function(){var t={alpha:this.alpha},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className=\"ELU\",t}(Layer);serialization.registerClass(ELU);var ThresholdedReLU=function(e){function t(t){var n=e.call(this,null==t?{}:t)||this;return n.DEFAULT_THETA=1,null==t&&(t={}),n.theta=null==t.theta?n.DEFAULT_THETA:t.theta,n.thetaTensor=getScalar(n.theta),n}return __extends(t,e),t.prototype.call=function(e,t){var n=getExactlyOneTensor(e);return n.mul(cast$1(n.greater(this.thetaTensor),\"float32\"))},t.prototype.computeOutputShape=function(e){return e},t.prototype.getConfig=function(){var t={theta:this.theta},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className=\"ThresholdedReLU\",t}(Layer);serialization.registerClass(ThresholdedReLU);var Softmax$1=function(e){function t(t){var n=e.call(this,null==t?{}:t)||this;return n.DEFAULT_AXIS=1,null==t&&(t={}),n.softmax=(new Softmax).apply,n.axis=null==t.axis?n.DEFAULT_AXIS:t.axis,n}return __extends(t,e),t.prototype.call=function(e,t){var n=getExactlyOneTensor(e);return this.softmax(n,this.axis)},t.prototype.computeOutputShape=function(e){return e},t.prototype.getConfig=function(){var t={axis:this.axis},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className=\"Softmax\",t}(Layer);function normalizeArray(e,t,n){if(\"number\"==typeof e)return pyListRepeat(e,t);if(e.length!==t)throw new ValueError(\"The \"+n+\" argument must be a tuple of \"+t+\" integers. Received: \"+e.length+\" elements.\");for(var r=0;r<t;++r){var i=e[r];if(!isInteger(i))throw new ValueError(\"The \"+n+\" argument must be a tuple of \"+t+\" integers. Received: \"+JSON.stringify(e)+\" including a non-integer number \"+i)}return e}function convOutputLength(e,t,n,r,i){return void 0===i&&(i=1),null==e?e:(a=\"same\"===n?e:e-(t+(t-1)*(i-1))+1,Math.floor((a+r-1)/r));var a}function deconvLength(e,t,n,r){if(null==e)return null;if(\"valid\"===r)e=e*t+max$1([n-t,0]);else{if(\"same\"!==r)throw new ValueError(\"Unsupport padding mode: \"+r+\".\");e*=t}return e}function preprocessConv2DInput(e,t){return tidy(function(){return checkDataFormat(t),\"channelsFirst\"===t?transpose(e,[0,2,3,1]):e})}function conv1dWithBias(e,t,n,r,i,a,o){return void 0===r&&(r=1),void 0===i&&(i=\"valid\"),void 0===o&&(o=1),tidy(function(){if(null==a&&(a=imageDataFormat()),checkDataFormat(a),3!==e.shape.length)throw new ValueError(\"The input of a conv1dWithBias operation should be 3, but is \"+e.shape.length+\" instead.\");if(3!==t.shape.length)throw new ValueError(\"The kernel for a conv1dWithBias operation should be 3, but is \"+t.shape.length+\" instead\");if(null!=n&&1!==n.shape.length)throw new ValueError(\"The bias for a conv1dWithBias operation should be 1, but is \"+t.shape.length+\" instead\");if(\"channelsFirst\"===a&&(e=transpose(e,[0,2,1])),\"causal\"===i)throw new NotImplementedError(\"The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.\");var s=conv1d(e,t,r,\"same\"===i?\"same\":\"valid\",\"NWC\",o);return null!=n&&(s=biasAdd(s,n)),s})}function conv2dWithBias(e,t,n,r,i,a,o){return void 0===r&&(r=[1,1]),void 0===i&&(i=\"valid\"),tidy(function(){if(null==a&&(a=imageDataFormat()),checkDataFormat(a),3!==e.rank&&4!==e.rank)throw new ValueError(\"conv2dWithBias expects input to be of rank 3 or 4, but received \"+e.rank+\".\");if(3!==t.rank&&4!==t.rank)throw new ValueError(\"conv2dWithBias expects kernel to be of rank 3 or 4, but received \"+e.rank+\".\");var s=preprocessConv2DInput(e,a);if(\"causal\"===i)throw new NotImplementedError(\"The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.\");return s=conv2d(s,t,r,\"same\"===i?\"same\":\"valid\",\"NHWC\",o),null!=n&&(s=biasAdd(s,n)),\"channelsFirst\"===a&&(s=transpose(s,[0,3,1,2])),s})}serialization.registerClass(Softmax$1);var BaseConv=function(e){function t(n,r){var i=e.call(this,r)||this;if(i.bias=null,i.DEFAULT_KERNEL_INITIALIZER=\"glorotNormal\",i.DEFAULT_BIAS_INITIALIZER=\"zeros\",t.verifyArgs(r),i.rank=n,1!==i.rank&&2!==i.rank)throw new NotImplementedError(\"Convolution layer for rank other than 1 or 2 (\"+i.rank+\") is not implemented yet.\");if(i.kernelSize=normalizeArray(r.kernelSize,n,\"kernelSize\"),i.strides=normalizeArray(null==r.strides?1:r.strides,n,\"strides\"),i.padding=null==r.padding?\"valid\":r.padding,checkPaddingMode(i.padding),i.dataFormat=null==r.dataFormat?\"channelsLast\":r.dataFormat,checkDataFormat(i.dataFormat),i.activation=getActivation(r.activation),i.useBias=null==r.useBias||r.useBias,i.biasInitializer=getInitializer(r.biasInitializer||i.DEFAULT_BIAS_INITIALIZER),i.biasConstraint=getConstraint(r.biasConstraint),i.biasRegularizer=getRegularizer(r.biasRegularizer),i.activityRegularizer=getRegularizer(r.activityRegularizer),i.dilationRate=normalizeArray(null==r.dilationRate?1:r.dilationRate,n,\"dilationRate\"),1===i.rank&&Array.isArray(i.dilationRate)&&1!==i.dilationRate.length)throw new ValueError(\"dilationRate must be a number or an array of a single number for 1D convolution, but received \"+JSON.stringify(i.dilationRate));if(2===i.rank)if(\"number\"==typeof i.dilationRate)i.dilationRate=[i.dilationRate,i.dilationRate];else if(2!==i.dilationRate.length)throw new ValueError(\"dilationRate must be a number or array of two numbers for 2D convolution, but received \"+JSON.stringify(i.dilationRate));return i}return __extends(t,e),t.verifyArgs=function(e){if(assert(\"kernelSize\"in e,\"required key 'kernelSize' not in config\"),\"number\"!=typeof e.kernelSize&&!checkArrayTypeAndLength(e.kernelSize,\"number\",1,2))throw new ValueError(\"BaseConv expects config.kernelSize to be number or number[] with length 1 or 2, but received \"+JSON.stringify(e.kernelSize)+\".\")},t.prototype.getConfig=function(){var t={kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:serializeActivation(this.activation),useBias:this.useBias,biasInitializer:serializeInitializer(this.biasInitializer),biasRegularizer:serializeRegularizer(this.biasRegularizer),activityRegularizer:serializeRegularizer(this.activityRegularizer),biasConstraint:serializeConstraint(this.biasConstraint)},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t}(Layer),Conv=function(e){function t(n,r){var i=e.call(this,n,r)||this;return i.kernel=null,t.verifyArgs(r),i.filters=r.filters,i.kernelInitializer=getInitializer(r.kernelInitializer||i.DEFAULT_KERNEL_INITIALIZER),i.kernelConstraint=getConstraint(r.kernelConstraint),i.kernelRegularizer=getRegularizer(r.kernelRegularizer),i}return __extends(t,e),t.prototype.build=function(e){e=getExactlyOneShape(e);var t=\"channelsFirst\"===this.dataFormat?1:e.length-1;if(null==e[t])throw new ValueError(\"The channel dimension of the input should be defined. Found \"+e[t]);var n,r=e[t],i=this.kernelSize.concat([r,this.filters]);this.kernel=this.addWeight(\"kernel\",i,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight(\"bias\",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:(n={},n[t]=r,n)}],this.built=!0},t.prototype.call=function(e,t){var n=this;return tidy(function(){var t;e=getExactlyOneTensor(e);var r=null==n.bias?null:n.bias.read();if(1===n.rank)t=conv1dWithBias(e,n.kernel.read(),r,n.strides[0],n.padding,n.dataFormat,n.dilationRate[0]);else if(2===n.rank)t=conv2dWithBias(e,n.kernel.read(),r,n.strides,n.padding,n.dataFormat,n.dilationRate);else if(3===n.rank)throw new NotImplementedError(\"3D convolution is not implemented yet.\");return null!=n.activation&&(t=n.activation.apply(t)),t})},t.prototype.computeOutputShape=function(e){e=getExactlyOneShape(e);for(var t=[],n=\"channelsLast\"===this.dataFormat?e.slice(1,e.length-1):e.slice(2),r=0;r<n.length;++r){var i=convOutputLength(n[r],this.kernelSize[r],this.padding,this.strides[r],\"number\"==typeof this.dilationRate?this.dilationRate:this.dilationRate[r]);t.push(i)}var a=[e[0]];return\"channelsLast\"===this.dataFormat?(a=a.concat(t)).push(this.filters):(a.push(this.filters),a=a.concat(t)),a},t.prototype.getConfig=function(){var t={filters:this.filters,kernelInitializer:serializeInitializer(this.kernelInitializer),kernelRegularizer:serializeRegularizer(this.kernelRegularizer),kernelConstraint:serializeConstraint(this.kernelConstraint)},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.verifyArgs=function(e){if(!(\"filters\"in e)||\"number\"!=typeof e.filters||e.filters<1)throw new ValueError(\"Convolution layer expected config.filters to be a 'number' > 0 but got \"+JSON.stringify(e.filters))},t}(BaseConv),Conv2D=function(e){function t(n){var r=e.call(this,2,n)||this;return t.verifyArgs(n),r}return __extends(t,e),t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this);return delete t.rank,t},t.verifyArgs=function(e){if(\"number\"!=typeof e.kernelSize&&!checkArrayTypeAndLength(e.kernelSize,\"number\",1,2))throw new ValueError(\"Conv2D expects config.kernelSize to be number or number[] with length 1 or 2, but received \"+JSON.stringify(e.kernelSize)+\".\")},t.className=\"Conv2D\",t}(Conv);serialization.registerClass(Conv2D);var Conv2DTranspose=function(e){function t(t){var n=e.call(this,t)||this;if(n.inputSpec=[new InputSpec({ndim:4})],\"same\"!==n.padding&&\"valid\"!==n.padding)throw new ValueError(\"Conv2DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode \"+n.padding);return n}return __extends(t,e),t.prototype.build=function(e){if(4!==(e=getExactlyOneShape(e)).length)throw new ValueError(\"Input should have rank 4; Received input shape: \"+JSON.stringify(e));var t=\"channelsFirst\"===this.dataFormat?1:e.length-1;if(null==e[t])throw new ValueError(\"The channel dimension of the inputs should be defined. Found `None`.\");var n,r=e[t],i=this.kernelSize.concat([this.filters,r]);this.kernel=this.addWeight(\"kernel\",i,\"float32\",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight(\"bias\",[this.filters],\"float32\",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new InputSpec({ndim:4,axes:(n={},n[t]=r,n)})],this.built=!0},t.prototype.call=function(e,t){var n=this;return tidy(function(){var t=getExactlyOneTensor(e);if(4!==t.shape.length)throw new ValueError(\"Conv2DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-\"+t.shape.length);var r,i,a=t.shape,o=a[0];\"channelsFirst\"===n.dataFormat?(r=2,i=3):(r=1,i=2);var s=a[r],l=a[i],u=n.kernelSize[0],c=n.kernelSize[1],h=n.strides[0],p=n.strides[1],d=[o,deconvLength(s,h,u,n.padding),deconvLength(l,p,c,n.padding),n.filters];\"channelsLast\"!==n.dataFormat&&(t=transpose(t,[0,2,3,1]));var g=conv2dTranspose(t,n.kernel.read(),d,n.strides,n.padding);return\"channelsLast\"!==n.dataFormat&&(g=transpose(g,[0,3,1,2])),null!=n.bias&&(g=biasAdd(g,n.bias.read(),n.dataFormat)),null!=n.activation&&(g=n.activation.apply(g)),g})},t.prototype.computeOutputShape=function(e){var t,n,r,i=(e=getExactlyOneShape(e)).slice();\"channelsFirst\"===this.dataFormat?(t=1,n=2,r=3):(t=3,n=1,r=2);var a=this.kernelSize[0],o=this.kernelSize[1],s=this.strides[0],l=this.strides[1];return i[t]=this.filters,i[n]=deconvLength(i[n],s,a,this.padding),i[r]=deconvLength(i[r],l,o,this.padding),i},t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this);return delete t.dilationRate,t},t.className=\"Conv2DTranspose\",t}(Conv2D);serialization.registerClass(Conv2DTranspose);var SeparableConv=function(e){function t(t,n){var r=e.call(this,t,n)||this;if(r.DEFAULT_DEPTHWISE_INITIALIZER=\"glorotUniform\",r.DEFAULT_POINTWISE_INITIALIZER=\"glorotUniform\",r.depthwiseKernel=null,r.pointwiseKernel=null,null==n.filters)throw new ValueError(\"The `filters` configuration field is required by SeparableConv, but is unspecified.\");if(null!=n.kernelInitializer||null!=n.kernelRegularizer||null!=n.kernelConstraint)throw new ValueError(\"Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.\");if(null!=n.padding&&\"same\"!==n.padding&&\"valid\"!==n.padding)throw new ValueError(\"SeparableConv\"+r.rank+\"D supports only padding modes: 'same' and 'valid', but received \"+JSON.stringify(n.padding));return r.depthMultiplier=null==n.depthMultiplier?1:n.depthMultiplier,r.depthwiseInitializer=getInitializer(n.depthwiseInitializer||r.DEFAULT_DEPTHWISE_INITIALIZER),r.depthwiseRegularizer=getRegularizer(n.depthwiseRegularizer),r.depthwiseConstraint=getConstraint(n.depthwiseConstraint),r.pointwiseInitializer=getInitializer(n.depthwiseInitializer||r.DEFAULT_POINTWISE_INITIALIZER),r.pointwiseRegularizer=getRegularizer(n.pointwiseRegularizer),r.pointwiseConstraint=getConstraint(n.pointwiseConstraint),r}return __extends(t,e),t.prototype.build=function(e){if((e=getExactlyOneShape(e)).length<this.rank+2)throw new ValueError(\"Inputs to SeparableConv\"+this.rank+\"D should have rank \"+(this.rank+2)+\", but received input shape: \"+JSON.stringify(e));var t=\"channelsFirst\"===this.dataFormat?1:e.length-1;if(null==e[t]||e[t]<0)throw new ValueError(\"The channel dimension of the inputs should be defined, but found \"+JSON.stringify(e[t]));for(var n=e[t],r=this.kernelSize.concat([n,this.depthMultiplier]),i=[],a=0;a<this.rank;++a)i.push(1);i.push(n*this.depthMultiplier,this.filters);var o;this.depthwiseKernel=this.addWeight(\"depthwise_kernel\",r,\"float32\",this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight(\"pointwise_kernel\",i,\"float32\",this.pointwiseInitializer,this.pointwiseRegularizer,!0,this.pointwiseConstraint),this.useBias?this.bias=this.addWeight(\"bias\",[this.filters],\"float32\",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.inputSpec=[new InputSpec({ndim:this.rank+2,axes:(o={},o[t]=n,o)})],this.built=!0},t.prototype.call=function(e,t){var n=this;return tidy(function(){var t;if(e=getExactlyOneTensor(e),1===n.rank)throw new NotImplementedError(\"1D separable convolution is not implemented yet.\");return 2===n.rank&&(\"channelsFirst\"===n.dataFormat&&(e=transpose(e,[0,2,3,1])),t=separableConv2d(e,n.depthwiseKernel.read(),n.pointwiseKernel.read(),n.strides,n.padding,n.dilationRate,\"NHWC\")),n.useBias&&(t=biasAdd(t,n.bias.read(),n.dataFormat)),null!=n.activation&&(t=n.activation.apply(t)),\"channelsFirst\"===n.dataFormat&&(t=transpose(t,[0,3,1,2])),t})},t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this);return delete t.rank,delete t.kernelInitializer,delete t.kernelRegularizer,delete t.kernelConstraint,t.depthwiseInitializer=serializeInitializer(this.depthwiseInitializer),t.pointwiseInitializer=serializeInitializer(this.pointwiseInitializer),t.depthwiseRegularizer=serializeRegularizer(this.depthwiseRegularizer),t.pointwiseRegularizer=serializeRegularizer(this.pointwiseRegularizer),t.depthwiseConstraint=serializeConstraint(this.depthwiseConstraint),t.pointwiseConstraint=serializeConstraint(this.pointwiseConstraint),t},t.className=\"SeparableConv\",t}(Conv),SeparableConv2D=function(e){function t(t){return e.call(this,2,t)||this}return __extends(t,e),t.className=\"SeparableConv2D\",t}(SeparableConv);serialization.registerClass(SeparableConv2D);var Conv1D=function(e){function t(n){var r=e.call(this,1,n)||this;return t.verifyArgs(n),r.inputSpec=[{ndim:3}],r}return __extends(t,e),t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this);return delete t.rank,delete t.dataFormat,t},t.verifyArgs=function(e){if(\"number\"!=typeof e.kernelSize&&!checkArrayTypeAndLength(e.kernelSize,\"number\",1,1))throw new ValueError(\"Conv1D expects config.kernelSize to be number or number[] with length 1, but received \"+JSON.stringify(e.kernelSize)+\".\")},t.className=\"Conv1D\",t}(Conv);serialization.registerClass(Conv1D);var Cropping2D=function(e){function t(t){var n=e.call(this,t)||this;return\"number\"==typeof t.cropping?n.cropping=[[t.cropping,t.cropping],[t.cropping,t.cropping]]:\"number\"==typeof t.cropping[0]?n.cropping=[[t.cropping[0],t.cropping[0]],[t.cropping[1],t.cropping[1]]]:n.cropping=t.cropping,n.dataFormat=void 0===t.dataFormat?\"channelsLast\":t.dataFormat,n.inputSpec=[{ndim:4}],n}return __extends(t,e),t.prototype.computeOutputShape=function(e){return\"channelsFirst\"===this.dataFormat?[e[0],e[1],e[2]-this.cropping[0][0]-this.cropping[0][1],e[3]-this.cropping[1][0]-this.cropping[1][1]]:[e[0],e[1]-this.cropping[0][0]-this.cropping[0][1],e[2]-this.cropping[1][0]-this.cropping[1][1],e[3]]},t.prototype.call=function(e,t){var n=this;return tidy(function(){return e=getExactlyOneTensor(e),\"channelsLast\"===n.dataFormat?sliceAlongAxis(sliceAlongAxis(e,n.cropping[0][0],e.shape[1]-n.cropping[0][0]-n.cropping[0][1],2),n.cropping[1][0],e.shape[2]-n.cropping[1][1]-n.cropping[1][0],3):sliceAlongAxis(sliceAlongAxis(e,n.cropping[0][0],e.shape[2]-n.cropping[0][0]-n.cropping[0][1],3),n.cropping[1][0],e.shape[3]-n.cropping[1][1]-n.cropping[1][0],4)})},t.prototype.getConfig=function(){var t={cropping:this.cropping,dataFormat:this.dataFormat},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className=\"Cropping2D\",t}(Layer);serialization.registerClass(Cropping2D);var UpSampling2D=function(e){function t(t){var n=e.call(this,t)||this;return n.DEFAULT_SIZE=[2,2],n.inputSpec=[{ndim:4}],n.size=null==t.size?n.DEFAULT_SIZE:t.size,n.dataFormat=null==t.dataFormat?\"channelsLast\":t.dataFormat,n}return __extends(t,e),t.prototype.computeOutputShape=function(e){if(\"channelsFirst\"===this.dataFormat){var t=null==e[2]?null:this.size[0]*e[2],n=null==e[3]?null:this.size[1]*e[3];return[e[0],e[1],t,n]}t=null==e[1]?null:this.size[0]*e[1],n=null==e[2]?null:this.size[1]*e[2];return[e[0],t,n,e[3]]},t.prototype.call=function(e,t){var n=this;return tidy(function(){var t=getExactlyOneTensor(e),r=t.shape;if(\"channelsFirst\"===n.dataFormat){t=transpose(t,[0,2,3,1]);var i=n.size[0]*r[2],a=n.size[1]*r[3],o=t.resizeNearestNeighbor([i,a]);return transpose(o,[0,3,1,2])}i=n.size[0]*r[1],a=n.size[1]*r[2];return t.resizeNearestNeighbor([i,a])})},t.prototype.getConfig=function(){var t={size:this.size,dataFormat:this.dataFormat},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className=\"UpSampling2D\",t}(Layer);function depthwiseConv2d$1(e,t,n,r,i,a){return void 0===n&&(n=[1,1]),void 0===r&&(r=\"valid\"),tidy(function(){null==i&&(i=imageDataFormat()),checkDataFormat(i);var o=preprocessConv2DInput(e,i);if(4!==e.rank)throw new ValueError(\"Input for depthwiseConv2d is required to be 4-D, but is instead \"+e.rank+\"-D\");if(4!==t.rank)throw new ValueError(\"depthwiseKernel is required to be 4-D, but is instead \"+t.rank+\"-D\");return o=depthwiseConv2d(o,t,n,\"same\"===r?\"same\":\"valid\",\"NHWC\",a),\"channelsFirst\"===i&&(o=transpose(o,[0,3,1,2])),o})}serialization.registerClass(UpSampling2D);var DepthwiseConv2D=function(e){function t(t){var n=e.call(this,2,t)||this;return n.depthwiseKernel=null,n.depthMultiplier=null==t.depthMultiplier?1:t.depthMultiplier,n.depthwiseInitializer=getInitializer(t.depthwiseInitializer||n.DEFAULT_KERNEL_INITIALIZER),n.depthwiseConstraint=getConstraint(t.depthwiseConstraint),n.depthwiseRegularizer=getRegularizer(t.depthwiseRegularizer),n}return __extends(t,e),t.prototype.build=function(e){if((e=getExactlyOneShape(e)).length<4)throw new ValueError(\"Inputs to DepthwiseConv2D should have rank 4. Received input shape: \"+JSON.stringify(e)+\".\");var t=\"channelsFirst\"===this.dataFormat?1:3;if(null==e[t]||e[t]<0)throw new ValueError(\"The channel dimension of the inputs to DepthwiseConv2D should be defined, but is not (\"+e[t]+\").\");var n=e[t],r=[this.kernelSize[0],this.kernelSize[1],n,this.depthMultiplier];this.depthwiseKernel=this.addWeight(\"depthwise_kernel\",r,null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.useBias?this.bias=this.addWeight(\"bias\",[n*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0},t.prototype.call=function(e,t){var n=this;return tidy(function(){var t=depthwiseConv2d$1(e=getExactlyOneTensor(e),n.depthwiseKernel.read(),n.strides,n.padding,n.dataFormat,null);return n.useBias&&(t=biasAdd(t,n.bias.read(),n.dataFormat)),null!=n.activation&&(t=n.activation.apply(t)),t})},t.prototype.computeOutputShape=function(e){e=getExactlyOneShape(e);var t=\"channelsFirst\"===this.dataFormat?e[2]:e[1],n=\"channelsFirst\"===this.dataFormat?e[3]:e[2],r=\"channelsFirst\"===this.dataFormat?e[1]*this.depthMultiplier:e[3]*this.depthMultiplier,i=convOutputLength(t,this.kernelSize[0],this.padding,this.strides[0]),a=convOutputLength(n,this.kernelSize[1],this.padding,this.strides[1]);return\"channelsFirst\"===this.dataFormat?[e[0],r,i,a]:[e[0],i,a,r]},t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this);return t.depthMultiplier=this.depthMultiplier,t.depthwiseInitializer=serializeInitializer(this.depthwiseInitializer),t.depthwiseRegularizer=serializeRegularizer(this.depthwiseRegularizer),t.depthwiseConstraint=serializeConstraint(this.depthwiseRegularizer),t},t.className=\"DepthwiseConv2D\",t}(BaseConv);serialization.registerClass(DepthwiseConv2D);var Dropout=function(e){function t(t){var n=e.call(this,t)||this;if(n.rate=Math.max(Math.min(t.rate,1),0),n.rateScalar=getScalar(n.rate),n.noiseShape=t.noiseShape,n.seed=t.seed,null!=n.seed)throw new NotImplementedError(\"Non-default seed is not implemented in Dropout layer yet: \"+n.seed);return n.supportsMasking=!0,n}return __extends(t,e),t.prototype.getNoiseShape=function(e){if(null==this.noiseShape)return this.noiseShape;for(var t=e.shape,n=[],r=0;r<this.noiseShape.length;++r)n.push(null==this.noiseShape[r]?t[r]:this.noiseShape[r]);return n},t.prototype.call=function(e,t){var n=this;return tidy(function(){n.invokeCallHook(e,t);var r=getExactlyOneTensor(e);if(null!=n.noiseShape&&!util.arraysEqual(r.shape,n.noiseShape))throw new NotImplementedError(\"Non-default noise shape is not implemented in Dropout layer yet: \"+JSON.stringify(n.noiseShape));if(0<n.rate&&n.rate<1){var i=null!=t.training&&t.training,a=n.getNoiseShape(r);return inTrainPhase(function(){return dropout(r,n.rateScalar,a,n.seed)},function(){return r},i)}return e})},t.prototype.getConfig=function(){var t={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className=\"Dropout\",t}(Layer);serialization.registerClass(Dropout);var Dense=function(e){function t(t){var n=e.call(this,t)||this;if(n.activation=null,n.useBias=!0,n.kernel=null,n.bias=null,n.DEFAULT_KERNEL_INITIALIZER=\"glorotNormal\",n.DEFAULT_BIAS_INITIALIZER=\"zeros\",null==t.batchInputShape&&null==t.inputShape&&null!=t.inputDim){var r=null;null!=t.batchSize&&(r=t.batchSize),n.batchInputShape=[r,t.inputDim]}return n.units=t.units,n.activation=getActivation(t.activation),null!=t.useBias&&(n.useBias=t.useBias),n.kernelInitializer=getInitializer(t.kernelInitializer||n.DEFAULT_KERNEL_INITIALIZER),n.biasInitializer=getInitializer(t.biasInitializer||n.DEFAULT_BIAS_INITIALIZER),n.kernelConstraint=getConstraint(t.kernelConstraint),n.biasConstraint=getConstraint(t.biasConstraint),n.kernelRegularizer=getRegularizer(t.kernelRegularizer),n.biasRegularizer=getRegularizer(t.biasRegularizer),n.activityRegularizer=getRegularizer(t.activityRegularizer),n.supportsMasking=!0,n.inputSpec=[{minNDim:2}],n}return __extends(t,e),t.prototype.build=function(e){var t,n=(e=getExactlyOneShape(e))[e.length-1];null==this.kernel&&(this.kernel=this.addWeight(\"kernel\",[n,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight(\"bias\",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:(t={},t[-1]=n,t)}],this.built=!0},t.prototype.computeOutputShape=function(e){var t=(e=getExactlyOneShape(e)).slice();return t[t.length-1]=this.units,t},t.prototype.call=function(e,t){var n=this;return tidy(function(){n.invokeCallHook(e,t);var r=dot(getExactlyOneTensor(e),n.kernel.read());return null!=n.bias&&(r=biasAdd(r,n.bias.read())),null!=n.activation&&(r=n.activation.apply(r)),r})},t.prototype.getConfig=function(){var t={units:this.units,activation:serializeActivation(this.activation),useBias:this.useBias,kernelInitializer:serializeInitializer(this.kernelInitializer),biasInitializer:serializeInitializer(this.biasInitializer),kernelRegularizer:serializeRegularizer(this.kernelRegularizer),biasRegularizer:serializeRegularizer(this.biasRegularizer),activityRegularizer:serializeRegularizer(this.activityRegularizer),kernelConstraint:serializeConstraint(this.kernelConstraint),biasConstraint:serializeConstraint(this.biasConstraint)},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className=\"Dense\",t}(Layer);serialization.registerClass(Dense);var Flatten=function(e){function t(t){var n=e.call(this,t||{})||this;return n.inputSpec=[{minNDim:3}],n}return __extends(t,e),t.prototype.computeOutputShape=function(e){for(var t=0,n=(e=getExactlyOneShape(e)).slice(1);t<n.length;t++){if(null==n[t])throw new ValueError('The shape of the input to \"Flatten\" is not fully defined (got '+e.slice(1)+'). Make sure to pass a complete \"input_shape\" or \"batch_input_shape\" argument to the first layer in your model.')}return[e[0],arrayProd(e,1)]},t.prototype.call=function(e,t){var n=this;return tidy(function(){return n.invokeCallHook(e,t),batchFlatten(getExactlyOneTensor(e))})},t.className=\"Flatten\",t}(Layer);serialization.registerClass(Flatten);var Activation$1=function(e){function t(t){var n=e.call(this,t)||this;return n.supportsMasking=!0,n.activation=getActivation(t.activation),n}return __extends(t,e),t.prototype.call=function(e,t){var n=this;return tidy(function(){n.invokeCallHook(e,t);var r=getExactlyOneTensor(e);return n.activation.apply(r)})},t.prototype.getConfig=function(){var t={activation:serializeActivation(this.activation)},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className=\"Activation\",t}(Layer);serialization.registerClass(Activation$1);var RepeatVector=function(e){function t(t){var n=e.call(this,t)||this;return n.n=t.n,n.inputSpec=[{ndim:2}],n}return __extends(t,e),t.prototype.computeOutputShape=function(e){return[e[0],this.n,e[1]]},t.prototype.call=function(e,t){var n=this;return tidy(function(){return repeat(e=getExactlyOneTensor(e),n.n)})},t.prototype.getConfig=function(){var t={n:this.n},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className=\"RepeatVector\",t}(Layer);serialization.registerClass(RepeatVector);var Reshape=function(e){function t(t){var n=e.call(this,t)||this;n.targetShape=t.targetShape;for(var r=0;r<n.targetShape.length;++r)n.isUnknown(n.targetShape[r])&&(n.targetShape[r]=null);return n}return __extends(t,e),t.prototype.isUnknown=function(e){return e<0||null==e},t.prototype.fixUnknownDimension=function(e,t){for(var n=\"Total size of new array must be unchanged.\",r=t.slice(),i=1,a=null,o=0;o<r.length;++o){var s=r[o];if(this.isUnknown(s)){if(null!==a)throw new ValueError(\"Can only specifiy one unknown dimension.\");a=o}else i*=s}var l=arrayProd(e);if(null!==a){if(0===i||l%i!=0)throw new ValueError(n);r[a]=l/i}else if(l!==i)throw new ValueError(n);return r},t.prototype.computeOutputShape=function(e){for(var t=!1,n=0;n<e.length;++n)if(this.isUnknown(e[n])){t=!0;break}return t?e.slice(0,1).concat(this.targetShape):e.slice(0,1).concat(this.fixUnknownDimension(e.slice(1),this.targetShape))},t.prototype.call=function(e,t){var n=this;return tidy(function(){n.invokeCallHook(e,t);var r=getExactlyOneTensor(e),i=r.shape,a=i.slice(0,1).concat(n.fixUnknownDimension(i.slice(1),n.targetShape));return r.reshape(a)})},t.prototype.getConfig=function(){var t={targetShape:this.targetShape},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className=\"Reshape\",t}(Layer);serialization.registerClass(Reshape);var Permute=function(e){function t(t){var n=e.call(this,t)||this;if(null==t.dims)throw new Error(\"Required configuration field `dims` is missing during Permute constructor call.\");if(!Array.isArray(t.dims))throw new Error(\"Permute constructor requires `dims` to be an Array, but received \"+t.dims+\" instead.\");var r=range(1,t.dims.length+1);if(!util.arraysEqual(t.dims.slice().sort(),r))throw new Error(\"Invalid permutation `dims`: \"+JSON.stringify(t.dims)+\" `dims` must contain consecutive integers starting from 1.\");return n.dims=t.dims,n.dimsIncludingBatch=[0].concat(n.dims),n.inputSpec=[new InputSpec({ndim:n.dims.length+1})],n}return __extends(t,e),t.prototype.computeOutputShape=function(e){var t=(e=getExactlyOneShape(e)).slice();return this.dims.forEach(function(n,r){t[r+1]=e[n]}),t},t.prototype.call=function(e,t){return transpose(getExactlyOneTensor(e),this.dimsIncludingBatch)},t.prototype.getConfig=function(){var t={dims:this.dims},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className=\"Permute\",t}(Layer);serialization.registerClass(Permute);var Embedding=function(e){function t(t){var n=e.call(this,t)||this;if(n.embeddings=null,n.DEFAULT_EMBEDDINGS_INITIALIZER=\"randomUniform\",null==t.batchInputShape&&null==t.inputShape){var r=null;null!=t.batchSize&&(r=t.batchSize),null==t.inputLength?n.batchInputShape=[r,null]:n.batchInputShape=[r].concat(toList(t.inputLength))}return n.inputDim=t.inputDim,n.outputDim=t.outputDim,n.embeddingsInitializer=getInitializer(t.embeddingsInitializer||n.DEFAULT_EMBEDDINGS_INITIALIZER),n.embeddingsRegularizer=getRegularizer(t.embeddingsRegularizer),n.activityRegularizer=getRegularizer(t.activityRegularizer),n.embeddingsConstraint=getConstraint(t.embeddingsConstraint),n.maskZero=t.maskZero,n.supportsMasking=t.maskZero,n.inputLength=t.inputLength,n}return __extends(t,e),t.prototype.build=function(e){this.embeddings=this.addWeight(\"embeddings\",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0},t.prototype.warnOnIncompatibleInputShape=function(e){},t.prototype.computeMask=function(e,t){var n=this;return tidy(function(){return n.maskZero?(e=getExactlyOneTensor(e),notEqual(e,zerosLike(e))):null})},t.prototype.computeOutputShape=function(e){if(e=getExactlyOneShape(e),null==this.inputLength)return e.concat([this.outputDim]);var t=toList(this.inputLength);if(t.length!==e.length-1)throw new ValueError('\"inputLength\" is '+this.inputLength+\", but received input shape has shape \"+e);for(var n=0,r=0;r<t.length;++r){var i=t[r],a=e[r+1];if(null!=i&&null!=a&&i!==a)throw new ValueError('\"inputLength\" is '+this.inputLength+\", but received input shape has shape \"+e);null==i&&(t[n]=a),n++}return[e[0]].concat(t,[this.outputDim])},t.prototype.call=function(e,t){var n=this;return tidy(function(){n.invokeCallHook(e,t);var r=getExactlyOneTensor(e);return\"int32\"!==r.dtype&&(r=cast$1(r,\"int32\")),gather$1(n.embeddings.read(),r.as1D()).reshape(getExactlyOneShape(n.computeOutputShape(r.shape)))})},t.prototype.getConfig=function(){var t={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:serializeInitializer(this.embeddingsInitializer),embeddingsRegularizer:serializeRegularizer(this.embeddingsRegularizer),activityRegularizer:serializeRegularizer(this.activityRegularizer),embeddingsConstraint:serializeConstraint(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className=\"Embedding\",t}(Layer);serialization.registerClass(Embedding);var Merge=function(e){function t(t){var n=e.call(this,t||{})||this;return n.supportsMasking=!0,n}return __extends(t,e),t.prototype.mergeFunction=function(e){throw new NotImplementedError},t.prototype.computeElementwiseOpOutputShape=function(e,t){if(null==e||null==t)return null;if(e.length<t.length)return this.computeElementwiseOpOutputShape(t,e);if(0===t.length)return e;for(var n=e.slice(0,e.length-t.length),r=0;r<t.length;++r){var i=e[e.length-t.length+r],a=t[r];if(null==i||null==a||i<0||a<0)n.push(null);else if(1===i)n.push(a);else if(1===a)n.push(i);else{if(i!==a)throw new ValueError(\"Operands could not be broadcast together with shapes \"+JSON.stringify(e)+\" \"+JSON.stringify(t));n.push(i)}}return n},t.prototype.build=function(e){if(Array.isArray(e)&&!Array.isArray(e[0])&&(e=[getExactlyOneShape(e)]),(e=e).length<2)throw new ValueError(\"A merge layer should be called on an Array of at least 2 inputs. Got \"+e.length+\" input(s).\");for(var t=[],n=0,r=e;n<r.length;n++){null!=(o=r[n])&&null!==o[0]&&t.push(o[0])}if((t=unique(t)).length>1)throw new ValueError(\"Can not merge tensors with different batch sizes. Got tensors with shapes: \"+JSON.stringify(e)+\".\");for(var i=null==e[0]?null:e[0].slice(1),a=1;a<e.length;++a){var o=null==e[a]?null:e[a].slice(1);i=this.computeElementwiseOpOutputShape(i,o)}var s=e.map(function(e){return e.length});-1===e.indexOf(null)&&1===unique(s).length?this.reshapeRequired=!1:this.reshapeRequired=!0},t.prototype.call=function(e,t){var n=this;return tidy(function(){if(e=e,n.reshapeRequired){var t=[],r=e.map(function(e){return e.rank});if(-1===r.indexOf(null)){for(var i=max$1(r),a=0,o=e;a<o.length;a++){for(var s=(p=o[a]).rank,l=0;l<i-s;++l)p=expandDims$1(p,1);t.push(p)}return n.mergeFunction(t)}for(var u=!1,c=0,h=e;c<h.length;c++){var p;if(null==(s=(p=h[c]).rank)){var d=p.shape,g=d[0],f=d.slice(1).concat([g]),m=p.reshape([g].concat(arrayProd(d.slice(1))));m=(m=transpose(m,[1,0])).reshape(f),t.push(m),u=!0}else if(s>1){var y=range(1,s).concat([0]);t.push(transpose(p,y)),u=!0}else t.push(p)}var v=n.mergeFunction(t),b=v.rank;if(u)if(null==b){var w=v.shape;f=[g=w[w.length-1]].concat(w.slice(0,w.length-1));v=transpose(v.reshape([-1,g]),[1,0]).reshape(f)}else if(b>1){y=[b-1].concat(range(0,b-1));v=transpose(v,y)}return v}return n.mergeFunction(e)})},t.prototype.computeOutputShape=function(e){var t;t=null==(e=e)[0]?null:e[0].slice(1);for(var n=1;n<e.length;++n){var r=null==e[n]?null:e[n].slice(1);t=this.computeElementwiseOpOutputShape(t,r)}for(var i=[],a=0,o=e;a<o.length;a++){null!=(r=o[a])&&null!==r[0]&&i.push(r[0])}return t=1===(i=unique(i)).length?i.concat(t):[null].concat(t)},t.prototype.computeMask=function(e,t){return tidy(function(){if(null==t)return null;if(!Array.isArray(t))throw new ValueError(\"`mask` should be an Array\");if(!Array.isArray(e))throw new ValueError(\"`inputs` should be an Array\");if(t.length!==e.length)throw new ValueError(\"The Array 'inputs' and 'mask' are expected to have the same length, but have different lengths (\"+e.length+\" vs \"+t.length+\")\");if(t.every(function(e){return null==e}))return null;for(var n=(t=t.map(function(e){return null==e?e:expandDims(e,0)}))[0],r=1;r<t.length-1;++r)n=logicalAnd(n,t[r]);return n})},t}(Layer),Add=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.mergeFunction=function(e){return tidy(function(){for(var t=e[0].clone(),n=1;n<e.length;++n)t=add(t,e[n]);return t})},t.className=\"Add\",t}(Merge);serialization.registerClass(Add);var Multiply=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.mergeFunction=function(e){return tidy(function(){for(var t=e[0].clone(),n=1;n<e.length;++n)t=mul(t,e[n]);return t})},t.className=\"Multiply\",t}(Merge);serialization.registerClass(Multiply);var Average=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.mergeFunction=function(e){return tidy(function(){for(var t=e[0].clone(),n=1;n<e.length;++n)t=add(t,e[n]);return mul(getScalar(1/e.length),t)})},t.className=\"Average\",t}(Merge);serialization.registerClass(Average);var Maximum=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.mergeFunction=function(e){return tidy(function(){for(var t=e[0],n=1;n<e.length;++n)t=maximum(t,e[n]);return t})},t.className=\"Maximum\",t}(Merge);serialization.registerClass(Maximum);var Minimum=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.mergeFunction=function(e){return tidy(function(){for(var t=e[0],n=1;n<e.length;++n)t=minimum(t,e[n]);return t})},t.className=\"Minimum\",t}(Merge);serialization.registerClass(Minimum);var Concatenate=function(e){function t(t){var n=e.call(this,t)||this;return n.DEFAULT_AXIS=-1,null==t&&(t={}),n.axis=null==t.axis?n.DEFAULT_AXIS:t.axis,n.supportsMasking=!0,n.reshapeRequired=!1,n}return __extends(t,e),t.prototype.build=function(e){if(!Array.isArray(e)||!Array.isArray(e[0])||1===e.length)throw new ValueError(\"A `Concatenate` layer should be called on a list of at least 2 inputs\");for(var t=!0,n=0,r=e=e;n<r.length;n++){if(null!=(c=r[n])){t=!1;break}}if(!t){for(var i=[],a=0;a<e.length;++a){var o=e[a].slice();o.splice(this.axis,1);for(var s=!1,l=0,u=i;l<u.length;l++){var c=u[l];if(util.arraysEqual(c,o)){s=!0;break}}s||i.push(o)}if(i.length>1)throw new ValueError(\"A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: \"+JSON.stringify(e))}},t.prototype.mergeFunction=function(e){var t=this;return tidy(function(){return concatenate(e,t.axis)})},t.prototype.computeOutputShape=function(e){if(!Array.isArray(e)||!Array.isArray(e[0]))throw new ValueError(\"A `Concatenate` layer should be called on a list of inputs.\");for(var t=e,n=t[0].slice(),r=this.axis<0?n.length+this.axis:this.axis,i=0,a=t.slice(1);i<a.length;i++){var o=a[i];if(null==n[r]||null==o[r]){n[r]=null;break}n[r]+=o[r]}return n},t.prototype.computeMask=function(e,t){var n=this;if(null==t)return null;if(!Array.isArray(t))throw new ValueError(\"`mask` should be an array for Concatenate\");if(!Array.isArray(e))throw new ValueError(\"`inputs` should be an array for Concatenate\");if(t.length!==e.length)throw new ValueError(\"Mismatch in the length of mask (\"+t.length+\") and the legnth of inputs (\"+e.length+\")\");return tidy(function(){var r=!0;if(t.forEach(function(e){null==e||(r=!1)}),r)return null;for(var i=[],a=0;a<e.length;++a)null==t[a]?i.push(onesLike(e[a]).asType(\"bool\")):t[a].rank<e[a].rank?i.push(expandDims(t[a],-1)):i.push(t[a]);var o=concat(i,n.axis);return all(o,-1,!1)})},t.prototype.getConfig=function(){var t={axis:this.axis},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className=\"Concatenate\",t}(Merge);function interpretAxis(e,t){for(;e<0;)e+=t;return e}function batchDot(e,t,n){if(e.shape.length>3||t.shape.length>3)throw new NotImplementedError(\"batchDot is not implemented for tensors of 4D or higher rank yet\");if(util.assert(e.shape.length>=2,\"batchDot requires the rank of x to be >= 2, but got \"+e.shape.length),util.assert(e.shape.length>=2,\"batchDot requires the rank of y to be >= 2, but got \"+t.shape.length),\"number\"==typeof n&&(n=[n,n]),\"complex64\"===e.dtype||\"complex64\"===t.dtype)throw new NotImplementedError(\"batchDot is not implemented for complex64-type Tensors yet.\");var r=e.shape.length,i=t.shape.length;null==n&&(n=[r-1,i-2]);var a=n;return tidy(function(){var n,o;if(r>i){n=r-i;for(var s=[],l=0;l<n;++l)s.push(1);t=t.reshape(t.shape.concat(s))}else if(i>r){n=i-r;for(s=[],l=0;l<n;++l)s.push(1);e=e.reshape(e.shape.concat(s))}else n=0;if(2===e.shape.length&&2===t.shape.length)o=a[0]===a[1]?e.mulStrict(t).sum(a[0]):e.transpose([1,0]).mulStrict(t).sum(a[1]);else{var u=a[0]!==e.shape.length-1||null,c=a[1]===t.shape.length-1||null;o=e.matMul(t,u,c)}if(n>0){var h=void 0,p=[];for(l=h=r>i?r+i-3:r-1;l<h+n;++l)p.push(l);o=o.squeeze(p)}return 1===o.shape.length&&(o=o.expandDims(1)),o})}serialization.registerClass(Concatenate);var Dot=function(e){function t(t){var n=e.call(this,t)||this;return n.axes=t.axes,n.normalize=null!=t.normalize&&t.normalize,n.supportsMasking=!0,n.reshapeRequired=!1,n}return __extends(t,e),t.prototype.build=function(e){util.assert(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),\"A `Dot` layer should be called on a list of exactly 2 inputs.\");var t=e[0],n=e[1];if(t.length>3||n.length>3)throw new NotImplementedError(\"Dot layer does not support tensors of 4D or higher rank yet.\");var r=this.interpretAxes(t,n);if(t[r[0]]!==n[r[1]])throw new ValueError(\"Dimension incompatibility: \"+t[r[0]]+\" !== \"+n[r[1]])},t.prototype.mergeFunction=function(e){if(2!==e.length)throw new ValueError(\"A `Dot` layer must be called on exactly 2 inputs, but received \"+e.length+\" input(s).\");var t,n=e[0],r=e[1];return t=Array.isArray(this.axes)?this.axes.map(function(t,n){return interpretAxis(t,e[n].shape.length)}):[interpretAxis(this.axes,n.shape.length),interpretAxis(this.axes,r.shape.length)],this.normalize&&(n=l2Normalize(n,t[0]),r=l2Normalize(r,t[1])),batchDot(n,r,t)},t.prototype.interpretAxes=function(e,t){return Array.isArray(this.axes)?this.axes:[interpretAxis(this.axes,e.length),interpretAxis(this.axes,t.length)]},t.prototype.computeOutputShape=function(e){util.assert(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),\"A `Dot` layer should be called on a list of exactly 2 inputs.\");var t=e[0].slice(),n=e[1].slice();if(t.length>3||n.length>3)throw new NotImplementedError(\"Dot layer does not support tensors of 4D or higher rank yet.\");var r=this.interpretAxes(t,n);t.splice(r[0],1),n.splice(r[1],1),n.splice(0,1);var i=t.concat(n);return 1===i.length&&i.push(1),i},t.prototype.computeMask=function(e,t){return null},t.prototype.getConfig=function(){var t={axes:this.axes,normalize:this.normalize},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className=\"Dot\",t}(Merge);function batchNormalization(e,t,n,r,i,a){var o;if(void 0===a&&(a=.001),2===e.rank)o=batchNormalization2d(e,t,n,a,i,r);else if(3===e.rank)o=batchNormalization3d(e,t,n,a,i,r);else{if(4!==e.rank)throw new NotImplementedError(\"batchNormalization is not implemented for array of rank \"+e.rank+\" yet\");o=batchNormalization4d(e,t,n,a,i,r)}return o}function regularNormalizeBatchInTraining(e,t,n,r,i){return void 0===i&&(i=.001),tidy(function(){var a=moments(e,r),o=a.mean,s=a.variance;return[batchNormalization(e,o,s,n,t,i),o,s]})}function broadcastNormalizeBatchInTraining(e,t,n,r,i){return void 0===i&&(i=.001),tidy(function(){for(var a=moments(e,r),o=a.mean,s=a.variance,l=[],u=0,c=range(0,e.rank);u<c.length;u++){var h=c[u];-1!==r.indexOf(h)?l.push(1):l.push(e.shape[h])}var p=o.reshape(l),d=s.reshape(l),g=null==t?null:t.reshape(l),f=null==n?null:n.reshape(l);return[batchNormalization(e,p,d,f,g,i),o,s]})}function normalizeBatchInTraining(e,t,n,r,i){return void 0===i&&(i=.001),util.arraysEqual(r.slice().sort(),range(0,e.rank-1))?regularNormalizeBatchInTraining(e,t,n,r,i):broadcastNormalizeBatchInTraining(e,t,n,r,i)}serialization.registerClass(Dot);var BatchNormalization=function(e){function t(t){var n=this;return null==t&&(t={}),(n=e.call(this,t)||this).supportsMasking=!0,n.axis=null==t.axis?-1:t.axis,n.momentum=null==t.momentum?.99:t.momentum,n.epsilon=null==t.epsilon?.001:t.epsilon,n.center=null==t.center||t.center,n.scale=null==t.scale||t.scale,n.betaInitializer=getInitializer(t.betaInitializer||\"zeros\"),n.gammaInitializer=getInitializer(t.gammaInitializer||\"ones\"),n.movingMeanInitializer=getInitializer(t.movingMeanInitializer||\"zeros\"),n.movingVarianceInitializer=getInitializer(t.movingVarianceInitializer||\"ones\"),n.betaConstraint=getConstraint(t.betaConstraint),n.gammaConstraint=getConstraint(t.gammaConstraint),n.betaRegularizer=getRegularizer(t.betaRegularizer),n.gammaRegularizer=getRegularizer(t.gammaRegularizer),n}return __extends(t,e),t.prototype.build=function(e){e=getExactlyOneShape(e);var t=this.axis>=0?this.axis:this.axis+e.length,n=e[t];if(null==n)throw new ValueError(\"Axis \"+t+\" of input tensor should have a defined dimension but the layer received an input with shape \"+JSON.stringify(e)+\".\");this.inputSpec=[new InputSpec({ndim:e.length,axes:(r={},r[t]=n,r)})];var r,i=[n];this.scale&&(this.gamma=this.addWeight(\"gamma\",i,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight(\"beta\",i,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight(\"moving_mean\",i,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight(\"moving_variance\",i,null,this.movingVarianceInitializer,null,!1),this.built=!0},t.prototype.call=function(e,t){var n=this;return tidy(function(){var r=null!=t.training&&t.training,i=getExactlyOneTensor(e),a=i.shape,o=a.length,s=range(0,o),l=n.axis>=0?n.axis:n.axis+o;s.splice(l,1);var u=pyListRepeat(1,o);u[l]=a[l];var c=s.slice();c.sort();var h=!util.arraysEqual(c,range(0,o).slice(0,o-1));if(!r)return function(){if(h){var e=n.movingMean.read().reshape(u),t=n.movingVariance.read().reshape(u),r=n.center?n.beta.read().reshape(u):null,a=n.scale?n.gamma.read().reshape(u):null;return batchNormalization(i,e,t,r,a,n.epsilon)}return batchNormalization(i,n.movingMean.read(),n.movingVariance.read(),null==n.beta?null:n.beta.read(),null==n.gamma?null:n.gamma.read(),n.epsilon)}();var p=normalizeBatchInTraining(i,n.gamma.read(),n.beta.read(),s,n.epsilon),d=p[0],g=p[1],f=p[2],m=function(e,t,n){tidy(function(){var r=getScalar(1).sub(getScalar(n)),i=e.read(),a=i.sub(t).mul(r);e.write(i.sub(a))})};return m(n.movingMean,g,n.momentum),m(n.movingVariance,f,n.momentum),d})},t.prototype.getConfig=function(){var t={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:serializeInitializer(this.betaInitializer),gammaInitializer:serializeInitializer(this.gammaInitializer),movingMeanInitializer:serializeInitializer(this.movingMeanInitializer),movingVarianceInitializer:serializeInitializer(this.movingVarianceInitializer),betaRegularizer:serializeRegularizer(this.betaRegularizer),gammaRegularizer:serializeRegularizer(this.gammaRegularizer),betaConstraint:serializeConstraint(this.betaConstraint),gammaConstraint:serializeConstraint(this.gammaConstraint)},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className=\"BatchNormalization\",t}(Layer);function spatial2dPadding(e,t,n){return tidy(function(){if(4!==e.rank)throw new ValueError(\"temporalPadding expects input tensor to be 4-D, but received a \"+e.rank+\"-D tensor.\");if(null==t&&(t=[[1,1],[1,1]]),2!==t.length||2!==t[0].length||2!==t[1].length)throw new ValueError(\"spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.\");if(null==n&&(n=imageDataFormat()),\"channelsLast\"!==n&&\"channelsFirst\"!==n)throw new ValueError(\"Unknown data format: \"+n+\". Supported data formats are 'channelsLast' and 'channelsFirst.\");var r;return r=\"channelsFirst\"===n?[[0,0],[0,0],t[0],t[1]]:[[0,0],t[0],t[1],[0,0]],pad(e,r)})}serialization.registerClass(BatchNormalization);var ZeroPadding2D=function(e){function t(t){var n=this;if(null==t&&(t={}),(n=e.call(this,t)||this).dataFormat=null==t.dataFormat?imageDataFormat():t.dataFormat,null==t.padding)n.padding=[[1,1],[1,1]];else if(\"number\"==typeof t.padding)n.padding=[[t.padding,t.padding],[t.padding,t.padding]];else{if(t.padding=t.padding,2!==t.padding.length)throw new ValueError(\"ZeroPadding2D expects padding to be a length-2 array, but received a length-\"+t.padding.length+\" array.\");var r=void 0,i=void 0;if(\"number\"==typeof t.padding[0])r=[t.padding[0],t.padding[0]],i=[t.padding[1],t.padding[1]];else{if(t.padding=t.padding,2!==t.padding[0].length)throw new ValueError(\"ZeroPadding2D expects height padding to be a length-2 array, but received a length-\"+t.padding[0].length+\" array.\");if(r=t.padding[0],2!==t.padding[1].length)throw new ValueError(\"ZeroPadding2D expects width padding to be a length-2 array, but received a length-\"+t.padding[1].length+\" array.\");i=t.padding[1]}n.padding=[r,i]}return n.inputSpec=[new InputSpec({ndim:4})],n}return __extends(t,e),t.prototype.computeOutputShape=function(e){var t,n;return e=getExactlyOneShape(e),\"channelsFirst\"===this.dataFormat?(t=null!=e[2]&&e[2]>=0?e[2]+this.padding[0][0]+this.padding[0][1]:null,n=null!=e[3]&&e[3]>=0?e[3]+this.padding[1][0]+this.padding[1][1]:null,[e[0],e[1],t,n]):(t=null!=e[1]&&e[1]>=0?e[1]+this.padding[0][0]+this.padding[0][1]:null,n=null!=e[2]&&e[2]>=0?e[2]+this.padding[1][0]+this.padding[1][1]:null,[e[0],t,n,e[3]])},t.prototype.call=function(e,t){var n=this;return tidy(function(){return spatial2dPadding(getExactlyOneTensor(e),n.padding,n.dataFormat)})},t.prototype.getConfig=function(){var t={padding:this.padding,dataFormat:this.dataFormat},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className=\"ZeroPadding2D\",t}(Layer);function pool2d(e,t,n,r,i,a){return tidy(function(){var o;checkDataFormat(i),checkPoolMode(a),checkPaddingMode(r),null==n&&(n=[1,1]),null==r&&(r=\"valid\"),null==i&&(i=imageDataFormat()),null==a&&(a=\"max\"),e=preprocessConv2DInput(e,i);var s=\"same\"===r?\"same\":\"valid\";return o=\"max\"===a?maxPool(e,t,n,s):avgPool(e,t,n,s),\"channelsFirst\"===i&&(o=transpose(o,[0,3,1,2])),o})}serialization.registerClass(ZeroPadding2D);var Pooling1D=function(e){function t(t){var n=this;if(null==t.poolSize&&(t.poolSize=2),n=e.call(this,t)||this,\"number\"==typeof t.poolSize)n.poolSize=[t.poolSize];else{if(!Array.isArray(t.poolSize)||1!==t.poolSize.length||\"number\"!=typeof t.poolSize[0])throw new ValueError(\"poolSize for 1D convolutional layer must be a number or an Array of a single number, but received \"+JSON.stringify(t.poolSize));n.poolSize=t.poolSize}if(null==t.strides)n.strides=n.poolSize;else if(\"number\"==typeof t.strides)n.strides=[t.strides];else{if(!Array.isArray(t.strides)||1!==t.strides.length||\"number\"!=typeof t.strides[0])throw new ValueError(\"strides for 1D convolutional layer must be a number or an Array of a single number, but received \"+JSON.stringify(t.strides));n.strides=t.strides}return n.padding=null==t.padding?\"valid\":t.padding,checkPaddingMode(n.padding),n.inputSpec=[new InputSpec({ndim:3})],n}return __extends(t,e),t.prototype.computeOutputShape=function(e){var t=convOutputLength((e=getExactlyOneShape(e))[1],this.poolSize[0],this.padding,this.strides[0]);return[e[0],t,e[2]]},t.prototype.call=function(e,t){var n=this;return tidy(function(){n.invokeCallHook(e,t),e=expandDims$1(getExactlyOneTensor(e),2);var r=n.poolingFunction(getExactlyOneTensor(e),[n.poolSize[0],1],[n.strides[0],1],n.padding,\"channelsLast\");return squeeze(r,[2])})},t.prototype.getConfig=function(){var t={poolSize:this.poolSize,padding:this.padding,strides:this.strides},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t}(Layer),MaxPooling1D=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.poolingFunction=function(e,t,n,r,i){return checkDataFormat(i),checkPaddingMode(r),pool2d(e,t,n,r,i,\"max\")},t.className=\"MaxPooling1D\",t}(Pooling1D);serialization.registerClass(MaxPooling1D);var AveragePooling1D=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.poolingFunction=function(e,t,n,r,i){return checkDataFormat(i),checkPaddingMode(r),pool2d(e,t,n,r,i,\"avg\")},t.className=\"AveragePooling1D\",t}(Pooling1D);serialization.registerClass(AveragePooling1D);var Pooling2D=function(e){function t(t){var n=this;if(null==t.poolSize&&(t.poolSize=[2,2]),(n=e.call(this,t)||this).poolSize=Array.isArray(t.poolSize)?t.poolSize:[t.poolSize,t.poolSize],null==t.strides)n.strides=n.poolSize;else if(Array.isArray(t.strides)){if(2!==t.strides.length)throw new ValueError(\"If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length \"+t.strides.length+\".\");n.strides=t.strides}else n.strides=[t.strides,t.strides];return n.padding=null==t.padding?\"valid\":t.padding,n.dataFormat=null==t.dataFormat?\"channelsLast\":t.dataFormat,checkDataFormat(n.dataFormat),checkPaddingMode(n.padding),n.inputSpec=[new InputSpec({ndim:4})],n}return __extends(t,e),t.prototype.computeOutputShape=function(e){e=getExactlyOneShape(e);var t=\"channelsFirst\"===this.dataFormat?e[2]:e[1],n=\"channelsFirst\"===this.dataFormat?e[3]:e[2];return t=convOutputLength(t,this.poolSize[0],this.padding,this.strides[0]),n=convOutputLength(n,this.poolSize[1],this.padding,this.strides[1]),\"channelsFirst\"===this.dataFormat?[e[0],e[1],t,n]:[e[0],t,n,e[3]]},t.prototype.call=function(e,t){var n=this;return tidy(function(){return n.invokeCallHook(e,t),n.poolingFunction(getExactlyOneTensor(e),n.poolSize,n.strides,n.padding,n.dataFormat)})},t.prototype.getConfig=function(){var t={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t}(Layer),MaxPooling2D=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.poolingFunction=function(e,t,n,r,i){return checkDataFormat(i),checkPaddingMode(r),pool2d(e,t,n,r,i,\"max\")},t.className=\"MaxPooling2D\",t}(Pooling2D);serialization.registerClass(MaxPooling2D);var AveragePooling2D=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.poolingFunction=function(e,t,n,r,i){return checkDataFormat(i),checkPaddingMode(r),pool2d(e,t,n,r,i,\"avg\")},t.className=\"AveragePooling2D\",t}(Pooling2D);serialization.registerClass(AveragePooling2D);var GlobalPooling1D=function(e){function t(t){var n=e.call(this,t)||this;return n.inputSpec=[new InputSpec({ndim:3})],n}return __extends(t,e),t.prototype.computeOutputShape=function(e){return[e[0],e[2]]},t.prototype.call=function(e,t){throw new NotImplementedError},t}(Layer),GlobalAveragePooling1D=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.call=function(e,t){return tidy(function(){var t=getExactlyOneTensor(e);return mean(t,1)})},t.className=\"GlobalAveragePooling1D\",t}(GlobalPooling1D);serialization.registerClass(GlobalAveragePooling1D);var GlobalMaxPooling1D=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.call=function(e,t){return tidy(function(){var t=getExactlyOneTensor(e);return max(t,1)})},t.className=\"GlobalMaxPooling1D\",t}(GlobalPooling1D);serialization.registerClass(GlobalMaxPooling1D);var GlobalPooling2D=function(e){function t(t){var n=e.call(this,t)||this;return n.dataFormat=null==t.dataFormat?\"channelsLast\":t.dataFormat,checkDataFormat(n.dataFormat),n.inputSpec=[new InputSpec({ndim:4})],n}return __extends(t,e),t.prototype.computeOutputShape=function(e){return e=e,\"channelsLast\"===this.dataFormat?[e[0],e[3]]:[e[0],e[1]]},t.prototype.call=function(e,t){throw new NotImplementedError},t.prototype.getConfig=function(){var t={dataFormat:this.dataFormat},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t}(Layer),GlobalAveragePooling2D=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.call=function(e,t){var n=this;return tidy(function(){var t=getExactlyOneTensor(e);return\"channelsLast\"===n.dataFormat?mean(t,[1,2]):mean(t,[2,3])})},t.className=\"GlobalAveragePooling2D\",t}(GlobalPooling2D);serialization.registerClass(GlobalAveragePooling2D);var GlobalMaxPooling2D=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.call=function(e,t){var n=this;return tidy(function(){var t=getExactlyOneTensor(e);return\"channelsLast\"===n.dataFormat?max(t,[1,2]):max(t,[2,3])})},t.className=\"GlobalMaxPooling2D\",t}(GlobalPooling2D);function standardizeArgs(e,t,n,r){if(Array.isArray(e)){if(null!=t||null!=n)throw new ValueError(\"When inputs is an array, neither initialState or constants should be provided\");null!=r&&(n=e.slice(e.length-r,e.length),e=e.slice(0,e.length-r)),e.length>1&&(t=e.slice(1,e.length)),e=e[0]}function i(e){return null==e||Array.isArray(e)?e:[e]}return{inputs:e,initialState:t=i(t),constants:n=i(n)}}function rnn(e,t,n,r,i,a,o,s){return void 0===r&&(r=!1),void 0===o&&(o=!1),void 0===s&&(s=!1),tidy(function(){var l=t.shape.length;if(l<3)throw new ValueError(\"Input should be at least 3D, but is \"+l+\"D.\");var u=[1,0].concat(range(2,l));if(t=transpose(t,u),null!=a)throw new NotImplementedError(\"The rnn() functoin of the deeplearn.js backend does not support constants yet.\");o&&console.warn(\"Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend.\"),null!=i&&((i=i.asType(\"bool\").asType(\"float32\")).rank===l-1&&(i=expandDims(i,-1)),i=transpose(i,u)),r&&(t=reverse(t,0),null!=i&&(i=reverse(i,0)));var c,h,p=[],d=n,g=t.shape[0],f=unstack(t);null!=i&&(h=unstack(i));for(var m,y=function(t){var n=f[t],r=tidy(function(){return e(n,d)});if(null==i)c=r[0],d=r[1];else{var a=tidy(function(){var e=h[t],n=onesLike(e).sub(e);return{output:r[0].mul(e).addStrict(d[0].mul(n)),newStates:d.map(function(t,i){return r[1][i].mul(e).addStrict(t.mul(n))})}});c=a.output,d=a.newStates}s&&p.push(c)},v=0;v<g;++v)y(v);if(s){m=stack(p,1)}return[c,m,d]})}serialization.registerClass(GlobalMaxPooling2D);var RNN=function(e){function t(t){var n,r=e.call(this,t)||this;if(null==t.cell)throw new ValueError(\"cell property is missing for the constructor of RNN.\");if(null==(n=Array.isArray(t.cell)?new StackedRNNCells({cells:t.cell}):t.cell).stateSize)throw new ValueError(\"The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).\");return r.cell=n,r.returnSequences=null!=t.returnSequences&&t.returnSequences,r.returnState=null!=t.returnState&&t.returnState,r.goBackwards=null!=t.goBackwards&&t.goBackwards,r._stateful=null!=t.stateful&&t.stateful,r.unroll=null!=t.unroll&&t.unroll,r.supportsMasking=!0,r.inputSpec=[new InputSpec({ndim:3})],r.stateSpec=null,r.states_=null,r.numConstants=null,r.keptStates=[],r}return __extends(t,e),t.prototype.getStates=function(){return null==this.states_?range(0,Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1).map(function(e){return null}):this.states_},t.prototype.setStates=function(e){this.states_=e},t.prototype.computeOutputShape=function(e){isArrayOfShapes(e)&&(e=e[0]),e=e;var t=this.cell.stateSize;Array.isArray(t)||(t=[t]);var n,r=t[0];if(n=this.returnSequences?[e[0],e[1],r]:[e[0],r],this.returnState){for(var i=[],a=0,o=t;a<o.length;a++){var s=o[a];i.push([e[0],s])}return[n].concat(i)}return n},t.prototype.computeMask=function(e,t){var n=this;return tidy(function(){Array.isArray(t)&&(t=t[0]);var e=n.returnSequences?t:null;if(n.returnState){var r=n.states.map(function(e){return null});return[e].concat(r)}return e})},Object.defineProperty(t.prototype,\"states\",{get:function(){if(null==this.states_){for(var e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1,t=[],n=0;n<e;++n)t.push(null);return t}return this.states_},set:function(e){this.states_=e},enumerable:!0,configurable:!0}),t.prototype.build=function(e){if(null!=this.numConstants)throw new NotImplementedError(\"Constants support is not implemented in RNN yet.\");isArrayOfShapes(e)&&(e=e[0]),e=e;var t=this.stateful?e[0]:null,n=e[e.length-1];this.inputSpec[0]=new InputSpec({shape:[t,null,n]});var r,i=[e[0]].concat(e.slice(2));if(this.cell.build(i),r=Array.isArray(this.cell.stateSize)?this.cell.stateSize:[this.cell.stateSize],null!=this.stateSpec){if(!util.arraysEqual(this.stateSpec.map(function(e){return e.shape[e.shape.length-1]}),r))throw new ValueError(\"An initialState was passed that is not compatible with cell.stateSize. Received stateSpec=\"+this.stateSpec+\"; However cell.stateSize is \"+this.cell.stateSize)}else this.stateSpec=r.map(function(e){return new InputSpec({shape:[null,e]})});this.stateful&&this.resetStates()},t.prototype.resetStates=function(e,t){var n=this;void 0===t&&(t=!1),tidy(function(){if(!n.stateful)throw new AttributeError(\"Cannot call resetStates() on an RNN Layer that is not stateful.\");var r=n.inputSpec[0].shape[0];if(null==r)throw new ValueError(\"If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \\n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.\");if(null==n.states_)Array.isArray(n.cell.stateSize)?n.states_=n.cell.stateSize.map(function(e){return zeros([r,e])}):n.states_=[zeros([r,n.cell.stateSize])];else if(null==e)dispose(n.states_),null!=n.keptStates&&(dispose(n.keptStates),n.keptStates=[]),Array.isArray(n.cell.stateSize)?n.states_=n.cell.stateSize.map(function(e){return zeros([r,e])}):n.states_[0]=zeros([r,n.cell.stateSize]);else{if(Array.isArray(e)||(e=[e]),e.length!==n.states_.length)throw new ValueError(\"Layer \"+n.name+\" expects \"+n.states_.length+\" state(s), but it received \"+e.length+\" state value(s). Input received: \"+e);!0===t?n.keptStates.push(n.states_.slice()):dispose(n.states_);for(var i=0;i<n.states_.length;++i){var a=e[i],o=Array.isArray(n.cell.stateSize)?n.cell.stateSize[i]:n.cell.stateSize,s=[r,o];if(!util.arraysEqual(a.shape,s))throw new ValueError(\"State \"+i+\" is incompatible with layer \"+n.name+\": expected shape=\"+s+\", received shape=\"+a.shape);n.states_[i]=a}}n.states_.forEach(function(e){return keep(e)})})},t.prototype.apply=function(t,n){var r=null==n?null:n.initialState,i=null==n?null:n.constants;null==n&&(n={});var a=standardizeArgs(t,r,i,this.numConstants);t=a.inputs,r=a.initialState,i=a.constants;var o=[],s=[];if(null!=r){n.initialState=r,o=o.concat(r),this.stateSpec=[];for(var l=0,u=r;l<u.length;l++){var c=u[l];this.stateSpec.push(new InputSpec({shape:c.shape}))}s=s.concat(this.stateSpec)}if(null!=i&&(n.constants=i,o=o.concat(i),this.numConstants=i.length),o[0]instanceof SymbolicTensor){var h=[t].concat(o),p=this.inputSpec.concat(s),d=this.inputSpec;this.inputSpec=p;var g=e.prototype.apply.call(this,h,n);return this.inputSpec=d,g}return e.prototype.apply.call(this,t,n)},t.prototype.call=function(e,t){var n=this;return tidy(function(){var r=null==t?null:t.mask,i=null==t?null:t.training,a=null==t?null:t.initialState;e=getExactlyOneTensor(e),null==a&&(a=n.stateful?n.states_:n.getInitialState(e));var o=Array.isArray(n.cell.stateSize)?n.cell.stateSize.length:1;if(a.length!==o)throw new ValueError(\"RNN Layer has \"+o+\" state(s) but was passed \"+a.length+\" initial state(s).\");n.unroll&&console.warn(\"Ignoring unroll = true for RNN layer, due to imperative backend.\");var s={training:i},l=rnn(function(e,t){var r=n.cell.call([e].concat(t),s);return[r[0],r.slice(1)]},e,a,n.goBackwards,r,null,n.unroll,n.returnSequences),u=l[0],c=l[1],h=l[2];n.stateful&&n.resetStates(h,i);var p=n.returnSequences?c:u;return n.returnState?[p].concat(h):p})},t.prototype.getInitialState=function(e){var t=this;return tidy(function(){var n=zeros(e.shape);return n=expandDims$1(n=sum(n,[1,2])),Array.isArray(t.cell.stateSize)?t.cell.stateSize.map(function(e){return e>1?tile$1(n,[1,e]):n}):t.cell.stateSize>1?[tile$1(n,[1,t.cell.stateSize])]:[n]})},Object.defineProperty(t.prototype,\"trainableWeights\",{get:function(){return this.trainable?this.cell.trainableWeights:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"nonTrainableWeights\",{get:function(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights},enumerable:!0,configurable:!0}),t.prototype.setFastWeightInitDuringBuild=function(t){e.prototype.setFastWeightInitDuringBuild.call(this,t),null!=this.cell&&this.cell.setFastWeightInitDuringBuild(t)},t.prototype.getConfig=function(){var t={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};null!=this.numConstants&&(t.numConstants=this.numConstants);var n=this.cell.getConfig();t.cell={className:this.cell.getClassName(),config:n};var r=e.prototype.getConfig.call(this);return Object.assign(t,r),t},t.className=\"RNN\",t}(Layer);serialization.registerClass(RNN);var RNNCell=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(Layer),SimpleRNNCell=function(e){function t(t){var n=e.call(this,t)||this;return n.DEFAULT_ACTIVATION=\"tanh\",n.DEFAULT_KERNEL_INITIALIZER=\"glorotNormal\",n.DEFAULT_RECURRENT_INITIALIZER=\"orthogonal\",n.DEFAULT_BIAS_INITIALIZER=\"zeros\",n.units=t.units,n.activation=getActivation(null==t.activation?n.DEFAULT_ACTIVATION:t.activation),n.useBias=null==t.useBias||t.useBias,n.kernelInitializer=getInitializer(t.kernelInitializer||n.DEFAULT_KERNEL_INITIALIZER),n.recurrentInitializer=getInitializer(t.recurrentInitializer||n.DEFAULT_RECURRENT_INITIALIZER),n.biasInitializer=getInitializer(t.biasInitializer||n.DEFAULT_BIAS_INITIALIZER),n.kernelRegularizer=getRegularizer(t.kernelRegularizer),n.recurrentRegularizer=getRegularizer(t.recurrentRegularizer),n.biasRegularizer=getRegularizer(t.biasRegularizer),n.kernelConstraint=getConstraint(t.kernelConstraint),n.recurrentConstraint=getConstraint(t.recurrentConstraint),n.biasConstraint=getConstraint(t.biasConstraint),n.dropout=min$1([1,max$1([0,null==t.dropout?0:t.dropout])]),n.recurrentDropout=min$1([1,max$1([0,null==t.recurrentDropout?0:t.recurrentDropout])]),n.stateSize=n.units,n.dropoutMask=null,n.recurrentDropoutMask=null,n}return __extends(t,e),t.prototype.build=function(e){e=getExactlyOneShape(e),this.kernel=this.addWeight(\"kernel\",[e[e.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight(\"recurrent_kernel\",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight(\"bias\",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0},t.prototype.call=function(e,t){var n=this;return tidy(function(){if(2!==(e=e).length)throw new ValueError(\"SimpleRNNCell expects 2 input Tensors, got \"+e.length+\".\");var r=e[1];e=e[0];var i,a=null!=t.training&&t.training;0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=generateDropoutMask(function(){return onesLike(e)},n.dropout,a)),0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=generateDropoutMask(function(){return onesLike(r)},n.recurrentDropout,a));var o=n.dropoutMask,s=n.recurrentDropoutMask;i=dot(null!=o?mul(e,o):e,n.kernel.read()),null!=n.bias&&(i=biasAdd(i,n.bias.read())),null!=s&&(r=mul(r,s));var l=add(i,dot(r,n.recurrentKernel.read()));return null!=n.activation&&(l=n.activation.apply(l)),[l,l]})},t.prototype.getConfig=function(){var t={units:this.units,activation:serializeActivation(this.activation),useBias:this.useBias,kernelInitializer:serializeInitializer(this.kernelInitializer),recurrentInitializer:serializeInitializer(this.recurrentInitializer),biasInitializer:serializeInitializer(this.biasInitializer),kernelRegularizer:serializeRegularizer(this.kernelRegularizer),recurrentRegularizer:serializeRegularizer(this.recurrentRegularizer),biasRegularizer:serializeRegularizer(this.biasRegularizer),activityRegularizer:serializeRegularizer(this.activityRegularizer),kernelConstraint:serializeConstraint(this.kernelConstraint),recurrentConstraint:serializeConstraint(this.recurrentConstraint),biasConstraint:serializeConstraint(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className=\"SimpleRNNCell\",t}(RNNCell);serialization.registerClass(SimpleRNNCell);var SimpleRNN=function(e){function t(t){return t.cell=new SimpleRNNCell(t),e.call(this,t)||this}return __extends(t,e),t.prototype.call=function(t,n){var r=this;return tidy(function(){null!=r.cell.dropoutMask&&(dispose(r.cell.dropoutMask),r.cell.dropoutMask=null),null!=r.cell.recurrentDropoutMask&&(dispose(r.cell.recurrentDropoutMask),r.cell.recurrentDropoutMask=null);var i=null==n?null:n.mask,a=null==n?null:n.training,o=null==n?null:n.initialState;return e.prototype.call.call(r,t,{mask:i,training:a,initialState:o})})},Object.defineProperty(t.prototype,\"units\",{get:function(){return this.cell.units},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"activation\",{get:function(){return this.cell.activation},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"useBias\",{get:function(){return this.cell.useBias},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"kernelInitializer\",{get:function(){return this.cell.kernelInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"recurrentInitializer\",{get:function(){return this.cell.recurrentInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"biasInitializer\",{get:function(){return this.cell.biasInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"kernelRegularizer\",{get:function(){return this.cell.kernelRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"recurrentRegularizer\",{get:function(){return this.cell.recurrentRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"biasRegularizer\",{get:function(){return this.cell.biasRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"kernelConstraint\",{get:function(){return this.cell.kernelConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"recurrentConstraint\",{get:function(){return this.cell.recurrentConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"biasConstraint\",{get:function(){return this.cell.biasConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"dropout\",{get:function(){return this.cell.dropout},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"recurrentDropout\",{get:function(){return this.cell.recurrentDropout},enumerable:!0,configurable:!0}),t.prototype.getConfig=function(){var t={units:this.units,activation:serializeActivation(this.activation),useBias:this.useBias,kernelInitializer:serializeInitializer(this.kernelInitializer),recurrentInitializer:serializeInitializer(this.recurrentInitializer),biasInitializer:serializeInitializer(this.biasInitializer),kernelRegularizer:serializeRegularizer(this.kernelRegularizer),recurrentRegularizer:serializeRegularizer(this.recurrentRegularizer),biasRegularizer:serializeRegularizer(this.biasRegularizer),activityRegularizer:serializeRegularizer(this.activityRegularizer),kernelConstraint:serializeConstraint(this.kernelConstraint),recurrentConstraint:serializeConstraint(this.recurrentConstraint),biasConstraint:serializeConstraint(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout},n=e.prototype.getConfig.call(this);return delete n.cell,Object.assign(t,n),t},t.className=\"SimpleRNN\",t}(RNN);serialization.registerClass(SimpleRNN);var GRUCell=function(e){function t(t){var n=e.call(this,t)||this;return n.DEFAULT_ACTIVATION=\"tanh\",n.DEFAULT_RECURRENT_ACTIVATION=\"hardSigmoid\",n.DEFAULT_KERNEL_INITIALIZER=\"glorotNormal\",n.DEFAULT_RECURRENT_INITIALIZER=\"orthogonal\",n.DEFAULT_BIAS_INITIALIZER=\"zeros\",n.units=t.units,n.activation=getActivation(void 0===t.activation?n.DEFAULT_ACTIVATION:t.activation),n.recurrentActivation=getActivation(void 0===t.recurrentActivation?n.DEFAULT_RECURRENT_ACTIVATION:t.recurrentActivation),n.useBias=null==t.useBias||t.useBias,n.kernelInitializer=getInitializer(t.kernelInitializer||n.DEFAULT_KERNEL_INITIALIZER),n.recurrentInitializer=getInitializer(t.recurrentInitializer||n.DEFAULT_RECURRENT_INITIALIZER),n.biasInitializer=getInitializer(t.biasInitializer||n.DEFAULT_BIAS_INITIALIZER),n.kernelRegularizer=getRegularizer(t.kernelRegularizer),n.recurrentRegularizer=getRegularizer(t.recurrentRegularizer),n.biasRegularizer=getRegularizer(t.biasRegularizer),n.kernelConstraint=getConstraint(t.kernelConstraint),n.recurrentConstraint=getConstraint(t.recurrentConstraint),n.biasConstraint=getConstraint(t.biasConstraint),n.dropout=min$1([1,max$1([0,null==t.dropout?0:t.dropout])]),n.recurrentDropout=min$1([1,max$1([0,null==t.recurrentDropout?0:t.recurrentDropout])]),n.implementation=t.implementation,n.stateSize=n.units,n.dropoutMask=null,n.recurrentDropoutMask=null,n}return __extends(t,e),t.prototype.build=function(e){var t=(e=getExactlyOneShape(e))[e.length-1];this.kernel=this.addWeight(\"kernel\",[t,3*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight(\"recurrent_kernel\",[this.units,3*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight(\"bias\",[3*this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0},t.prototype.call=function(e,t){var n=this;return tidy(function(){if(2!==(e=e).length)throw new ValueError(\"GRUCell expects 2 input Tensors (inputs, h, c), got \"+e.length+\".\");var r=null!=t.training&&t.training,i=e[1];e=e[0],0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=generateDropoutMask(function(){return onesLike(e)},n.dropout,r,3)),0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=generateDropoutMask(function(){return onesLike(i)},n.recurrentDropout,r,3));var a,o,s,l=n.dropoutMask,u=n.recurrentDropoutMask;0<n.dropout&&n.dropout<1&&(e=mul(e,l[0]));var c=dot(e,n.kernel.read());n.useBias&&(c=biasAdd(c,n.bias.read())),0<n.recurrentDropout&&n.recurrentDropout<1&&(i=mul(i,u[0]));var h=n.recurrentKernel.read(),p=split(h,[2*n.units,n.units],h.rank-1),d=p[0],g=p[1],f=dot(i,d),m=split(c,3,c.rank-1),y=m[0],v=m[1],b=m[2],w=split(f,2,f.rank-1),z=w[0],S=w[1];a=n.recurrentActivation.apply(add(y,z)),o=n.recurrentActivation.apply(add(v,S));var I=dot(mul(o,i),g);s=n.activation.apply(add(b,I));var A=add(mul(a,i),mul(add(getScalar(1),neg(a)),s));return[A,A]})},t.prototype.getConfig=function(){var t={units:this.units,activation:serializeActivation(this.activation),recurrentActivation:serializeActivation(this.recurrentActivation),useBias:this.useBias,kernelInitializer:serializeInitializer(this.kernelInitializer),recurrentInitializer:serializeInitializer(this.recurrentInitializer),biasInitializer:serializeInitializer(this.biasInitializer),kernelRegularizer:serializeRegularizer(this.kernelRegularizer),recurrentRegularizer:serializeRegularizer(this.recurrentRegularizer),biasRegularizer:serializeRegularizer(this.biasRegularizer),activityRegularizer:serializeRegularizer(this.activityRegularizer),kernelConstraint:serializeConstraint(this.kernelConstraint),recurrentConstraint:serializeConstraint(this.recurrentConstraint),biasConstraint:serializeConstraint(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className=\"GRUCell\",t}(RNNCell);serialization.registerClass(GRUCell);var GRU=function(e){function t(t){return 0===t.implementation&&console.warn(\"`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call.\"),t.cell=new GRUCell(t),e.call(this,t)||this}return __extends(t,e),t.prototype.call=function(t,n){var r=this;return tidy(function(){null!=r.cell.dropoutMask&&(dispose(r.cell.dropoutMask),r.cell.dropoutMask=null),null!=r.cell.recurrentDropoutMask&&(dispose(r.cell.recurrentDropoutMask),r.cell.recurrentDropoutMask=null);var i=null==n?null:n.mask,a=null==n?null:n.training,o=null==n?null:n.initialState;return e.prototype.call.call(r,t,{mask:i,training:a,initialState:o})})},Object.defineProperty(t.prototype,\"units\",{get:function(){return this.cell.units},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"activation\",{get:function(){return this.cell.activation},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"recurrentActivation\",{get:function(){return this.cell.recurrentActivation},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"useBias\",{get:function(){return this.cell.useBias},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"kernelInitializer\",{get:function(){return this.cell.kernelInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"recurrentInitializer\",{get:function(){return this.cell.recurrentInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"biasInitializer\",{get:function(){return this.cell.biasInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"kernelRegularizer\",{get:function(){return this.cell.kernelRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"recurrentRegularizer\",{get:function(){return this.cell.recurrentRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"biasRegularizer\",{get:function(){return this.cell.biasRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"kernelConstraint\",{get:function(){return this.cell.kernelConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"recurrentConstraint\",{get:function(){return this.cell.recurrentConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"biasConstraint\",{get:function(){return this.cell.biasConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"dropout\",{get:function(){return this.cell.dropout},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"recurrentDropout\",{get:function(){return this.cell.recurrentDropout},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"implementation\",{get:function(){return this.cell.implementation},enumerable:!0,configurable:!0}),t.prototype.getConfig=function(){var t={units:this.units,activation:serializeActivation(this.activation),recurrentActivation:serializeActivation(this.recurrentActivation),useBias:this.useBias,kernelInitializer:serializeInitializer(this.kernelInitializer),recurrentInitializer:serializeInitializer(this.recurrentInitializer),biasInitializer:serializeInitializer(this.biasInitializer),kernelRegularizer:serializeRegularizer(this.kernelRegularizer),recurrentRegularizer:serializeRegularizer(this.recurrentRegularizer),biasRegularizer:serializeRegularizer(this.biasRegularizer),activityRegularizer:serializeRegularizer(this.activityRegularizer),kernelConstraint:serializeConstraint(this.kernelConstraint),recurrentConstraint:serializeConstraint(this.recurrentConstraint),biasConstraint:serializeConstraint(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation},n=e.prototype.getConfig.call(this);return delete n.cell,Object.assign(t,n),t},t.fromConfig=function(e,t){return 0===t.implmentation&&(t.implementation=1),new e(t)},t.className=\"GRU\",t}(RNN);serialization.registerClass(GRU);var LSTMCell=function(e){function t(t){var n=e.call(this,t)||this;return n.DEFAULT_ACTIVATION=\"tanh\",n.DEFAULT_RECURRENT_ACTIVATION=\"hardSigmoid\",n.DEFAULT_KERNEL_INITIALIZER=\"glorotNormal\",n.DEFAULT_RECURRENT_INITIALIZER=\"orthogonal\",n.DEFAULT_BIAS_INITIALIZER=\"zeros\",n.units=t.units,n.activation=getActivation(void 0===t.activation?n.DEFAULT_ACTIVATION:t.activation),n.recurrentActivation=getActivation(void 0===t.recurrentActivation?n.DEFAULT_RECURRENT_ACTIVATION:t.recurrentActivation),n.useBias=null==t.useBias||t.useBias,n.kernelInitializer=getInitializer(t.kernelInitializer||n.DEFAULT_KERNEL_INITIALIZER),n.recurrentInitializer=getInitializer(t.recurrentInitializer||n.DEFAULT_RECURRENT_INITIALIZER),n.biasInitializer=getInitializer(t.biasInitializer||n.DEFAULT_BIAS_INITIALIZER),n.unitForgetBias=t.unitForgetBias,n.kernelRegularizer=getRegularizer(t.kernelRegularizer),n.recurrentRegularizer=getRegularizer(t.recurrentRegularizer),n.biasRegularizer=getRegularizer(t.biasRegularizer),n.kernelConstraint=getConstraint(t.kernelConstraint),n.recurrentConstraint=getConstraint(t.recurrentConstraint),n.biasConstraint=getConstraint(t.biasConstraint),n.dropout=min$1([1,max$1([0,null==t.dropout?0:t.dropout])]),n.recurrentDropout=min$1([1,max$1([0,null==t.recurrentDropout?0:t.recurrentDropout])]),n.implementation=t.implementation,n.stateSize=[n.units,n.units],n.dropoutMask=null,n.recurrentDropoutMask=null,n}return __extends(t,e),t.prototype.build=function(e){var t,n,r=(e=getExactlyOneShape(e))[e.length-1];if(this.kernel=this.addWeight(\"kernel\",[r,4*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight(\"recurrent_kernel\",[this.units,4*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){if(this.unitForgetBias){var i=this.biasInitializer,a=this.units;t=new((n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.apply=function(e,t){var n=i.apply([a]),r=(new Ones).apply([a]),o=i.apply([2*a]);return concatAlongFirstAxis(concatAlongFirstAxis(n,r),o)},t}(Initializer)).className=\"CustomInit\",n)}else t=this.biasInitializer;this.bias=this.addWeight(\"bias\",[4*this.units],null,t,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0},t.prototype.call=function(e,t){var n=this;return tidy(function(){var r=null!=t.training&&t.training;if(3!==(e=e).length)throw new ValueError(\"LSTMCell expects 3 input Tensors (inputs, h, c), got \"+e.length+\".\");var i=e[1],a=e[2];e=e[0],0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=generateDropoutMask(function(){return onesLike(e)},n.dropout,r,4)),0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=generateDropoutMask(function(){return onesLike(i)},n.recurrentDropout,r,4));var o,s,l,u,c=n.dropoutMask,h=n.recurrentDropoutMask;0<n.dropout&&n.dropout<1&&(e=mul(e,c[0]));var p=dot(e,n.kernel.read());0<n.recurrentDropout&&n.recurrentDropout<1&&(i=mul(i,h[0])),p=add(p,dot(i,n.recurrentKernel.read())),n.useBias&&(p=biasAdd(p,n.bias.read()));var d=split(p,4,p.rank-1),g=d[0],f=d[1],m=d[2],y=d[3];o=n.recurrentActivation.apply(g),s=n.recurrentActivation.apply(f),l=add(mul(s,a),mul(o,n.activation.apply(m))),u=n.recurrentActivation.apply(y);var v=mul(u,n.activation.apply(l));return[v,v,l]})},t.prototype.getConfig=function(){var t={units:this.units,activation:serializeActivation(this.activation),recurrentActivation:serializeActivation(this.recurrentActivation),useBias:this.useBias,kernelInitializer:serializeInitializer(this.kernelInitializer),recurrentInitializer:serializeInitializer(this.recurrentInitializer),biasInitializer:serializeInitializer(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:serializeRegularizer(this.kernelRegularizer),recurrentRegularizer:serializeRegularizer(this.recurrentRegularizer),biasRegularizer:serializeRegularizer(this.biasRegularizer),activityRegularizer:serializeRegularizer(this.activityRegularizer),kernelConstraint:serializeConstraint(this.kernelConstraint),recurrentConstraint:serializeConstraint(this.recurrentConstraint),biasConstraint:serializeConstraint(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className=\"LSTMCell\",t}(RNNCell);serialization.registerClass(LSTMCell);var LSTM=function(e){function t(t){return 0===t.implementation&&console.warn(\"`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call.\"),t.cell=new LSTMCell(t),e.call(this,t)||this}return __extends(t,e),t.prototype.call=function(t,n){var r=this;return tidy(function(){null!=r.cell.dropoutMask&&(dispose(r.cell.dropoutMask),r.cell.dropoutMask=null),null!=r.cell.recurrentDropoutMask&&(dispose(r.cell.recurrentDropoutMask),r.cell.recurrentDropoutMask=null);var i=null==n?null:n.mask,a=null==n?null:n.training,o=null==n?null:n.initialState;return e.prototype.call.call(r,t,{mask:i,training:a,initialState:o})})},Object.defineProperty(t.prototype,\"units\",{get:function(){return this.cell.units},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"activation\",{get:function(){return this.cell.activation},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"recurrentActivation\",{get:function(){return this.cell.recurrentActivation},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"useBias\",{get:function(){return this.cell.useBias},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"kernelInitializer\",{get:function(){return this.cell.kernelInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"recurrentInitializer\",{get:function(){return this.cell.recurrentInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"biasInitializer\",{get:function(){return this.cell.biasInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"unitForgetBias\",{get:function(){return this.cell.unitForgetBias},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"kernelRegularizer\",{get:function(){return this.cell.kernelRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"recurrentRegularizer\",{get:function(){return this.cell.recurrentRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"biasRegularizer\",{get:function(){return this.cell.biasRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"kernelConstraint\",{get:function(){return this.cell.kernelConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"recurrentConstraint\",{get:function(){return this.cell.recurrentConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"biasConstraint\",{get:function(){return this.cell.biasConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"dropout\",{get:function(){return this.cell.dropout},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"recurrentDropout\",{get:function(){return this.cell.recurrentDropout},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"implementation\",{get:function(){return this.cell.implementation},enumerable:!0,configurable:!0}),t.prototype.getConfig=function(){var t={units:this.units,activation:serializeActivation(this.activation),recurrentActivation:serializeActivation(this.recurrentActivation),useBias:this.useBias,kernelInitializer:serializeInitializer(this.kernelInitializer),recurrentInitializer:serializeInitializer(this.recurrentInitializer),biasInitializer:serializeInitializer(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:serializeRegularizer(this.kernelRegularizer),recurrentRegularizer:serializeRegularizer(this.recurrentRegularizer),biasRegularizer:serializeRegularizer(this.biasRegularizer),activityRegularizer:serializeRegularizer(this.activityRegularizer),kernelConstraint:serializeConstraint(this.kernelConstraint),recurrentConstraint:serializeConstraint(this.recurrentConstraint),biasConstraint:serializeConstraint(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation},n=e.prototype.getConfig.call(this);return delete n.cell,Object.assign(t,n),t},t.fromConfig=function(e,t){return 0===t.implmentation&&(t.implementation=1),new e(t)},t.className=\"LSTM\",t}(RNN);serialization.registerClass(LSTM);var StackedRNNCells=function(e){function t(t){var n=e.call(this,t)||this;return n.cells=t.cells,n}return __extends(t,e),Object.defineProperty(t.prototype,\"stateSize\",{get:function(){for(var e=[],t=0,n=this.cells.slice().reverse();t<n.length;t++){var r=n[t];Array.isArray(r.stateSize)?e.push.apply(e,r.stateSize):e.push(r.stateSize)}return e},enumerable:!0,configurable:!0}),t.prototype.call=function(e,t){var n=this;return tidy(function(){for(var r=(e=e).slice(1),i=[],a=0,o=n.cells.slice().reverse();a<o.length;a++){var s=o[a];Array.isArray(s.stateSize)?i.push(r.splice(0,s.stateSize.length)):i.push(r.splice(0,1))}i.reverse();for(var l,u=[],c=0;c<n.cells.length;++c){s=n.cells[c];r=i[c],l=0===c?[e[0]].concat(r):[l[0]].concat(r),l=s.call(l,t),u.push(l.slice(1))}r=[];for(var h=0,p=u.slice().reverse();h<p.length;h++){var d=p[h];r.push.apply(r,d)}return[l[0]].concat(r)})},t.prototype.build=function(e){var t;isArrayOfShapes(e)&&(e=e[0]),e=e;for(var n=0,r=this.cells;n<r.length;n++){var i=r[n];i.build(e),t=Array.isArray(i.stateSize)?i.stateSize[0]:i.stateSize,e=[e[0],t]}this.built=!0},t.prototype.getConfig=function(){for(var t=[],n=0,r=this.cells;n<r.length;n++){var i=r[n];t.push({className:this.getClassName(),config:i.getConfig()})}var a={cells:t},o=e.prototype.getConfig.call(this);return Object.assign(a,o),a},t.fromConfig=function(e,t,n){void 0===n&&(n={});for(var r=[],i=0,a=t.cells;i<a.length;i++){var o=a[i];r.push(deserialize(o,n))}return new e({cells:r})},Object.defineProperty(t.prototype,\"trainableWeights\",{get:function(){if(!this.trainable)return[];for(var e=[],t=0,n=this.cells;t<n.length;t++){var r=n[t];e.push.apply(e,r.trainableWeights)}return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"nonTrainableWeights\",{get:function(){for(var e=[],t=0,n=this.cells;t<n.length;t++){var r=n[t];e.push.apply(e,r.nonTrainableWeights)}if(!this.trainable){for(var i=[],a=0,o=this.cells;a<o.length;a++){r=o[a];i.push.apply(i,r.trainableWeights)}return i.concat(e)}return e},enumerable:!0,configurable:!0}),t.prototype.getWeights=function(){for(var e=[],t=0,n=this.cells;t<n.length;t++){var r=n[t];e.push.apply(e,r.weights)}return batchGetValue(e)},t.prototype.setWeights=function(e){for(var t=[],n=0,r=this.cells;n<r.length;n++)for(var i=r[n],a=i.weights.length,o=e.splice(a),s=0;s<i.weights.length;++s)t.push([i.weights[s],o[s]]);batchSetValue(t)},t.className=\"StackedRNNCells\",t}(RNNCell);function generateDropoutMask(e,t,n,r){function i(){return dropout(e(),getScalar(t))}if(void 0===n&&(n=null),void 0===r&&(r=1),r>1){for(var a=[],o=0;o<r;o++)a.push(inTrainPhase(i,e,n));return a.forEach(function(e){return keep(e)}),a}return keep(inTrainPhase(i,e,n))}serialization.registerClass(StackedRNNCells);var Wrapper=function(e){function t(t){var n=e.call(this,t)||this;return n.layer=t.layer,n}return __extends(t,e),t.prototype.build=function(e){this.built=!0},Object.defineProperty(t.prototype,\"trainable\",{get:function(){return null!=this.layer&&this.layer.trainable},set:function(e){null!=this.layer&&(this.layer.trainable=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"trainableWeights\",{get:function(){return this.layer.trainableWeights},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"nonTrainableWeights\",{get:function(){return this.layer.nonTrainableWeights},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"updates\",{get:function(){return this.layer._updates},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"losses\",{get:function(){return this.layer.losses},enumerable:!0,configurable:!0}),t.prototype.getWeights=function(){return this.layer.getWeights()},t.prototype.setWeights=function(e){this.layer.setWeights(e)},t.prototype.getConfig=function(){var t={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.prototype.setFastWeightInitDuringBuild=function(t){e.prototype.setFastWeightInitDuringBuild.call(this,t),null!=this.layer&&this.layer.setFastWeightInitDuringBuild(t)},t.fromConfig=function(e,t,n){void 0===n&&(n={});var r=deserialize(t.layer,n);delete t.layer;var i={layer:r};return Object.assign(i,t),new e(i)},t}(Layer),TimeDistributed=function(e){function t(t){var n=e.call(this,t)||this;return n.supportsMasking=!0,n}return __extends(t,e),t.prototype.build=function(t){if((t=getExactlyOneShape(t)).length<3)throw new ValueError(\"TimeDistributed layer expects an input shape >= 3D, but received input shape \"+JSON.stringify(t));this.inputSpec=[{shape:t}];var n=[t[0]].concat(t.slice(2));this.layer.built||(this.layer.build(n),this.layer.built=!0),e.prototype.build.call(this,t)},t.prototype.computeOutputShape=function(e){var t=[(e=getExactlyOneShape(e))[0]].concat(e.slice(2)),n=this.layer.computeOutputShape(t),r=e[1];return[n[0],r].concat(n.slice(1))},t.prototype.call=function(e,t){var n=this;return tidy(function(){return rnn(function(e,r){return[getExactlyOneTensor(n.layer.call(e,t)),[]]},e=getExactlyOneTensor(e),[],!1,null,null,!1,!0)[1]})},t.className=\"TimeDistributed\",t}(Wrapper);serialization.registerClass(TimeDistributed);var VALID_BIDIRECTIONAL_MERGE_MODES=[\"sum\",\"mul\",\"concat\",\"ave\"];function checkBidirectionalMergeMode(e){checkStringTypeUnionValue(VALID_BIDIRECTIONAL_MERGE_MODES,\"BidirectionalMergeMode\",e)}var Bidirectional=function(e){function t(t){var n=e.call(this,t)||this,r=t.layer.getConfig();if(n.forwardLayer=deserialize({className:t.layer.getClassName(),config:r}),r.goBackwards=!0!==r.goBackwards,n.backwardLayer=deserialize({className:t.layer.getClassName(),config:r}),n.forwardLayer.name=\"forward_\"+n.forwardLayer.name,n.backwardLayer.name=\"backward_\"+n.backwardLayer.name,checkBidirectionalMergeMode(t.mergeMode),n.mergeMode=t.mergeMode,t.weights)throw new NotImplementedError(\"weights support is not implemented for Bidirectional layer yet.\");return n._stateful=t.layer.stateful,n.returnSequences=t.layer.returnSequences,n.returnState=t.layer.returnState,n.supportsMasking=!0,n._trainable=!0,n.inputSpec=t.layer.inputSpec,n.numConstants=null,n}return __extends(t,e),Object.defineProperty(t.prototype,\"trainable\",{get:function(){return this._trainable},set:function(e){this._trainable=e,null!=this.forwardLayer&&(this.forwardLayer.trainable=e),null!=this.backwardLayer&&(this.backwardLayer.trainable=e)},enumerable:!0,configurable:!0}),t.prototype.getWeights=function(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())},t.prototype.setWeights=function(e){var t=e.length,n=Math.floor(t/2);this.forwardLayer.setWeights(e.slice(0,n)),this.backwardLayer.setWeights(e.slice(n))},t.prototype.computeOutputShape=function(e){var t,n,r,i=this.forwardLayer.computeOutputShape(e);return Array.isArray(i)&&Array.isArray(i[0])||(i=[i]),i=i,this.returnState?(r=i.slice(1),t=i[0]):t=i[0],t=t,\"concat\"===this.mergeMode?(t[t.length-1]*=2,n=[t]):n=null==this.mergeMode?[t,t.slice()]:[t],this.returnState?null==this.mergeMode?n.concat(r).concat(r.slice()):[t].concat(r).concat(r.slice()):singletonOrArray(n)},t.prototype.apply=function(t,n){var r=null==n?null:n.initialState,i=null==n?null:n.constants;null==n&&(n={});var a=standardizeArgs(t,r,i,this.numConstants);if(t=a.inputs,r=a.initialState,i=a.constants,Array.isArray(t)&&(r=t.slice(1),t=t[0]),(null==r||0===r.length)&&null==i)return e.prototype.apply.call(this,t,n);var o=[],s=[];if(null!=r){var l=r.length;if(l%2>0)throw new ValueError(\"When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.\");n.initialState=r,o.push.apply(o,r);var u=r.map(function(e){return new InputSpec({shape:e.shape})});this.forwardLayer.stateSpec=u.slice(0,l/2),this.backwardLayer.stateSpec=u.slice(l/2),s.push.apply(s,u)}if(null!=i)throw new NotImplementedError(\"Support for constants in Bidirectional layers is not implemented yet.\");for(var c=o[0]instanceof SymbolicTensor,h=0,p=o;h<p.length;h++){if(p[h]instanceof SymbolicTensor!==c)throw new ValueError(\"The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors\")}if(c){var d=[t].concat(o),g=this.inputSpec.concat(s),f=this.inputSpec;this.inputSpec=g;var m=e.prototype.apply.call(this,d,n);return this.inputSpec=f,m}return e.prototype.apply.call(this,t,n)},t.prototype.call=function(e,t){var n=this;return tidy(function(){if(null!=t.mask)throw new NotImplementedError(\"The support for masking is not implemented for Bidirectional layers yet.\");var r,i,a,o,s=t.initialState;if(null==s)r=n.forwardLayer.call(e,t),i=n.backwardLayer.call(e,t);else{var l=s.slice(0,s.length/2),u=s.slice(s.length/2);r=n.forwardLayer.call(e,Object.assign(t,{initialState:l})),i=n.backwardLayer.call(e,Object.assign(t,{initialState:u}))}return n.returnState&&(Array.isArray(r)&&(a=r.slice(1).concat(i.slice(1))),r=r[0],i=i[0]),n.returnSequences&&(i=reverse(i,1)),\"concat\"===n.mergeMode?o=concatenate([r,i]):\"sum\"===n.mergeMode?o=add(r,i):\"ave\"===n.mergeMode?o=mul(getScalar(.5),add(r,i)):\"mul\"===n.mergeMode?o=mul(r,i):null==n.mergeMode&&(o=[r,i]),n.returnState?null==n.mergeMode?o.concat(a):[o].concat(a):o})},t.prototype.resetStates=function(e){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()},t.prototype.build=function(e){var t=this;nameScope(this.forwardLayer.name,function(){t.forwardLayer.build(e)}),nameScope(this.backwardLayer.name,function(){t.backwardLayer.build(e)}),this.built=!0},Object.defineProperty(t.prototype,\"trainableWeights\",{get:function(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"nonTrainableWeights\",{get:function(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)},enumerable:!0,configurable:!0}),t.prototype.setFastWeightInitDuringBuild=function(t){e.prototype.setFastWeightInitDuringBuild.call(this,t),null!=this.forwardLayer&&this.forwardLayer.setFastWeightInitDuringBuild(t),null!=this.backwardLayer&&this.backwardLayer.setFastWeightInitDuringBuild(t)},t.prototype.getConfig=function(){var t={mergeMode:this.mergeMode},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.fromConfig=function(e,t){var n=deserialize(t.layer);if(delete t.layer,null!=t.numConstants)throw new NotImplementedError(\"Deserialization of a Bidirectional layer with numConstants present is not supported yet.\");var r=t;return r.layer=n,new e(r)},t.className=\"Bidirectional\",t}(Wrapper);function inputLayer(e){return new InputLayer(e)}function elu$2(e){return new ELU(e)}function reLU(e){return new ReLU(e)}function leakyReLU(e){return new LeakyReLU(e)}function prelu$1(e){return new PReLU(e)}function softmax$1(e){return new Softmax$1(e)}function thresholdedReLU(e){return new ThresholdedReLU(e)}function conv1d$2(e){return new Conv1D(e)}function conv2d$2(e){return new Conv2D(e)}function conv2dTranspose$1(e){return new Conv2DTranspose(e)}function separableConv2d$1(e){return new SeparableConv2D(e)}function cropping2D(e){return new Cropping2D(e)}function upSampling2d(e){return new UpSampling2D(e)}function depthwiseConv2d$2(e){return new DepthwiseConv2D(e)}function activation(e){return new Activation$1(e)}function dense(e){return new Dense(e)}function dropout$1(e){return new Dropout(e)}function flatten$1(e){return new Flatten(e)}function repeatVector(e){return new RepeatVector(e)}function reshape(e){return new Reshape(e)}function permute(e){return new Permute(e)}function embedding(e){return new Embedding(e)}function add$2(e){return new Add(e)}function average$1(e){return new Average(e)}function concatenate$2(e){return new Concatenate(e)}function maximum$2(e){return new Maximum(e)}function minimum$2(e){return new Minimum(e)}function multiply$1(e){return new Multiply(e)}function dot$1(e){return new Dot(e)}function batchNormalization$1(e){return new BatchNormalization(e)}function zeroPadding2d(e){return new ZeroPadding2D(e)}function averagePooling1d(e){return new AveragePooling1D(e)}function avgPool1d(e){return averagePooling1d(e)}function avgPooling1d(e){return averagePooling1d(e)}function averagePooling2d(e){return new AveragePooling2D(e)}function avgPool2d(e){return averagePooling2d(e)}function avgPooling2d(e){return averagePooling2d(e)}function globalAveragePooling1d(e){return new GlobalAveragePooling1D(e)}function globalAveragePooling2d(e){return new GlobalAveragePooling2D(e)}function globalMaxPooling1d(e){return new GlobalMaxPooling1D(e)}function globalMaxPooling2d(e){return new GlobalMaxPooling2D(e)}function maxPooling1d(e){return new MaxPooling1D(e)}function maxPooling2d(e){return new MaxPooling2D(e)}function gru(e){return new GRU(e)}function gruCell(e){return new GRUCell(e)}function lstm(e){return new LSTM(e)}function lstmCell(e){return new LSTMCell(e)}function simpleRNN(e){return new SimpleRNN(e)}function simpleRNNCell(e){return new SimpleRNNCell(e)}function rnn$1(e){return new RNN(e)}function stackedRNNCells(e){return new StackedRNNCells(e)}function bidirectional(e){return new Bidirectional(e)}function timeDistributed(e){return new TimeDistributed(e)}serialization.registerClass(Bidirectional);var globalMaxPool1d=globalMaxPooling1d,globalMaxPool2d=globalMaxPooling2d,maxPool1d=maxPooling1d,maxPool2d=maxPooling2d,exports_layers=Object.freeze({inputLayer:inputLayer,elu:elu$2,reLU:reLU,leakyReLU:leakyReLU,prelu:prelu$1,softmax:softmax$1,thresholdedReLU:thresholdedReLU,conv1d:conv1d$2,conv2d:conv2d$2,conv2dTranspose:conv2dTranspose$1,separableConv2d:separableConv2d$1,cropping2D:cropping2D,upSampling2d:upSampling2d,depthwiseConv2d:depthwiseConv2d$2,activation:activation,dense:dense,dropout:dropout$1,flatten:flatten$1,repeatVector:repeatVector,reshape:reshape,permute:permute,embedding:embedding,add:add$2,average:average$1,concatenate:concatenate$2,maximum:maximum$2,minimum:minimum$2,multiply:multiply$1,dot:dot$1,batchNormalization:batchNormalization$1,zeroPadding2d:zeroPadding2d,averagePooling1d:averagePooling1d,avgPool1d:avgPool1d,avgPooling1d:avgPooling1d,averagePooling2d:averagePooling2d,avgPool2d:avgPool2d,avgPooling2d:avgPooling2d,globalAveragePooling1d:globalAveragePooling1d,globalAveragePooling2d:globalAveragePooling2d,globalMaxPooling1d:globalMaxPooling1d,globalMaxPooling2d:globalMaxPooling2d,maxPooling1d:maxPooling1d,maxPooling2d:maxPooling2d,gru:gru,gruCell:gruCell,lstm:lstm,lstmCell:lstmCell,simpleRNN:simpleRNN,simpleRNNCell:simpleRNNCell,rnn:rnn$1,stackedRNNCells:stackedRNNCells,bidirectional:bidirectional,timeDistributed:timeDistributed,globalMaxPool1d:globalMaxPool1d,globalMaxPool2d:globalMaxPool2d,maxPool1d:maxPool1d,maxPool2d:maxPool2d,Layer:Layer,RNN:RNN,RNNCell:RNNCell,input:input});function binaryAccuracy$1(e,t){return binaryAccuracy(e,t)}function binaryCrossentropy$2(e,t){return binaryCrossentropy$1(e,t)}function sparseCategoricalAccuracy$1(e,t){return sparseCategoricalAccuracy(e,t)}function categoricalAccuracy$1(e,t){return categoricalAccuracy(e,t)}function categoricalCrossentropy$2(e,t){return categoricalCrossentropy$1(e,t)}function precision$1(e,t){return precision(e,t)}function recall$1(e,t){return recall(e,t)}function cosineProximity$1(e,t){return cosineProximity(e,t)}function meanAbsoluteError$1(e,t){return meanAbsoluteError(e,t)}function meanAbsolutePercentageError$1(e,t){return meanAbsolutePercentageError(e,t)}function MAPE$2(e,t){return meanAbsolutePercentageError(e,t)}function mape$2(e,t){return meanAbsolutePercentageError(e,t)}function meanSquaredError$1(e,t){return meanSquaredError(e,t)}function MSE$2(e,t){return meanSquaredError(e,t)}function mse$2(e,t){return meanSquaredError(e,t)}var exports_metrics=Object.freeze({binaryAccuracy:binaryAccuracy$1,binaryCrossentropy:binaryCrossentropy$2,sparseCategoricalAccuracy:sparseCategoricalAccuracy$1,categoricalAccuracy:categoricalAccuracy$1,categoricalCrossentropy:categoricalCrossentropy$2,precision:precision$1,recall:recall$1,cosineProximity:cosineProximity$1,meanAbsoluteError:meanAbsoluteError$1,meanAbsolutePercentageError:meanAbsolutePercentageError$1,MAPE:MAPE$2,mape:mape$2,meanSquaredError:meanSquaredError$1,MSE:MSE$2,mse:mse$2}),exports_models=Object.freeze({modelFromJSON:modelFromJSON});function l1l2(e){return new L1L2(e)}function l1$1(e){return l1(e)}function l2$1(e){return l2(e)}var exports_regularizers=Object.freeze({l1l2:l1l2,l1:l1$1,l2:l2$1}),Callback=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.model=null,t}return __extends(t,e),t.prototype.setModel=function(e){if(!(e instanceof Model))throw new Error(\"model must be a Model, not some other Container\");this.model=e},t}(BaseCallback);export{exports_constraints as constraints,exports_initializers as initializers,exports_layers as layers,exports_metrics as metrics,exports_models as models,exports_regularizers as regularizers,CallbackList,CustomCallback,History,Callback,InputSpec,SymbolicTensor,Model,input,loadModel,model,registerCallbackConstructor,sequential,RNN,Sequential,LayerVariable,version as version_layers};\n//# sourceMappingURL=tf-layers.esm.js.map\n"]},"metadata":{},"sourceType":"module"}