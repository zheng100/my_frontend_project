{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Trigger = exports.Wrapper = undefined;\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _wolfy87Eventemitter = require('wolfy87-eventemitter');\n\nvar _wolfy87Eventemitter2 = _interopRequireDefault(_wolfy87Eventemitter);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar ee = new _wolfy87Eventemitter2.default();\n\nvar Trigger = _react2.default.createClass({\n  displayName: 'DownloadSvgTrigger',\n  propTypes: {\n    component: _react2.default.PropTypes.any,\n    filename: _react2.default.PropTypes.string,\n    eventName: _react2.default.PropTypes.string,\n    width: _react2.default.PropTypes.number,\n    height: _react2.default.PropTypes.number\n  },\n  getDefaultProps: function getDefaultProps() {\n    return {\n      filename: null,\n      width: 400,\n      height: 400,\n      eventName: 'downloadSvg',\n      component: 'button'\n    };\n  },\n  handleExport: function handleExport() {\n    // Request a PNG with a specific size.\n    ee.emit(this.props.eventName, {\n      width: this.props.width,\n      height: this.props.height,\n      filename: this.props.filename\n    });\n  },\n  render: function render() {\n    return _react2.default.createElement(this.props.component, {\n      className: this.props.className,\n      onClick: this.handleExport\n    }, this.props.children);\n  }\n});\n\nvar Wrapper = _react2.default.createClass({\n  displayName: 'DownloadSvgWrapper',\n  propTypes: {\n    filename: _react2.default.PropTypes.string,\n    listenFor: _react2.default.PropTypes.string\n  },\n  getInitialState: function getInitialState() {\n    return {\n      width: this.props.initialWidth || '100%',\n      height: this.props.initialHeight || '100%',\n      downloadableOptions: null,\n      creatingDownloadable: false\n    };\n  },\n  getDefaultProps: function getDefaultProps() {\n    return {\n      filename: 'untitled.png',\n      listenFor: 'downloadSvg'\n    };\n  },\n  componentDidMount: function componentDidMount() {\n    ee.addListener(this.props.listenFor, this.startDownload);\n    this.isChrome = navigator.userAgent.toLowerCase().indexOf('chrome') > -1;\n  },\n  componentDidUpdate: function componentDidUpdate(prevProps, prevState) {\n    if (!this.state.creatingDownloadable) return; // Finish creating downloadable data\n\n    var _state$downloadableOp = this.state.downloadableOptions;\n    var width = _state$downloadableOp.width;\n    var height = _state$downloadableOp.height;\n    var filename = this.state.downloadableOptions.filename;\n    if (!filename) filename = this.props.filename;\n\n    var $svg = _reactDom2.default.findDOMNode(this.wrapperNode).getElementsByTagName('svg')[0]; //\n\n\n    var $clone = $svg.cloneNode(true);\n    $clone.setAttribute('width', width);\n    $clone.setAttribute('height', height); // Reset to original size\n\n    this.setState({\n      width: prevState.width,\n      height: prevState.height,\n      downloadableOptions: null,\n      creatingDownloadable: false\n    });\n    var svgData = new XMLSerializer().serializeToString($clone);\n    var canvas = document.createElement('canvas'); // Image will be scaled to the requested size.\n    // var size = data.requestedSize;\n\n    canvas.setAttribute('width', width);\n    canvas.setAttribute('height', height);\n    var ctx = canvas.getContext('2d');\n    var img = document.createElement('img'); // New window for the image when it's loaded\n\n    if (!this.isChrome) window.open('', 'download');\n\n    img.onload = function () {\n      ctx.drawImage(img, 0, 0, width, height); // `download` attr is not well supported\n      // Will result in a download popup for chrome and the\n      // image opening in a new tab for others.\n\n      var a = document.createElement('a');\n      a.setAttribute('href', canvas.toDataURL('image/png'));\n      a.setAttribute('target', 'download');\n      a.setAttribute('download', filename);\n      a.click();\n    };\n\n    img.setAttribute('src', 'data:image/svg+xml;base64,' + btoa(svgData));\n  },\n\n  /**\n   * Expects object with:\n   * width: Number\n   * height: Number\n   * filename: String (optional)\n   */\n  startDownload: function startDownload(data) {\n    this.setState({\n      width: data.width,\n      height: data.height,\n      downloadableOptions: data,\n      creatingDownloadable: true\n    });\n  },\n  render: function render() {\n    var _this = this;\n\n    var _state = this.state;\n    var width = _state.width;\n    var height = _state.height;\n\n    var childrenWithProps = _react2.default.Children.map(this.props.children, function (child) {\n      return _react2.default.cloneElement(child, {\n        width: width,\n        height: height\n      });\n    });\n\n    return _react2.default.createElement('div', {\n      ref: function ref(node) {\n        return _this.wrapperNode = node;\n      }\n    }, childrenWithProps);\n  }\n});\n\nexports.Wrapper = Wrapper;\nexports.Trigger = Trigger;","map":{"version":3,"sources":["/Users/BobbyZheng/Desktop/INFO_253/Final_project/group-project-bmt/node_modules/react-download-svg/lib/index.js"],"names":["Object","defineProperty","exports","value","Trigger","Wrapper","undefined","_reactDom","require","_reactDom2","_interopRequireDefault","_react","_react2","_wolfy87Eventemitter","_wolfy87Eventemitter2","obj","__esModule","default","ee","createClass","displayName","propTypes","component","PropTypes","any","filename","string","eventName","width","number","height","getDefaultProps","handleExport","emit","props","render","createElement","className","onClick","children","listenFor","getInitialState","initialWidth","initialHeight","downloadableOptions","creatingDownloadable","componentDidMount","addListener","startDownload","isChrome","navigator","userAgent","toLowerCase","indexOf","componentDidUpdate","prevProps","prevState","state","_state$downloadableOp","$svg","findDOMNode","wrapperNode","getElementsByTagName","$clone","cloneNode","setAttribute","setState","svgData","XMLSerializer","serializeToString","canvas","document","ctx","getContext","img","window","open","onload","drawImage","a","toDataURL","click","btoa","data","_this","_state","childrenWithProps","Children","map","child","cloneElement","ref","node"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Trigger = exports.Wrapper = undefined;\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _wolfy87Eventemitter = require('wolfy87-eventemitter');\n\nvar _wolfy87Eventemitter2 = _interopRequireDefault(_wolfy87Eventemitter);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ee = new _wolfy87Eventemitter2.default();\n\nvar Trigger = _react2.default.createClass({\n  displayName: 'DownloadSvgTrigger',\n  propTypes: {\n    component: _react2.default.PropTypes.any,\n    filename: _react2.default.PropTypes.string,\n    eventName: _react2.default.PropTypes.string,\n    width: _react2.default.PropTypes.number,\n    height: _react2.default.PropTypes.number\n  },\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      filename: null,\n      width: 400,\n      height: 400,\n      eventName: 'downloadSvg',\n      component: 'button'\n    };\n  },\n\n  handleExport: function handleExport() {\n    // Request a PNG with a specific size.\n    ee.emit(this.props.eventName, {\n      width: this.props.width,\n      height: this.props.height,\n      filename: this.props.filename\n    });\n  },\n\n  render: function render() {\n    return _react2.default.createElement(this.props.component, {\n      className: this.props.className,\n      onClick: this.handleExport\n    }, this.props.children);\n  }\n});\n\nvar Wrapper = _react2.default.createClass({\n  displayName: 'DownloadSvgWrapper',\n  propTypes: {\n    filename: _react2.default.PropTypes.string,\n    listenFor: _react2.default.PropTypes.string\n  },\n\n  getInitialState: function getInitialState() {\n    return {\n      width: this.props.initialWidth || '100%',\n      height: this.props.initialHeight || '100%',\n      downloadableOptions: null,\n      creatingDownloadable: false\n    };\n  },\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      filename: 'untitled.png',\n      listenFor: 'downloadSvg'\n    };\n  },\n\n  componentDidMount: function componentDidMount() {\n    ee.addListener(this.props.listenFor, this.startDownload);\n    this.isChrome = navigator.userAgent.toLowerCase().indexOf('chrome') > -1;\n  },\n\n  componentDidUpdate: function componentDidUpdate(prevProps, prevState) {\n    if (!this.state.creatingDownloadable) return;\n\n    // Finish creating downloadable data\n    var _state$downloadableOp = this.state.downloadableOptions;\n    var width = _state$downloadableOp.width;\n    var height = _state$downloadableOp.height;\n\n    var filename = this.state.downloadableOptions.filename;\n    if (!filename) filename = this.props.filename;\n    var $svg = _reactDom2.default.findDOMNode(this.wrapperNode).getElementsByTagName('svg')[0];\n    //\n    var $clone = $svg.cloneNode(true);\n\n    $clone.setAttribute('width', width);\n    $clone.setAttribute('height', height);\n\n    // Reset to original size\n    this.setState({\n      width: prevState.width,\n      height: prevState.height,\n      downloadableOptions: null,\n      creatingDownloadable: false\n    });\n\n    var svgData = new XMLSerializer().serializeToString($clone);\n\n    var canvas = document.createElement('canvas');\n\n    // Image will be scaled to the requested size.\n    // var size = data.requestedSize;\n    canvas.setAttribute('width', width);\n    canvas.setAttribute('height', height);\n\n    var ctx = canvas.getContext('2d');\n\n    var img = document.createElement('img');\n\n    // New window for the image when it's loaded\n    if (!this.isChrome) window.open('', 'download');\n\n    img.onload = function () {\n      ctx.drawImage(img, 0, 0, width, height);\n      // `download` attr is not well supported\n      // Will result in a download popup for chrome and the\n      // image opening in a new tab for others.\n\n      var a = document.createElement('a');\n      a.setAttribute('href', canvas.toDataURL('image/png'));\n      a.setAttribute('target', 'download');\n      a.setAttribute('download', filename);\n      a.click();\n    };\n\n    img.setAttribute('src', 'data:image/svg+xml;base64,' + btoa(svgData));\n  },\n\n  /**\n   * Expects object with:\n   * width: Number\n   * height: Number\n   * filename: String (optional)\n   */\n  startDownload: function startDownload(data) {\n    this.setState({\n      width: data.width,\n      height: data.height,\n      downloadableOptions: data,\n      creatingDownloadable: true\n    });\n  },\n\n  render: function render() {\n    var _this = this;\n\n    var _state = this.state;\n    var width = _state.width;\n    var height = _state.height;\n\n\n    var childrenWithProps = _react2.default.Children.map(this.props.children, function (child) {\n      return _react2.default.cloneElement(child, {\n        width: width,\n        height: height\n      });\n    });\n\n    return _react2.default.createElement(\n      'div',\n      { ref: function ref(node) {\n          return _this.wrapperNode = node;\n        } },\n      childrenWithProps\n    );\n  }\n});\n\nexports.Wrapper = Wrapper;\nexports.Trigger = Trigger;"]},"metadata":{},"sourceType":"script"}