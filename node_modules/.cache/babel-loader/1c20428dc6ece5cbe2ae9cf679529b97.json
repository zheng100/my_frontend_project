{"ast":null,"code":"var canvasToImage = canvasToImage || function (p) {\n  \"use strict\";\n\n  if (\"undefined\" == typeof navigator || !/MSIE [1-9]\\./.test(navigator.userAgent)) {\n    var e,\n        m,\n        g,\n        v,\n        w,\n        y,\n        h,\n        S,\n        t,\n        i = i || (e = p.document, m = e.createElementNS(\"http://www.w3.org/1999/xhtml\", \"a\"), g = \"download\" in m, v = /Version\\/[\\d\\.]+.*Safari/.test(navigator.userAgent), w = p.webkitRequestFileSystem, y = p.requestFileSystem || w || p.mozRequestFileSystem, h = \"application/octet-stream\", S = 0, t = a.prototype, \"undefined\" != typeof navigator && navigator.msSaveOrOpenBlob ? function (e, t, n) {\n      return n || (e = E(e)), navigator.msSaveOrOpenBlob(e, t || \"download\");\n    } : (t.abort = function () {\n      this.readyState = this.DONE, O(this, \"abort\");\n    }, t.readyState = t.INIT = 0, t.WRITING = 1, t.DONE = 2, t.error = t.onwritestart = t.onprogress = t.onwrite = t.onabort = t.onerror = t.onwriteend = null, function (e, t, n) {\n      return new a(e, t, n);\n    })),\n        c = function c(e, t, n) {\n      t = t || \"\", n = n || 512;\n\n      for (var a = atob(e), o = [], r = 0; r < a.length; r += n) {\n        for (var i = a.slice(r, r + n), c = new Array(i.length), f = 0; f < i.length; f++) {\n          c[f] = i.charCodeAt(f);\n        }\n\n        var u = new Uint8Array(c);\n        o.push(u);\n      }\n\n      return new Blob(o, {\n        type: t\n      });\n    };\n\n    return function (e, t, n) {\n      var a;\n      \"object\" == typeof t ? (name = t.name || \"image\", n = t.type || \"png\", a = t.quality || 1) : (name = t || \"image\", n = n || \"png\");\n      var o,\n          r = (o = e) instanceof Element || o instanceof HTMLDocument ? e : document.getElementById(e);\n\n      switch (n = n.toLowerCase()) {\n        case \"jpg\":\n          !function (e, t, n) {\n            t += \".jpg\";\n            var a = e.toDataURL(\"image/jpeg\", n);\n            a = a.replace(/^data:image\\/jpeg;base64,/, \"\");\n            var o = c(a, \"image/jpeg\");\n            i(o, t);\n          }(r, name, a);\n          break;\n\n        default:\n          !function (e, t, n) {\n            t += \".png\";\n            var a = e.toDataURL(\"image/png\", n);\n            a = a.replace(/^data:image\\/png;base64,/, \"\");\n            var o = c(a, \"image/png\");\n            i(o, t);\n          }(r, name, a);\n      }\n    };\n  }\n\n  function b() {\n    return p.URL || p.webkitURL || p;\n  }\n\n  function r(e) {\n    (p.setImmediate || p.setTimeout)(function () {\n      throw e;\n    }, 0);\n  }\n\n  function R(e) {\n    setTimeout(function () {\n      \"string\" == typeof e ? b().revokeObjectURL(e) : e.remove();\n    }, 4e4);\n  }\n\n  function O(e, t, n) {\n    for (var a = (t = [].concat(t)).length; a--;) {\n      var o = e[\"on\" + t[a]];\n      if (\"function\" == typeof o) try {\n        o.call(e, n || e);\n      } catch (e) {\n        r(e);\n      }\n    }\n  }\n\n  function E(e) {\n    return /^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(e.type) ? new Blob([\"ï»¿\", e], {\n      type: e.type\n    }) : e;\n  }\n\n  function a(a, n, e) {\n    function o() {\n      O(u, \"writestart progress write writeend\".split(\" \"));\n    }\n\n    function r() {\n      if (f && v && \"undefined\" != typeof FileReader) {\n        var t = new FileReader();\n        return t.onloadend = function () {\n          var e = t.result;\n          f.location.href = \"data:attachment/file\" + e.slice(e.search(/[,;]/)), u.readyState = u.DONE, o();\n        }, t.readAsDataURL(a), void (u.readyState = u.INIT);\n      }\n\n      !s && c || (c = b().createObjectURL(a)), f ? f.location.href = c : void 0 === p.open(c, \"_blank\") && v && (p.location.href = c), u.readyState = u.DONE, o(), R(c);\n    }\n\n    function i(e) {\n      return function () {\n        if (u.readyState !== u.DONE) return e.apply(this, arguments);\n      };\n    }\n\n    e || (a = E(a));\n    var c,\n        f,\n        t,\n        u = this,\n        d = a.type,\n        s = !1,\n        l = {\n      create: !0,\n      exclusive: !1\n    };\n    if (u.readyState = u.INIT, n = n || \"download\", g) return c = b().createObjectURL(a), void setTimeout(function () {\n      var e, t;\n      m.href = c, m.download = n, e = m, t = new MouseEvent(\"click\"), e.dispatchEvent(t), o(), R(c), u.readyState = u.DONE;\n    });\n    p.chrome && d && d !== h && (t = a.slice || a.webkitSlice, a = t.call(a, 0, a.size, h), s = !0), w && \"download\" !== n && (n += \".download\"), d !== h && !w || (f = p), y ? (S += a.size, y(p.TEMPORARY, S, i(function (e) {\n      e.root.getDirectory(\"saved\", l, i(function (e) {\n        function t() {\n          e.getFile(n, l, i(function (n) {\n            n.createWriter(i(function (t) {\n              t.onwriteend = function (e) {\n                f.location.href = n.toURL(), u.readyState = u.DONE, O(u, \"writeend\", e), R(n);\n              }, t.onerror = function () {\n                var e = t.error;\n                e.code !== e.ABORT_ERR && r();\n              }, \"writestart progress write abort\".split(\" \").forEach(function (e) {\n                t[\"on\" + e] = u[\"on\" + e];\n              }), t.write(a), u.abort = function () {\n                t.abort(), u.readyState = u.DONE;\n              }, u.readyState = u.WRITING;\n            }), r);\n          }), r);\n        }\n\n        e.getFile(n, {\n          create: !1\n        }, i(function (e) {\n          e.remove(), t();\n        }), i(function (e) {\n          (e.code === e.NOT_FOUND_ERR ? t : r)();\n        }));\n      }), r);\n    }), r)) : r();\n  }\n}(\"undefined\" != typeof self && self || \"undefined\" != typeof window && window || this.content);\n\n\"undefined\" != typeof module && module.exports ? module.exports = canvasToImage : \"undefined\" != typeof define && null !== define && null !== define.amd && define([], function () {\n  return canvasToImage;\n});","map":{"version":3,"sources":["/Users/BobbyZheng/Desktop/INFO_253/Final_project/group-project-bmt/node_modules/canvas-to-image/js/canvas-to-image.min.js"],"names":["canvasToImage","p","navigator","test","userAgent","e","m","g","v","w","y","h","S","t","i","document","createElementNS","webkitRequestFileSystem","requestFileSystem","mozRequestFileSystem","a","prototype","msSaveOrOpenBlob","n","E","abort","readyState","DONE","O","INIT","WRITING","error","onwritestart","onprogress","onwrite","onabort","onerror","onwriteend","c","atob","o","r","length","slice","Array","f","charCodeAt","u","Uint8Array","push","Blob","type","name","quality","Element","HTMLDocument","getElementById","toLowerCase","toDataURL","replace","b","URL","webkitURL","setImmediate","setTimeout","R","revokeObjectURL","remove","concat","call","split","FileReader","onloadend","result","location","href","search","readAsDataURL","s","createObjectURL","open","apply","arguments","d","l","create","exclusive","download","MouseEvent","dispatchEvent","chrome","webkitSlice","size","TEMPORARY","root","getDirectory","getFile","createWriter","toURL","code","ABORT_ERR","forEach","write","NOT_FOUND_ERR","self","window","content","module","exports","define","amd"],"mappings":"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","sourcesContent":["var canvasToImage=canvasToImage||function(p){\"use strict\";if(\"undefined\"==typeof navigator||!/MSIE [1-9]\\./.test(navigator.userAgent)){var e,m,g,v,w,y,h,S,t,i=i||(e=p.document,m=e.createElementNS(\"http://www.w3.org/1999/xhtml\",\"a\"),g=\"download\"in m,v=/Version\\/[\\d\\.]+.*Safari/.test(navigator.userAgent),w=p.webkitRequestFileSystem,y=p.requestFileSystem||w||p.mozRequestFileSystem,h=\"application/octet-stream\",S=0,t=a.prototype,\"undefined\"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,n){return n||(e=E(e)),navigator.msSaveOrOpenBlob(e,t||\"download\")}:(t.abort=function(){this.readyState=this.DONE,O(this,\"abort\")},t.readyState=t.INIT=0,t.WRITING=1,t.DONE=2,t.error=t.onwritestart=t.onprogress=t.onwrite=t.onabort=t.onerror=t.onwriteend=null,function(e,t,n){return new a(e,t,n)})),c=function(e,t,n){t=t||\"\",n=n||512;for(var a=atob(e),o=[],r=0;r<a.length;r+=n){for(var i=a.slice(r,r+n),c=new Array(i.length),f=0;f<i.length;f++)c[f]=i.charCodeAt(f);var u=new Uint8Array(c);o.push(u)}return new Blob(o,{type:t})};return function(e,t,n){var a;\"object\"==typeof t?(name=t.name||\"image\",n=t.type||\"png\",a=t.quality||1):(name=t||\"image\",n=n||\"png\");var o,r=(o=e)instanceof Element||o instanceof HTMLDocument?e:document.getElementById(e);switch(n=n.toLowerCase()){case\"jpg\":!function(e,t,n){t+=\".jpg\";var a=e.toDataURL(\"image/jpeg\",n);a=a.replace(/^data:image\\/jpeg;base64,/,\"\");var o=c(a,\"image/jpeg\");i(o,t)}(r,name,a);break;default:!function(e,t,n){t+=\".png\";var a=e.toDataURL(\"image/png\",n);a=a.replace(/^data:image\\/png;base64,/,\"\");var o=c(a,\"image/png\");i(o,t)}(r,name,a)}}}function b(){return p.URL||p.webkitURL||p}function r(e){(p.setImmediate||p.setTimeout)(function(){throw e},0)}function R(e){setTimeout(function(){\"string\"==typeof e?b().revokeObjectURL(e):e.remove()},4e4)}function O(e,t,n){for(var a=(t=[].concat(t)).length;a--;){var o=e[\"on\"+t[a]];if(\"function\"==typeof o)try{o.call(e,n||e)}catch(e){r(e)}}}function E(e){return/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(e.type)?new Blob([\"ï»¿\",e],{type:e.type}):e}function a(a,n,e){function o(){O(u,\"writestart progress write writeend\".split(\" \"))}function r(){if(f&&v&&\"undefined\"!=typeof FileReader){var t=new FileReader;return t.onloadend=function(){var e=t.result;f.location.href=\"data:attachment/file\"+e.slice(e.search(/[,;]/)),u.readyState=u.DONE,o()},t.readAsDataURL(a),void(u.readyState=u.INIT)}!s&&c||(c=b().createObjectURL(a)),f?f.location.href=c:void 0===p.open(c,\"_blank\")&&v&&(p.location.href=c),u.readyState=u.DONE,o(),R(c)}function i(e){return function(){if(u.readyState!==u.DONE)return e.apply(this,arguments)}}e||(a=E(a));var c,f,t,u=this,d=a.type,s=!1,l={create:!0,exclusive:!1};if(u.readyState=u.INIT,n=n||\"download\",g)return c=b().createObjectURL(a),void setTimeout(function(){var e,t;m.href=c,m.download=n,e=m,t=new MouseEvent(\"click\"),e.dispatchEvent(t),o(),R(c),u.readyState=u.DONE});p.chrome&&d&&d!==h&&(t=a.slice||a.webkitSlice,a=t.call(a,0,a.size,h),s=!0),w&&\"download\"!==n&&(n+=\".download\"),d!==h&&!w||(f=p),y?(S+=a.size,y(p.TEMPORARY,S,i(function(e){e.root.getDirectory(\"saved\",l,i(function(e){function t(){e.getFile(n,l,i(function(n){n.createWriter(i(function(t){t.onwriteend=function(e){f.location.href=n.toURL(),u.readyState=u.DONE,O(u,\"writeend\",e),R(n)},t.onerror=function(){var e=t.error;e.code!==e.ABORT_ERR&&r()},\"writestart progress write abort\".split(\" \").forEach(function(e){t[\"on\"+e]=u[\"on\"+e]}),t.write(a),u.abort=function(){t.abort(),u.readyState=u.DONE},u.readyState=u.WRITING}),r)}),r)}e.getFile(n,{create:!1},i(function(e){e.remove(),t()}),i(function(e){(e.code===e.NOT_FOUND_ERR?t:r)()}))}),r)}),r)):r()}}(\"undefined\"!=typeof self&&self||\"undefined\"!=typeof window&&window||this.content);\"undefined\"!=typeof module&&module.exports?module.exports=canvasToImage:\"undefined\"!=typeof define&&null!==define&&null!==define.amd&&define([],function(){return canvasToImage});"]},"metadata":{},"sourceType":"script"}