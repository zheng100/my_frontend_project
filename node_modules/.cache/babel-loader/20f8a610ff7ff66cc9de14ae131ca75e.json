{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/BobbyZheng/Desktop/INFO_253/Final_project/group-project-bmt/src/App.js\",\n    _s = $RefreshSig$();\n\nimport './App.css';\nimport React, { useState, useEffect } from \"react\";\nimport Cluster from './components/Cluster';\nimport ModAvatar from './components/ModAvatar';\nimport avatarData from './data';\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\nimport ToggleGroup from './components/Buttons';\nimport PokeStyleFusion from './components/PokeStyleFusion';\nimport { saveSvgAsPng } from 'save-svg-as-png';\nimport Header from './statics/Header'; // Data source 1 for style data 2 for initial avatar data\n\nconst datafromBackend = avatarData('style');\nconst initava = avatarData('init'); // Color for DRAGBALES\n\nconst POKETAR_WHITE = \"#ffffff\";\nconst POKETAR_BLUE = \"#5db9ff\";\nconst POKETAR_PURPLE = \"#DAF7A6\"; //face component selected color?\n\nconst POKETAR_RED = \"#ff1f1f\";\nconst POKETAR_YELLOW = \"#ffffff\"; // face component selections?\n// main app\n\nfunction App() {\n  _s();\n\n  // state that holds current avatar look\n  const [avaDetails, setavaDetails] = useState(initava);\n  const [colorDisplay, setcolorDisplay] = useState(initava['hairColor']); // console.log(avaDetails);\n\n  useEffect(() => {\n    console.log(\"details Changed\");\n  }, [avaDetails]); // function that handles drag ending event\n\n  function handleOnDragEnd(result) {\n    if (!result.destination) return;\n    const {\n      source,\n      destination\n    } = result;\n\n    if (destination.droppableId === 'MainAvatar') {\n      const draggable_string = result.draggableId; // console.log(result);\n\n      const regfound_tags = draggable_string.match(/([A-Za-z]+)_([A-Za-z]+)/);\n      const [type, style] = [regfound_tags[1], regfound_tags[2]];\n      const newDetails = handleOnChangeAvatar(type, style);\n      setavaDetails(newDetails);\n    }\n  } // update current avatar look\n\n\n  function handleOnChangeAvatar(type, style) {\n    const updatedDetails = avaDetails;\n    updatedDetails[type] = style;\n    return updatedDetails; // console.log(avaDetails);  \n  }\n\n  function saveImage() {\n    saveSvgAsPng(document.getElementById(\"my_ava\").childNodes[0], \"avatar.png\");\n  }\n\n  function confirmAva() {\n    setavaDetails(avaDetails);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"body_content\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \" Step 1: Let's Create Your Avatar Interactively!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"colorRow1\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"colorRow1_one\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Skin Color\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ToggleGroup, {\n            colorCode: avatarData('skinColor'),\n            colorType: \"skinColor\",\n            changeColorFun: setcolorDisplay,\n            updateFunction: handleOnChangeAvatar\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"colorRow1_two\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Hair Color\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ToggleGroup, {\n            colorCode: avatarData('hairColor'),\n            colorType: \"hairColor\",\n            changeColorFun: setcolorDisplay,\n            updateFunction: handleOnChangeAvatar\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"colorRow2\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"colorRow2_one\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Cloth Color\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ToggleGroup, {\n            colorCode: avatarData('clotheColor'),\n            colorType: \"clotheColor\",\n            changeColorFun: setcolorDisplay,\n            updateFunction: handleOnChangeAvatar\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(DragDropContext, {\n          onDragEnd: handleOnDragEnd,\n          children: [/*#__PURE__*/_jsxDEV(Droppable, {\n            droppableId: \"MainAvatar\",\n            children: (provided, snapshot) => {\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                id: \"my_ava\",\n                ...provided.droppableProps,\n                ref: provided.innerRef,\n                style: {\n                  background: snapshot.isDraggingOver ? POKETAR_BLUE : POKETAR_WHITE\n                },\n                children: /*#__PURE__*/_jsxDEV(ModAvatar, {\n                  avaDetails: avaDetails\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 107,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 23\n              }, this);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \" Step 2: Drag and Drop items to Change his look! \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 15\n          }, this), Object.entries(datafromBackend).map(([type, styles]) => {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(Droppable, {\n                droppableId: type,\n                children: (provided, snapshot) => {\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"OverflowColumn\",\n                    ...provided.droppableProps,\n                    ref: provided.innerRef,\n                    style: {\n                      background: snapshot.isDraggingOver ? POKETAR_BLUE : POKETAR_WHITE\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                      className: \"addons\",\n                      children: styles.map((style, index) => {\n                        return (\n                          /*#__PURE__*/\n                          // Each item in the column is a draggable\n                          _jsxDEV(Draggable, {\n                            draggableId: type + '_' + style,\n                            index: index,\n                            onDragEnd: setavaDetails,\n                            children: (provided, snapshot) => {\n                              return /*#__PURE__*/_jsxDEV(\"div\", {\n                                ref: provided.innerRef,\n                                ...provided.draggableProps,\n                                ...provided.dragHandleProps,\n                                style: {\n                                  backgroundColor: snapshot.isDragging ? POKETAR_PURPLE : POKETAR_YELLOW,\n                                  color: POKETAR_WHITE,\n                                  ...provided.draggableProps.style\n                                },\n                                children: /*#__PURE__*/_jsxDEV(\"li\", {\n                                  children: /*#__PURE__*/_jsxDEV(\"wrap\", {\n                                    className: \"selectAble\",\n                                    children: /*#__PURE__*/_jsxDEV(Cluster, {\n                                      type: type,\n                                      style: style\n                                    }, void 0, false, {\n                                      fileName: _jsxFileName,\n                                      lineNumber: 140,\n                                      columnNumber: 60\n                                    }, this)\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 139,\n                                    columnNumber: 55\n                                  }, this)\n                                }, type + style, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 138,\n                                  columnNumber: 51\n                                }, this)\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 134,\n                                columnNumber: 46\n                              }, this);\n                            }\n                          }, index, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 132,\n                            columnNumber: 35\n                          }, this)\n                        );\n                      })\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 128,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 122,\n                    columnNumber: 23\n                  }, this);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 19\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"Avatar_save\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: saveImage,\n          id: \"save_button\",\n          children: \"Save Image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(PokeStyleFusion, {\n          currentAva: avaDetails\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"mrCKqbtoseshsJO1Xf1DdKQQz0w=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/BobbyZheng/Desktop/INFO_253/Final_project/group-project-bmt/src/App.js"],"names":["React","useState","useEffect","Cluster","ModAvatar","avatarData","DragDropContext","Droppable","Draggable","ToggleGroup","PokeStyleFusion","saveSvgAsPng","Header","datafromBackend","initava","POKETAR_WHITE","POKETAR_BLUE","POKETAR_PURPLE","POKETAR_RED","POKETAR_YELLOW","App","avaDetails","setavaDetails","colorDisplay","setcolorDisplay","console","log","handleOnDragEnd","result","destination","source","droppableId","draggable_string","draggableId","regfound_tags","match","type","style","newDetails","handleOnChangeAvatar","updatedDetails","saveImage","document","getElementById","childNodes","confirmAva","provided","snapshot","droppableProps","innerRef","background","isDraggingOver","Object","entries","map","styles","index","draggableProps","dragHandleProps","backgroundColor","isDragging","color"],"mappings":"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","sourcesContent":["import './App.css';\nimport React , {useState, useEffect} from \"react\";\nimport Cluster from './components/Cluster';\nimport ModAvatar from './components/ModAvatar';\nimport avatarData from './data';\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\nimport ToggleGroup from './components/Buttons';\nimport PokeStyleFusion from './components/PokeStyleFusion';\nimport {saveSvgAsPng} from 'save-svg-as-png';\nimport Header from './statics/Header';\n\n// Data source 1 for style data 2 for initial avatar data\nconst datafromBackend = avatarData('style')\nconst initava = avatarData('init')\n\n// Color for DRAGBALES\n\nconst POKETAR_WHITE = \"#ffffff\"\nconst POKETAR_BLUE = \"#5db9ff\"\nconst POKETAR_PURPLE = \"#DAF7A6\" //face component selected color?\nconst POKETAR_RED = \"#ff1f1f\"\nconst POKETAR_YELLOW = \"#ffffff\" // face component selections?\n\n// main app\nfunction App() {\n  // state that holds current avatar look\n  const [avaDetails, setavaDetails] = useState(initava);\n  const [colorDisplay, setcolorDisplay] = useState(initava['hairColor']);\n  \n\n  // console.log(avaDetails);\n\n  useEffect(() =>{\n    console.log(\"details Changed\")\n  },[avaDetails])\n\n\n\n  // function that handles drag ending event\n  function handleOnDragEnd(result){\n    if(!result.destination) return;\n    const{source,destination} = result;\n    if (destination.droppableId === 'MainAvatar'){\n        const draggable_string = result.draggableId;\n        // console.log(result);\n        const regfound_tags = draggable_string.match(/([A-Za-z]+)_([A-Za-z]+)/);\n        const [type, style] = [regfound_tags[1], regfound_tags[2]];\n        const newDetails = handleOnChangeAvatar(type, style);\n        setavaDetails(newDetails);\n        \n    }\n  }\n  \n  // update current avatar look\n  function handleOnChangeAvatar(type, style) {\n    const updatedDetails = avaDetails;\n    updatedDetails[type] = style;\n    return updatedDetails;\n    // console.log(avaDetails);  \n    }\n  \n  \n  function saveImage(){\n    saveSvgAsPng(document.getElementById(\"my_ava\").childNodes[0], \"avatar.png\")\n  }\n\n  function confirmAva(){\n    setavaDetails(avaDetails);\n  }\n  return (\n    \n    \n    <div>\n        <Header/>\n        <div id = 'body_content'>\n        <h2> Step 1: Let's Create Your Avatar Interactively!</h2>\n\n        <div id = 'colorRow1'>\n          <div id = 'colorRow1_one'>\n            <h3>Skin Color</h3>\n            <ToggleGroup colorCode = {avatarData('skinColor')} colorType = 'skinColor' changeColorFun = {setcolorDisplay} updateFunction = {handleOnChangeAvatar}/> \n          </div> \n          <div id = 'colorRow1_two'>\n            <h3>Hair Color</h3>\n            <ToggleGroup colorCode = {avatarData('hairColor')} colorType = 'hairColor' changeColorFun = {setcolorDisplay} updateFunction = {handleOnChangeAvatar}/> \n          </div>\n        </div>\n\n\n        <div id = 'colorRow2'>\n          <div id = 'colorRow2_one'>\n            <h3>Cloth Color</h3>\n            <ToggleGroup colorCode = {avatarData('clotheColor')} colorType = 'clotheColor' changeColorFun = {setcolorDisplay} updateFunction = {handleOnChangeAvatar}/> </div>\n        </div>\n\n\n        <div >\n          <DragDropContext onDragEnd = {handleOnDragEnd} >\n              {/* Dropable portion that of the Avatar display */}  \n              <Droppable droppableId = \"MainAvatar\" > \n                  {(provided,snapshot) => {\n                    return (\n                      <div id = \"my_ava\"\n                        {...provided.droppableProps} ref={provided.innerRef} \n                        style = {{\n                        background: snapshot.isDraggingOver? POKETAR_BLUE: POKETAR_WHITE}}>\n                        <ModAvatar avaDetails = {avaDetails}/>\n                      </div>)\n                  }}\n              </Droppable>\n              <div>\n                <h2> Step 2: Drag and Drop items to Change his look! </h2>\n              </div>\n              {/* Double loop that go through all possible type of looking and styles */} \n              {Object.entries(datafromBackend).map(([type, styles]) =>{\n                return(\n                  <div>\n                    {/* Each column is also a droppable */} \n                    <Droppable droppableId = {type} >\n                    {(provided, snapshot) => {\n                    return(\n                      <div className = 'OverflowColumn'\n                      {...provided.droppableProps} ref={provided.innerRef} \n                      style = {{\n                          background: snapshot.isDraggingOver? POKETAR_BLUE: POKETAR_WHITE,\n                      }}\n                      >\n                      <ul className = 'addons'>\n                          {styles.map((style,index) => {\n                              return (\n                                  // Each item in the column is a draggable\n                                  <Draggable draggableId = {type + '_' +style} index={index} key={index} onDragEnd = {setavaDetails}>\n                                  {(provided, snapshot) => {\n                                      return(<div\n                                                  ref={provided.innerRef} {...provided.draggableProps} {...provided.dragHandleProps}\n                                                  style = {{ backgroundColor: snapshot.isDragging? POKETAR_PURPLE : POKETAR_YELLOW , color: POKETAR_WHITE, ...provided.draggableProps.style\n                                                  }}>\n                                                  <li key ={type + style}>\n                                                      <wrap className = \"selectAble\">\n                                                          {<Cluster type = {type} style = {style}/>}\n                                                      </wrap>\n                                                  </li>\n                                              </div>); \n                                  }}\n                                  </Draggable>\n                              ); \n                              })\n                          }\n                      </ul>\n                      </div>)\n                      }}\n                    </Droppable>\n                  </div>);\n              })}\n          </DragDropContext>\n        </div> \n        \n\n        <div id = 'Avatar_save'>\n          <button onClick = {saveImage} id = 'save_button'>\n            Save Image\n          </button>\n        </div>\n\n\n        <div>\n          <PokeStyleFusion currentAva = {avaDetails}/>\n        </div>\n        </div>\n\n    </div>\n  );\n}\n\nexport default App;\n\n"]},"metadata":{},"sourceType":"module"}